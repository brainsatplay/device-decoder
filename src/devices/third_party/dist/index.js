(()=>{var Ft=class{constructor(){this.recursivelyAssign=(e,s)=>{for(let u in s)typeof s[u]=="object"?typeof e[u]=="object"?this.recursivelyAssign(e[u],s[u]):e[u]=this.recursivelyAssign({},s[u]):e[u]=s[u];return e}}static autoscale(e,s=0,u=1,l=!1,p,a,i){if(e?.length===0)return e;let r=a||Math.max(...e),n=p||Math.min(...e),o=1/u,c=1;if(l){let f=Math.max(Math.abs(n),Math.abs(r));return f!==0&&(c=o/f),e.map(h=>(i&&(h<n&&(h=n),h>r&&(h=r)),h*c+(o*(s+1)*2-1-o)))}else return r===n?r!==0?c=o/r:n!==0&&(c=o/Math.abs(n)):c=o/(r-n),e.map(f=>(i&&(f<n&&(f=n),f>r&&(f=r)),2*((f-n)*c-1/(2*u))+(o*(s+1)*2-1-o)))}static genTimestamps(e,s){let u=Date.now(),l=[u-e*1e3/s,u];return Ft.upsample(l,e)}static absmax(e){return Math.max(Math.abs(Math.min(...e)),Math.max(...e))}static downsample(e,s,u=1){if(e.length>s){let l=new Array(s),p=e.length/s,a=e.length-1,i=0,r=0;for(let n=p;n<e.length;n+=p){let o=Math.round(n);o>a&&(o=a);for(let c=i;c<o;c++)l[r]+=e[c];l[r]/=(o-i)*u,r++,i=o}return l}else return e}static upsample(e,s,u=1){var l=function(f,h,d){return(f+(h-f)*d)*u},p=new Array(s),a=(e.length-1)/(s-1);p[0]=e[0];for(var i=1;i<s-1;i++){var r=i*a,n=Math.floor(r),o=Math.ceil(r),c=r-n;p[i]=l(e[n],e[o],c)}return p[s-1]=e[e.length-1],p}static interpolate(e,s,u=1){return e.length>s?Ft.downsample(e,s,u):e.length<s?Ft.upsample(e,s,u):e}static HSLToRGB(e,s,u,l=255){s/=100,u/=100;let p=(1-Math.abs(2*u-1))*s,a=p*(1-Math.abs(e/60%2-1)),i=u-p/2,r=0,n=0,o=0;return 0<=e&&e<60?(r=p,n=a,o=0):60<=e&&e<120?(r=a,n=p,o=0):120<=e&&e<180?(r=0,n=p,o=a):180<=e&&e<240?(r=0,n=a,o=p):240<=e&&e<300?(r=a,n=0,o=p):300<=e&&e<360&&(r=p,n=0,o=a),r=(r+i)*l,n=(n+i)*l,o=(o+i)*l,[r,n,o]}static circularBuffer(e,s){if(s.length<e.length){let u=e.slice(s.length),l=e.length;e.splice(0,l,...u,...s)}else if(s.length>e.length){let u=e.length;e.splice(0,u,s.slice(u-s.length))}else e.splice(0,e.length,...s);return e}static reformatData(e,s){if(Array.isArray(e)){if(Array.isArray(e[0])){let u={};if(e.forEach((l,p)=>{u[p]=l}),e=u,isNaN(e[0][0]))return}else if(s){if(e={[s]:e},isNaN(e[s][0]))return}else if(e={0:e},isNaN(e[0][0]))return}else if(typeof e=="object"){for(let u in e)if(typeof e[u]=="number"?e[u]=[e[u]]:e[u]?.values&&typeof e[u].values=="number"&&(e[u].values=[e[u].values]),isNaN(e[u][0]))return}else if(typeof e=="string"){let u;if(e.includes(`\r
`)){let l=e.split(`\r
`);e={},l.forEach((p,a)=>{p.includes("	")?u=p.split("	"):p.includes(",")?u=p.split(","):p.includes("|")&&(u=p.split("|")),Array.isArray(u)&&u.forEach((i,r)=>{if(i.includes(":")){let[n,o]=i.split(":"),c=parseFloat(o);if(c)e[n]=[c];else return}else{let n=parseFloat(i);if(n)e[r]=[n];else return}})})}else e.includes("	")?u=e.split("	"):e.includes(",")?u=e.split(","):e.includes("|")&&(u=e.split("|"));e={},Array.isArray(u)&&u.forEach((l,p)=>{if(l.includes(":")){let[a,i]=l.split(":"),r=parseFloat(i);if(r)e[a]=[r];else return}else{let a=parseFloat(l);if(a)e[p]=[a];else return}})}else typeof e=="number"&&(s?e={[s]:[e]}:e={0:[e]});return e}static padTime(e,s,u,l){let p=(e[0]-s)/u/l;return[...new Array(l-e.length).map((i,r)=>s+p*(r+1)),...e]}static interpolateForTime(e,s,u){return Ft.interpolate(e,Math.ceil(u*s))}isTypedArray(e){return ArrayBuffer.isView(e)&&Object.prototype.toString.call(e)!=="[object DataView]"}spliceTypedArray(e,s,u){let l=e.subarray(0,s),p;u&&(p=e.subarray(u+1));let a;return(l.length>0||p?.length>0)&&(a=new e.constructor(l.length+p.length)),l.length>0&&a.set(l),p&&p.length>0&&a.set(p,l.length),a}},Ht=Ft;Ht.bufferValues=(e,s,u,l)=>{if(!Array.isArray(u)&&typeof u=="object"&&(u=Object.keys(u)),!l){let a=Object.keys(e);u?l=new Float32Array(a.length*u.length):typeof e[a[0]][s]=="object"?(u=Object.keys(e[a[0]][s]),l=new Float32Array(a.length*u.length)):l=new Float32Array(a.length)}let p=0;for(let a in e)if(e[a][s])if(u)for(let i=0;i<u.length;i++)l[p]=e[a][s][u[i]],p++;else l[p]=e[a][s],p++;return l};var Gc=/^([<>])?(([1-9]\d*)?([xcbB?hHiIfdsp]))*$/,zc=/([1-9]\d*)?([xcbB?hHiIfdsp])/g,nr=(t,e,s)=>String.fromCharCode(...new Uint8Array(t.buffer,t.byteOffset+e,s)),ir=(t,e,s,u)=>new Uint8Array(t.buffer,t.byteOffset+e,s).set(u.split("").map(l=>l.charCodeAt(0))),qc=(t,e,s)=>nr(t,e+1,Math.min(t.getUint8(e),s-1)),Wc=(t,e,s,u)=>{t.setUint8(e,u.length),ir(t,e+1,s-1,u)},Hc=t=>({x:e=>[1,e,0],c:e=>[e,1,s=>({u:u=>nr(u,s,1),p:(u,l)=>ir(u,s,1,l)})],"?":e=>[e,1,s=>({u:u=>Boolean(u.getUint8(s)),p:(u,l)=>u.setUint8(s,l)})],b:e=>[e,1,s=>({u:u=>u.getInt8(s),p:(u,l)=>u.setInt8(s,l)})],B:e=>[e,1,s=>({u:u=>u.getUint8(s),p:(u,l)=>u.setUint8(s,l)})],h:e=>[e,2,s=>({u:u=>u.getInt16(s,t),p:(u,l)=>u.setInt16(s,l,t)})],H:e=>[e,2,s=>({u:u=>u.getUint16(s,t),p:(u,l)=>u.setUint16(s,l,t)})],i:e=>[e,4,s=>({u:u=>u.getInt32(s,t),p:(u,l)=>u.setInt32(s,l,t)})],I:e=>[e,4,s=>({u:u=>u.getUint32(s,t),p:(u,l)=>u.setUint32(s,l,t)})],f:e=>[e,4,s=>({u:u=>u.getFloat32(s,t),p:(u,l)=>u.setFloat32(s,l,t)})],d:e=>[e,8,s=>({u:u=>u.getFloat64(s,t),p:(u,l)=>u.setFloat64(s,l,t)})],s:e=>[1,e,s=>({u:u=>nr(u,s,e),p:(u,l)=>ir(u,s,e,l.slice(0,e))})],p:e=>[1,e,s=>({u:u=>qc(u,s,e),p:(u,l)=>Wc(u,s,e,l.slice(0,e-1))})]}),Un=new RangeError("Structure larger than remaining buffer"),Yc=new RangeError("Not enough values for structure"),Pt=class extends Ht{static toDataView(e){if(!(e instanceof DataView))if(typeof e=="string"&&parseInt(e)&&(e=parseInt(e)),typeof e=="string"){let s=new TextEncoder,u={};for(let p in Pt.codes)for(;e.indexOf(p)>-1;){let a=e.indexOf(p);e=e.replace(p,""),u[a]=p}let l=Array.from(s.encode(e));for(let p in u)l.splice(parseInt(p),0,Pt.codes[u[p]]);e=new DataView(new Uint8Array(l).buffer)}else if(typeof e=="number"){let s=e;e<256?(e=new DataView(new ArrayBuffer(1)),e.setUint8(0,s)):e<65536?(e=new DataView(new ArrayBuffer(2)),e.setInt16(0,s)):(e=new DataView(new ArrayBuffer(4)),e.setUint32(0,s))}else e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer?e=new DataView(e):Array.isArray(e)?e=new DataView(Uint8Array.from(e).buffer):typeof e=="object"&&(e=new TextEncoder().encode(JSON.stringify(e)));return e}static searchBuffer(e,s,u){for(var l=s,p=e,a=Pt.boyerMoore(l),i=a.byteLength,r=[],n=a(p);n!==-1&&(r.push(n),!(u&&r.length>=u));n=a(p,n+i));return r}static bytesToInt16(e,s){let u=(255&e)<<8|255&s;return(u&32768)>0?u|=4294901760:u&=65535,u}static bytesToUInt16(e,s){return e*256+s}static Uint16ToBytes(e){return[e&255,e>>8&255]}static bytesToInt24(e,s,u){let l=(255&e)<<16|(255&s)<<8|255&u;return(l&8388608)>0?l|=4278190080:l&=16777215,l}static bytesToUInt24(e,s,u){return e*65536+s*256+u}static Uint24ToBytes(e){return[e&255,e>>8&255,e>>16&255]}static bytesToInt32(e,s,u,l){let p=(255&e)<<24|(255&s)<<16|(255&u)<<8|255&l;return(p&2147483648)>0?p|=0:p&=4294967295,p}static bytesToUInt32(e,s,u,l){return e*16777216+s*65536+u*256+l}static Uint32ToBytes(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]}static get2sCompliment(e,s){return e>4294967296?null:e<<32-s>>32-s}static getSignedInt(...e){let s=0;function u(l){for(var p=0,a=!0;l--;)if(a){let i=e[s++];p+=i&127,i&128&&(p-=128),a=!1}else p*=256,p+=e[s++];return p}return u(e.length)}static asUint8Array(e){if(e instanceof Uint8Array)return e;if(typeof e=="string"){for(var s=new Uint8Array(e.length),u=0;u<e.length;u++){var l=e.charCodeAt(u);if(l>127)throw new TypeError("Only ASCII patterns are supported");s[u]=l}return s}else return new Uint8Array(e)}static boyerMoore(e){var s=Pt.asUint8Array(e),u=s.length;if(u===0)throw new TypeError("patternBuffer must be at least 1 byte long");for(var l=256,p=new Int32Array(l),a=0;a<l;a++)p[a]=-1;for(var i=0;i<u;i++)p[s[i]]=i;var r=(n,o,c)=>{var f=Pt.asUint8Array(n);o===void 0&&(o=0),c===void 0&&(c=f.length);for(var h=s,d=p,b=c-h.length,y=h.length-1,m,O=o;O<=b;O+=m){m=0;for(var S=y;S>=0;S--){var P=f[O+S];if(h[S]!==P){m=Math.max(1,S-d[P]);break}}if(m===0)return O}return-1};return r.byteLength=s.byteLength,r}static struct(e){let s=[],u=0,l=Gc.exec(e);if(!l)throw new RangeError("Invalid format string");let p=Hc(l[1]==="<"),a=(f,h)=>p[h](f?parseInt(f,10):1);for(;l=zc.exec(e);)((f,h,d)=>{for(let b=0;b<f;++b,u+=h)d&&s.push(d(u))})(...a(...l.slice(1)));let i=(f,h)=>{if(f.byteLength<(h|0)+u)throw Un;let d=new DataView(f,h|0);return s.map(b=>b.u(d))},r=(f,h,...d)=>{if(d.length<s.length)throw Yc;if(f.byteLength<h+u)throw Un;let b=new DataView(f,h);new Uint8Array(f,h,u).fill(0),s.forEach((y,m)=>y.p(b,d[m]))},n=(...f)=>{let h=new ArrayBuffer(u);return r(h,0,...f),h},o=f=>i(f,0);function*c(f){for(let h=0;h+u<=f.byteLength;h+=u)yield i(f,h)}return Object.freeze({unpack:o,pack:n,unpack_from:i,pack_into:r,iter_unpack:c,format:e,size:u})}},A=Pt;A.codes={"\\n":10,"\\r":13,"\\t":9,"\\s":32,"\\b":8,"\\f":12,"\\":92};var Qc=Object.create,Vn=Object.defineProperty,$c=Object.getOwnPropertyDescriptor,Kc=Object.getOwnPropertyNames,Zc=Object.getPrototypeOf,Xc=Object.prototype.hasOwnProperty,_=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),tu=(t,e,s,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of Kc(e))!Xc.call(t,l)&&l!==s&&Vn(t,l,{get:()=>e[l],enumerable:!(u=$c(e,l))||u.enumerable});return t},eu=(t,e,s)=>(s=t!=null?Qc(Zc(t)):{},tu(e||!t||!t.__esModule?Vn(s,"default",{value:t,enumerable:!0}):s,t)),Yt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s){return typeof s=="function"}t.isFunction=e}),_e=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(s){if(s){var u=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+u.stack)}else e&&console.log("RxJS: Back to a better error behavior. Thank you. <3");e=s},get useDeprecatedSynchronousErrorHandling(){return e}}}),or=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s){setTimeout(function(){throw s},0)}t.hostReportError=e}),Jn=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=_e(),s=or();t.empty={closed:!0,next:function(u){},error:function(u){if(e.config.useDeprecatedSynchronousErrorHandling)throw u;s.hostReportError(u)},complete:function(){}}}),et=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}()}),sr=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s){return s!==null&&typeof s=="object"}t.isObject=e}),Gn=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function s(u){return Error.call(this),this.message=u?u.length+` errors occurred during unsubscription:
`+u.map(function(l,p){return p+1+") "+l.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=u,this}return s.prototype=Object.create(Error.prototype),s}();t.UnsubscriptionError=e}),Q=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=et(),s=sr(),u=Yt(),l=Gn(),p=function(){function i(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}return i.prototype.unsubscribe=function(){var r;if(!this.closed){var n=this,o=n._parentOrParents,c=n._ctorUnsubscribe,f=n._unsubscribe,h=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof i)o.remove(this);else if(o!==null)for(var d=0;d<o.length;++d){var b=o[d];b.remove(this)}if(u.isFunction(f)){c&&(this._unsubscribe=void 0);try{f.call(this)}catch(O){r=O instanceof l.UnsubscriptionError?a(O.errors):[O]}}if(e.isArray(h))for(var d=-1,y=h.length;++d<y;){var m=h[d];if(s.isObject(m))try{m.unsubscribe()}catch(S){r=r||[],S instanceof l.UnsubscriptionError?r=r.concat(a(S.errors)):r.push(S)}}if(r)throw new l.UnsubscriptionError(r)}},i.prototype.add=function(r){var n=r;if(!r)return i.EMPTY;switch(typeof r){case"function":n=new i(r);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof i)){var o=n;n=new i,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var c=n._parentOrParents;if(c===null)n._parentOrParents=this;else if(c instanceof i){if(c===this)return n;n._parentOrParents=[c,this]}else if(c.indexOf(this)===-1)c.push(this);else return n;var f=this._subscriptions;return f===null?this._subscriptions=[n]:f.push(n),n},i.prototype.remove=function(r){var n=this._subscriptions;if(n){var o=n.indexOf(r);o!==-1&&n.splice(o,1)}},i.EMPTY=function(r){return r.closed=!0,r}(new i),i}();t.Subscription=p;function a(i){return i.reduce(function(r,n){return r.concat(n instanceof l.UnsubscriptionError?n.errors:n)},[])}}),ar=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),t.$$rxSubscriber=t.rxSubscriber}),k=_(t=>{"use strict";var e=t&&t.__extends||function(){var o=function(c,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var b in d)d.hasOwnProperty(b)&&(h[b]=d[b])},o(c,f)};return function(c,f){o(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Yt(),u=Jn(),l=Q(),p=ar(),a=_e(),i=or(),r=function(o){e(c,o);function c(f,h,d){var b=o.call(this)||this;switch(b.syncErrorValue=null,b.syncErrorThrown=!1,b.syncErrorThrowable=!1,b.isStopped=!1,arguments.length){case 0:b.destination=u.empty;break;case 1:if(!f){b.destination=u.empty;break}if(typeof f=="object"){f instanceof c?(b.syncErrorThrowable=f.syncErrorThrowable,b.destination=f,f.add(b)):(b.syncErrorThrowable=!0,b.destination=new n(b,f));break}default:b.syncErrorThrowable=!0,b.destination=new n(b,f,h,d);break}return b}return c.prototype[p.rxSubscriber]=function(){return this},c.create=function(f,h,d){var b=new c(f,h,d);return b.syncErrorThrowable=!1,b},c.prototype.next=function(f){this.isStopped||this._next(f)},c.prototype.error=function(f){this.isStopped||(this.isStopped=!0,this._error(f))},c.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},c.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this))},c.prototype._next=function(f){this.destination.next(f)},c.prototype._error=function(f){this.destination.error(f),this.unsubscribe()},c.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},c.prototype._unsubscribeAndRecycle=function(){var f=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=f,this},c}(l.Subscription);t.Subscriber=r;var n=function(o){e(c,o);function c(f,h,d,b){var y=o.call(this)||this;y._parentSubscriber=f;var m,O=y;return s.isFunction(h)?m=h:h&&(m=h.next,d=h.error,b=h.complete,h!==u.empty&&(O=Object.create(h),s.isFunction(O.unsubscribe)&&y.add(O.unsubscribe.bind(O)),O.unsubscribe=y.unsubscribe.bind(y))),y._context=O,y._next=m,y._error=d,y._complete=b,y}return c.prototype.next=function(f){if(!this.isStopped&&this._next){var h=this._parentSubscriber;!a.config.useDeprecatedSynchronousErrorHandling||!h.syncErrorThrowable?this.__tryOrUnsub(this._next,f):this.__tryOrSetError(h,this._next,f)&&this.unsubscribe()}},c.prototype.error=function(f){if(!this.isStopped){var h=this._parentSubscriber,d=a.config.useDeprecatedSynchronousErrorHandling;if(this._error)!d||!h.syncErrorThrowable?(this.__tryOrUnsub(this._error,f),this.unsubscribe()):(this.__tryOrSetError(h,this._error,f),this.unsubscribe());else if(h.syncErrorThrowable)d?(h.syncErrorValue=f,h.syncErrorThrown=!0):i.hostReportError(f),this.unsubscribe();else{if(this.unsubscribe(),d)throw f;i.hostReportError(f)}}},c.prototype.complete=function(){var f=this;if(!this.isStopped){var h=this._parentSubscriber;if(this._complete){var d=function(){return f._complete.call(f._context)};!a.config.useDeprecatedSynchronousErrorHandling||!h.syncErrorThrowable?(this.__tryOrUnsub(d),this.unsubscribe()):(this.__tryOrSetError(h,d),this.unsubscribe())}else this.unsubscribe()}},c.prototype.__tryOrUnsub=function(f,h){try{f.call(this._context,h)}catch(d){if(this.unsubscribe(),a.config.useDeprecatedSynchronousErrorHandling)throw d;i.hostReportError(d)}},c.prototype.__tryOrSetError=function(f,h,d){if(!a.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{h.call(this._context,d)}catch(b){return a.config.useDeprecatedSynchronousErrorHandling?(f.syncErrorValue=b,f.syncErrorThrown=!0,!0):(i.hostReportError(b),!0)}return!1},c.prototype._unsubscribe=function(){var f=this._parentSubscriber;this._context=null,this._parentSubscriber=null,f.unsubscribe()},c}(r);t.SafeSubscriber=n}),cr=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=k();function s(u){for(;u;){var l=u,p=l.closed,a=l.destination,i=l.isStopped;if(p||i)return!1;a&&a instanceof e.Subscriber?u=a:u=null}return!0}t.canReportError=s}),ru=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=k(),s=ar(),u=Jn();function l(p,a,i){if(p){if(p instanceof e.Subscriber)return p;if(p[s.rxSubscriber])return p[s.rxSubscriber]()}return!p&&!a&&!i?new e.Subscriber(u.empty):new e.Subscriber(p,a,i)}t.toSubscriber=l}),Rt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()}),Bt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s){return s}t.identity=e}),ur=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Bt();function s(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return u(l)}t.pipe=s;function u(l){return l.length===0?e.identity:l.length===1?l[0]:function(p){return l.reduce(function(a,i){return i(a)},p)}}t.pipeFromArray=u}),R=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=cr(),s=ru(),u=Rt(),l=ur(),p=_e(),a=function(){function r(n){this._isScalar=!1,n&&(this._subscribe=n)}return r.prototype.lift=function(n){var o=new r;return o.source=this,o.operator=n,o},r.prototype.subscribe=function(n,o,c){var f=this.operator,h=s.toSubscriber(n,o,c);if(f?h.add(f.call(h,this.source)):h.add(this.source||p.config.useDeprecatedSynchronousErrorHandling&&!h.syncErrorThrowable?this._subscribe(h):this._trySubscribe(h)),p.config.useDeprecatedSynchronousErrorHandling&&h.syncErrorThrowable&&(h.syncErrorThrowable=!1,h.syncErrorThrown))throw h.syncErrorValue;return h},r.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(o){p.config.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=o),e.canReportError(n)?n.error(o):console.warn(o)}},r.prototype.forEach=function(n,o){var c=this;return o=i(o),new o(function(f,h){var d;d=c.subscribe(function(b){try{n(b)}catch(y){h(y),d&&d.unsubscribe()}},h,f)})},r.prototype._subscribe=function(n){var o=this.source;return o&&o.subscribe(n)},r.prototype[u.observable]=function(){return this},r.prototype.pipe=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return n.length===0?this:l.pipeFromArray(n)(this)},r.prototype.toPromise=function(n){var o=this;return n=i(n),new n(function(c,f){var h;o.subscribe(function(d){return h=d},function(d){return f(d)},function(){return c(h)})})},r.create=function(n){return new r(n)},r}();t.Observable=a;function i(r){if(r||(r=p.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}}),Oe=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function s(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return s.prototype=Object.create(Error.prototype),s}();t.ObjectUnsubscribedError=e}),zn=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Q(),u=function(l){e(p,l);function p(a,i){var r=l.call(this)||this;return r.subject=a,r.subscriber=i,r.closed=!1,r}return p.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,i=a.observers;if(this.subject=null,!(!i||i.length===0||a.isStopped||a.closed)){var r=i.indexOf(this.subscriber);r!==-1&&i.splice(r,1)}}},p}(s.Subscription);t.SubjectSubscription=u}),tt=_(t=>{"use strict";var e=t&&t.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)b.hasOwnProperty(y)&&(d[y]=b[y])},c(f,h)};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=R(),u=k(),l=Q(),p=Oe(),a=zn(),i=ar(),r=function(c){e(f,c);function f(h){var d=c.call(this,h)||this;return d.destination=h,d}return f}(u.Subscriber);t.SubjectSubscriber=r;var n=function(c){e(f,c);function f(){var h=c.call(this)||this;return h.observers=[],h.closed=!1,h.isStopped=!1,h.hasError=!1,h.thrownError=null,h}return f.prototype[i.rxSubscriber]=function(){return new r(this)},f.prototype.lift=function(h){var d=new o(this,this);return d.operator=h,d},f.prototype.next=function(h){if(this.closed)throw new p.ObjectUnsubscribedError;if(!this.isStopped)for(var d=this.observers,b=d.length,y=d.slice(),m=0;m<b;m++)y[m].next(h)},f.prototype.error=function(h){if(this.closed)throw new p.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=h,this.isStopped=!0;for(var d=this.observers,b=d.length,y=d.slice(),m=0;m<b;m++)y[m].error(h);this.observers.length=0},f.prototype.complete=function(){if(this.closed)throw new p.ObjectUnsubscribedError;this.isStopped=!0;for(var h=this.observers,d=h.length,b=h.slice(),y=0;y<d;y++)b[y].complete();this.observers.length=0},f.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},f.prototype._trySubscribe=function(h){if(this.closed)throw new p.ObjectUnsubscribedError;return c.prototype._trySubscribe.call(this,h)},f.prototype._subscribe=function(h){if(this.closed)throw new p.ObjectUnsubscribedError;return this.hasError?(h.error(this.thrownError),l.Subscription.EMPTY):this.isStopped?(h.complete(),l.Subscription.EMPTY):(this.observers.push(h),new a.SubjectSubscription(this,h))},f.prototype.asObservable=function(){var h=new s.Observable;return h.source=this,h},f.create=function(h,d){return new o(h,d)},f}(s.Observable);t.Subject=n;var o=function(c){e(f,c);function f(h,d){var b=c.call(this)||this;return b.destination=h,b.source=d,b}return f.prototype.next=function(h){var d=this.destination;d&&d.next&&d.next(h)},f.prototype.error=function(h){var d=this.destination;d&&d.error&&this.destination.error(h)},f.prototype.complete=function(){var h=this.destination;h&&h.complete&&this.destination.complete()},f.prototype._subscribe=function(h){var d=this.source;return d?this.source.subscribe(h):l.Subscription.EMPTY},f}(n);t.AnonymousSubject=o}),lr=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(){return function(a){return a.lift(new l(a))}}t.refCount=u;var l=function(){function a(i){this.connectable=i}return a.prototype.call=function(i,r){var n=this.connectable;n._refCount++;var o=new p(i,n),c=r.subscribe(o);return o.closed||(o.connection=n.connect()),c},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.connectable=n,o}return i.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var o=this.connection,c=r._connection;this.connection=null,c&&(!o||c===o)&&c.unsubscribe()},i}(s.Subscriber)}),qn=_(t=>{"use strict";var e=t&&t.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)b.hasOwnProperty(y)&&(d[y]=b[y])},c(f,h)};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=R(),l=k(),p=Q(),a=lr(),i=function(c){e(f,c);function f(h,d){var b=c.call(this)||this;return b.source=h,b.subjectFactory=d,b._refCount=0,b._isComplete=!1,b}return f.prototype._subscribe=function(h){return this.getSubject().subscribe(h)},f.prototype.getSubject=function(){var h=this._subject;return(!h||h.isStopped)&&(this._subject=this.subjectFactory()),this._subject},f.prototype.connect=function(){var h=this._connection;return h||(this._isComplete=!1,h=this._connection=new p.Subscription,h.add(this.source.subscribe(new r(this.getSubject(),this))),h.closed&&(this._connection=null,h=p.Subscription.EMPTY)),h},f.prototype.refCount=function(){return a.refCount()(this)},f}(u.Observable);t.ConnectableObservable=i,t.connectableObservableDescriptor=function(){var c=i.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:c._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}}}();var r=function(c){e(f,c);function f(h,d){var b=c.call(this,h)||this;return b.connectable=d,b}return f.prototype._error=function(h){this._unsubscribe(),c.prototype._error.call(this,h)},f.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),c.prototype._complete.call(this)},f.prototype._unsubscribe=function(){var h=this.connectable;if(h){this.connectable=null;var d=h._connection;h._refCount=0,h._subject=null,h._connection=null,d&&d.unsubscribe()}},f}(s.SubjectSubscriber),n=function(){function c(f){this.connectable=f}return c.prototype.call=function(f,h){var d=this.connectable;d._refCount++;var b=new o(f,d),y=h.subscribe(b);return b.closed||(b.connection=d.connect()),y},c}(),o=function(c){e(f,c);function f(h,d){var b=c.call(this,h)||this;return b.connectable=d,b}return f.prototype._unsubscribe=function(){var h=this.connectable;if(!h){this.connection=null;return}this.connectable=null;var d=h._refCount;if(d<=0){this.connection=null;return}if(h._refCount=d-1,d>1){this.connection=null;return}var b=this.connection,y=h._connection;this.connection=null,y&&(!b||y===b)&&y.unsubscribe()},f}(l.Subscriber)}),Wn=_(t=>{"use strict";var e=t&&t.__extends||function(){var f=function(h,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var m in y)y.hasOwnProperty(m)&&(b[m]=y[m])},f(h,d)};return function(h,d){f(h,d);function b(){this.constructor=h}h.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Q(),l=R(),p=tt();function a(f,h,d,b){return function(y){return y.lift(new i(f,h,d,b))}}t.groupBy=a;var i=function(){function f(h,d,b,y){this.keySelector=h,this.elementSelector=d,this.durationSelector=b,this.subjectSelector=y}return f.prototype.call=function(h,d){return d.subscribe(new r(h,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},f}(),r=function(f){e(h,f);function h(d,b,y,m,O){var S=f.call(this,d)||this;return S.keySelector=b,S.elementSelector=y,S.durationSelector=m,S.subjectSelector=O,S.groups=null,S.attemptedToUnsubscribe=!1,S.count=0,S}return h.prototype._next=function(d){var b;try{b=this.keySelector(d)}catch(y){this.error(y);return}this._group(d,b)},h.prototype._group=function(d,b){var y=this.groups;y||(y=this.groups=new Map);var m=y.get(b),O;if(this.elementSelector)try{O=this.elementSelector(d)}catch(C){this.error(C)}else O=d;if(!m){m=this.subjectSelector?this.subjectSelector():new p.Subject,y.set(b,m);var S=new o(b,m,this);if(this.destination.next(S),this.durationSelector){var P=void 0;try{P=this.durationSelector(new o(b,m))}catch(C){this.error(C);return}this.add(P.subscribe(new n(b,m,this)))}}m.closed||m.next(O)},h.prototype._error=function(d){var b=this.groups;b&&(b.forEach(function(y,m){y.error(d)}),b.clear()),this.destination.error(d)},h.prototype._complete=function(){var d=this.groups;d&&(d.forEach(function(b,y){b.complete()}),d.clear()),this.destination.complete()},h.prototype.removeGroup=function(d){this.groups.delete(d)},h.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&f.prototype.unsubscribe.call(this))},h}(s.Subscriber),n=function(f){e(h,f);function h(d,b,y){var m=f.call(this,b)||this;return m.key=d,m.group=b,m.parent=y,m}return h.prototype._next=function(d){this.complete()},h.prototype._unsubscribe=function(){var d=this,b=d.parent,y=d.key;this.key=this.parent=null,b&&b.removeGroup(y)},h}(s.Subscriber),o=function(f){e(h,f);function h(d,b,y){var m=f.call(this)||this;return m.key=d,m.groupSubject=b,m.refCountSubscription=y,m}return h.prototype._subscribe=function(d){var b=new u.Subscription,y=this,m=y.refCountSubscription,O=y.groupSubject;return m&&!m.closed&&b.add(new c(m)),b.add(O.subscribe(d)),b},h}(l.Observable);t.GroupedObservable=o;var c=function(f){e(h,f);function h(d){var b=f.call(this)||this;return b.parent=d,d.count++,b}return h.prototype.unsubscribe=function(){var d=this.parent;!d.closed&&!this.closed&&(f.prototype.unsubscribe.call(this),d.count-=1,d.count===0&&d.attemptedToUnsubscribe&&d.unsubscribe())},h}(u.Subscription)}),Hn=_(t=>{"use strict";var e=t&&t.__extends||function(){var p=function(a,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},p(a,i)};return function(a,i){p(a,i);function r(){this.constructor=a}a.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=Oe(),l=function(p){e(a,p);function a(i){var r=p.call(this)||this;return r._value=i,r}return Object.defineProperty(a.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),a.prototype._subscribe=function(i){var r=p.prototype._subscribe.call(this,i);return r&&!r.closed&&i.next(this._value),r},a.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.ObjectUnsubscribedError;return this._value},a.prototype.next=function(i){p.prototype.next.call(this,this._value=i)},a}(s.Subject);t.BehaviorSubject=l}),nu=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Q(),u=function(l){e(p,l);function p(a,i){return l.call(this)||this}return p.prototype.schedule=function(a,i){return i===void 0&&(i=0),this},p}(s.Subscription);t.Action=u}),Qt=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=nu(),u=function(l){e(p,l);function p(a,i){var r=l.call(this,a,i)||this;return r.scheduler=a,r.work=i,r.pending=!1,r}return p.prototype.schedule=function(a,i){if(i===void 0&&(i=0),this.closed)return this;this.state=a;var r=this.id,n=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(n,r,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this},p.prototype.requestAsyncId=function(a,i,r){return r===void 0&&(r=0),setInterval(a.flush.bind(a,this),r)},p.prototype.recycleAsyncId=function(a,i,r){if(r===void 0&&(r=0),r!==null&&this.delay===r&&this.pending===!1)return i;clearInterval(i)},p.prototype.execute=function(a,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(a,i);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},p.prototype._execute=function(a,i){var r=!1,n=void 0;try{this.work(a)}catch(o){r=!0,n=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),n},p.prototype._unsubscribe=function(){var a=this.id,i=this.scheduler,r=i.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&r.splice(n,1),a!=null&&(this.id=this.recycleAsyncId(i,a,null)),this.delay=null},p}(s.Action);t.AsyncAction=u}),iu=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Qt(),u=function(l){e(p,l);function p(a,i){var r=l.call(this,a,i)||this;return r.scheduler=a,r.work=i,r}return p.prototype.schedule=function(a,i){return i===void 0&&(i=0),i>0?l.prototype.schedule.call(this,a,i):(this.delay=i,this.state=a,this.scheduler.flush(this),this)},p.prototype.execute=function(a,i){return i>0||this.closed?l.prototype.execute.call(this,a,i):this._execute(a,i)},p.prototype.requestAsyncId=function(a,i,r){return r===void 0&&(r=0),r!==null&&r>0||r===null&&this.delay>0?l.prototype.requestAsyncId.call(this,a,i,r):a.flush(this)},p}(s.AsyncAction);t.QueueAction=u}),Yn=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function s(u,l){l===void 0&&(l=s.now),this.SchedulerAction=u,this.now=l}return s.prototype.schedule=function(u,l,p){return l===void 0&&(l=0),new this.SchedulerAction(this,u).schedule(p,l)},s.now=function(){return Date.now()},s}();t.Scheduler=e}),$t=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Yn(),u=function(l){e(p,l);function p(a,i){i===void 0&&(i=s.Scheduler.now);var r=l.call(this,a,function(){return p.delegate&&p.delegate!==r?p.delegate.now():i()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return p.prototype.schedule=function(a,i,r){return i===void 0&&(i=0),p.delegate&&p.delegate!==this?p.delegate.schedule(a,i,r):l.prototype.schedule.call(this,a,i,r)},p.prototype.flush=function(a){var i=this.actions;if(this.active){i.push(a);return}var r;this.active=!0;do if(r=a.execute(a.state,a.delay))break;while(a=i.shift());if(this.active=!1,r){for(;a=i.shift();)a.unsubscribe();throw r}},p}(s.Scheduler);t.AsyncScheduler=u}),ou=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=$t(),u=function(l){e(p,l);function p(){return l!==null&&l.apply(this,arguments)||this}return p}(s.AsyncScheduler);t.QueueScheduler=u}),Qn=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=iu(),s=ou();t.queueScheduler=new s.QueueScheduler(e.QueueAction),t.queue=t.queueScheduler}),lt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R();t.EMPTY=new e.Observable(function(l){return l.complete()});function s(l){return l?u(l):t.EMPTY}t.empty=s;function u(l){return new e.Observable(function(p){return l.schedule(function(){return p.complete()})})}}),ft=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s){return s&&typeof s.schedule=="function"}t.isScheduler=e}),$n=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToArray=function(e){return function(s){for(var u=0,l=e.length;u<l&&!s.closed;u++)s.next(e[u]);s.complete()}}}),fr=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=Q();function u(l,p){return new e.Observable(function(a){var i=new s.Subscription,r=0;return i.add(p.schedule(function(){if(r===l.length){a.complete();return}a.next(l[r++]),a.closed||i.add(this.schedule())})),i})}t.scheduleArray=u}),Kt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=$n(),u=fr();function l(p,a){return a?u.scheduleArray(p,a):new e.Observable(s.subscribeToArray(p))}t.fromArray=l}),ge=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=ft(),s=Kt(),u=fr();function l(){for(var p=[],a=0;a<arguments.length;a++)p[a]=arguments[a];var i=p[p.length-1];return e.isScheduler(i)?(p.pop(),u.scheduleArray(p,i)):s.fromArray(p)}t.of=l}),pr=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R();function s(l,p){return p?new e.Observable(function(a){return p.schedule(u,0,{error:l,subscriber:a})}):new e.Observable(function(a){return a.error(l)})}t.throwError=s;function u(l){var p=l.error,a=l.subscriber;a.error(p)}}),Se=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=lt(),s=ge(),u=pr(),l;(function(a){a.NEXT="N",a.ERROR="E",a.COMPLETE="C"})(l=t.NotificationKind||(t.NotificationKind={}));var p=function(){function a(i,r,n){this.kind=i,this.value=r,this.error=n,this.hasValue=i==="N"}return a.prototype.observe=function(i){switch(this.kind){case"N":return i.next&&i.next(this.value);case"E":return i.error&&i.error(this.error);case"C":return i.complete&&i.complete()}},a.prototype.do=function(i,r,n){var o=this.kind;switch(o){case"N":return i&&i(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},a.prototype.accept=function(i,r,n){return i&&typeof i.next=="function"?this.observe(i):this.do(i,r,n)},a.prototype.toObservable=function(){var i=this.kind;switch(i){case"N":return s.of(this.value);case"E":return u.throwError(this.error);case"C":return e.empty()}throw new Error("unexpected notification kind value")},a.createNext=function(i){return typeof i<"u"?new a("N",i):a.undefinedValueNotification},a.createError=function(i){return new a("E",void 0,i)},a.createComplete=function(){return a.completeNotification},a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0),a}();t.Notification=p}),Kn=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Se();function l(r,n){return n===void 0&&(n=0),function(o){return o.lift(new p(r,n))}}t.observeOn=l;var p=function(){function r(n,o){o===void 0&&(o=0),this.scheduler=n,this.delay=o}return r.prototype.call=function(n,o){return o.subscribe(new a(n,this.scheduler,this.delay))},r}();t.ObserveOnOperator=p;var a=function(r){e(n,r);function n(o,c,f){f===void 0&&(f=0);var h=r.call(this,o)||this;return h.scheduler=c,h.delay=f,h}return n.dispatch=function(o){var c=o.notification,f=o.destination;c.observe(f),this.unsubscribe()},n.prototype.scheduleMessage=function(o){var c=this.destination;c.add(this.scheduler.schedule(n.dispatch,this.delay,new i(o,this.destination)))},n.prototype._next=function(o){this.scheduleMessage(u.Notification.createNext(o))},n.prototype._error=function(o){this.scheduleMessage(u.Notification.createError(o)),this.unsubscribe()},n.prototype._complete=function(){this.scheduleMessage(u.Notification.createComplete()),this.unsubscribe()},n}(s.Subscriber);t.ObserveOnSubscriber=a;var i=function(){function r(n,o){this.notification=n,this.destination=o}return r}();t.ObserveOnMessage=i}),hr=_(t=>{"use strict";var e=t&&t.__extends||function(){var o=function(c,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var b in d)d.hasOwnProperty(b)&&(h[b]=d[b])},o(c,f)};return function(c,f){o(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=Qn(),l=Q(),p=Kn(),a=Oe(),i=zn(),r=function(o){e(c,o);function c(f,h,d){f===void 0&&(f=Number.POSITIVE_INFINITY),h===void 0&&(h=Number.POSITIVE_INFINITY);var b=o.call(this)||this;return b.scheduler=d,b._events=[],b._infiniteTimeWindow=!1,b._bufferSize=f<1?1:f,b._windowTime=h<1?1:h,h===Number.POSITIVE_INFINITY?(b._infiniteTimeWindow=!0,b.next=b.nextInfiniteTimeWindow):b.next=b.nextTimeWindow,b}return c.prototype.nextInfiniteTimeWindow=function(f){if(!this.isStopped){var h=this._events;h.push(f),h.length>this._bufferSize&&h.shift()}o.prototype.next.call(this,f)},c.prototype.nextTimeWindow=function(f){this.isStopped||(this._events.push(new n(this._getNow(),f)),this._trimBufferThenGetEvents()),o.prototype.next.call(this,f)},c.prototype._subscribe=function(f){var h=this._infiniteTimeWindow,d=h?this._events:this._trimBufferThenGetEvents(),b=this.scheduler,y=d.length,m;if(this.closed)throw new a.ObjectUnsubscribedError;if(this.isStopped||this.hasError?m=l.Subscription.EMPTY:(this.observers.push(f),m=new i.SubjectSubscription(this,f)),b&&f.add(f=new p.ObserveOnSubscriber(f,b)),h)for(var O=0;O<y&&!f.closed;O++)f.next(d[O]);else for(var O=0;O<y&&!f.closed;O++)f.next(d[O].value);return this.hasError?f.error(this.thrownError):this.isStopped&&f.complete(),m},c.prototype._getNow=function(){return(this.scheduler||u.queue).now()},c.prototype._trimBufferThenGetEvents=function(){for(var f=this._getNow(),h=this._bufferSize,d=this._windowTime,b=this._events,y=b.length,m=0;m<y&&!(f-b[m].time<d);)m++;return y>h&&(m=Math.max(m,y-h)),m>0&&b.splice(0,m),b},c}(s.Subject);t.ReplaySubject=r;var n=function(){function o(c,f){this.time=c,this.value=f}return o}()}),we=_(t=>{"use strict";var e=t&&t.__extends||function(){var p=function(a,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},p(a,i)};return function(a,i){p(a,i);function r(){this.constructor=a}a.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=Q(),l=function(p){e(a,p);function a(){var i=p!==null&&p.apply(this,arguments)||this;return i.value=null,i.hasNext=!1,i.hasCompleted=!1,i}return a.prototype._subscribe=function(i){return this.hasError?(i.error(this.thrownError),u.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(i.next(this.value),i.complete(),u.Subscription.EMPTY):p.prototype._subscribe.call(this,i)},a.prototype.next=function(i){this.hasCompleted||(this.value=i,this.hasNext=!0)},a.prototype.error=function(i){this.hasCompleted||p.prototype.error.call(this,i)},a.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&p.prototype.next.call(this,this.value),p.prototype.complete.call(this)},a}(s.Subject);t.AsyncSubject=l}),su=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=1,s=function(){return Promise.resolve()}(),u={};function l(p){return p in u?(delete u[p],!0):!1}t.Immediate={setImmediate:function(p){var a=e++;return u[a]=!0,s.then(function(){return l(a)&&p()}),a},clearImmediate:function(p){l(p)}},t.TestTools={pending:function(){return Object.keys(u).length}}}),au=_(t=>{"use strict";var e=t&&t.__extends||function(){var p=function(a,i){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},p(a,i)};return function(a,i){p(a,i);function r(){this.constructor=a}a.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=su(),u=Qt(),l=function(p){e(a,p);function a(i,r){var n=p.call(this,i,r)||this;return n.scheduler=i,n.work=r,n}return a.prototype.requestAsyncId=function(i,r,n){return n===void 0&&(n=0),n!==null&&n>0?p.prototype.requestAsyncId.call(this,i,r,n):(i.actions.push(this),i.scheduled||(i.scheduled=s.Immediate.setImmediate(i.flush.bind(i,null))))},a.prototype.recycleAsyncId=function(i,r,n){if(n===void 0&&(n=0),n!==null&&n>0||n===null&&this.delay>0)return p.prototype.recycleAsyncId.call(this,i,r,n);i.actions.length===0&&(s.Immediate.clearImmediate(r),i.scheduled=void 0)},a}(u.AsyncAction);t.AsapAction=l}),cu=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=$t(),u=function(l){e(p,l);function p(){return l!==null&&l.apply(this,arguments)||this}return p.prototype.flush=function(a){this.active=!0,this.scheduled=void 0;var i=this.actions,r,n=-1,o=i.length;a=a||i.shift();do if(r=a.execute(a.state,a.delay))break;while(++n<o&&(a=i.shift()));if(this.active=!1,r){for(;++n<o&&(a=i.shift());)a.unsubscribe();throw r}},p}(s.AsyncScheduler);t.AsapScheduler=u}),Zn=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=au(),s=cu();t.asapScheduler=new s.AsapScheduler(e.AsapAction),t.asap=t.asapScheduler}),rt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Qt(),s=$t();t.asyncScheduler=new s.AsyncScheduler(e.AsyncAction),t.async=t.asyncScheduler}),uu=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Qt(),u=function(l){e(p,l);function p(a,i){var r=l.call(this,a,i)||this;return r.scheduler=a,r.work=i,r}return p.prototype.requestAsyncId=function(a,i,r){return r===void 0&&(r=0),r!==null&&r>0?l.prototype.requestAsyncId.call(this,a,i,r):(a.actions.push(this),a.scheduled||(a.scheduled=requestAnimationFrame(function(){return a.flush(null)})))},p.prototype.recycleAsyncId=function(a,i,r){if(r===void 0&&(r=0),r!==null&&r>0||r===null&&this.delay>0)return l.prototype.recycleAsyncId.call(this,a,i,r);a.actions.length===0&&(cancelAnimationFrame(i),a.scheduled=void 0)},p}(s.AsyncAction);t.AnimationFrameAction=u}),lu=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=$t(),u=function(l){e(p,l);function p(){return l!==null&&l.apply(this,arguments)||this}return p.prototype.flush=function(a){this.active=!0,this.scheduled=void 0;var i=this.actions,r,n=-1,o=i.length;a=a||i.shift();do if(r=a.execute(a.state,a.delay))break;while(++n<o&&(a=i.shift()));if(this.active=!1,r){for(;++n<o&&(a=i.shift());)a.unsubscribe();throw r}},p}(s.AsyncScheduler);t.AnimationFrameScheduler=u}),fu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=uu(),s=lu();t.animationFrameScheduler=new s.AnimationFrameScheduler(e.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler}),pu=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Qt(),u=$t(),l=function(a){e(i,a);function i(r,n){r===void 0&&(r=p),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=a.call(this,r,function(){return o.frame})||this;return o.maxFrames=n,o.frame=0,o.index=-1,o}return i.prototype.flush=function(){for(var r=this,n=r.actions,o=r.maxFrames,c,f;(f=n[0])&&f.delay<=o&&(n.shift(),this.frame=f.delay,!(c=f.execute(f.state,f.delay))););if(c){for(;f=n.shift();)f.unsubscribe();throw c}},i.frameTimeFactor=10,i}(u.AsyncScheduler);t.VirtualTimeScheduler=l;var p=function(a){e(i,a);function i(r,n,o){o===void 0&&(o=r.index+=1);var c=a.call(this,r,n)||this;return c.scheduler=r,c.work=n,c.index=o,c.active=!0,c.index=r.index=o,c}return i.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return a.prototype.schedule.call(this,r,n);this.active=!1;var o=new i(this.scheduler,this.work);return this.add(o),o.schedule(r,n)},i.prototype.requestAsyncId=function(r,n,o){o===void 0&&(o=0),this.delay=r.frame+o;var c=r.actions;return c.push(this),c.sort(i.sortActions),!0},i.prototype.recycleAsyncId=function(r,n,o){o===void 0&&(o=0)},i.prototype._execute=function(r,n){if(this.active===!0)return a.prototype._execute.call(this,r,n)},i.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},i}(s.AsyncAction);t.VirtualAction=p}),dr=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(){}t.noop=e}),hu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R();function s(u){return!!u&&(u instanceof e.Observable||typeof u.lift=="function"&&typeof u.subscribe=="function")}t.isObservable=s}),Zt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s}();t.ArgumentOutOfRangeError=e}),Xt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s}();t.EmptyError=e}),Xn=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function s(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return s.prototype=Object.create(Error.prototype),s}();t.TimeoutError=e}),st=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a,i){return function(r){if(typeof a!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new l(a,i))}}t.map=u;var l=function(){function a(i,r){this.project=i,this.thisArg=r}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.project,this.thisArg))},a}();t.MapOperator=l;var p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.project=n,c.count=0,c.thisArg=o||c,c}return i.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(n)},i}(s.Subscriber)}),du=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=we(),u=st(),l=cr(),p=et(),a=ft();function i(o,c,f){if(c)if(a.isScheduler(c))f=c;else return function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];return i(o,f).apply(void 0,h).pipe(u.map(function(b){return p.isArray(b)?c.apply(void 0,b):c(b)}))};return function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var b=this,y,m={context:b,subject:y,callbackFunc:o,scheduler:f};return new e.Observable(function(O){if(f){var S={args:h,subscriber:O,params:m};return f.schedule(r,0,S)}else{if(!y){y=new s.AsyncSubject;var P=function(){for(var C=[],N=0;N<arguments.length;N++)C[N]=arguments[N];y.next(C.length<=1?C[0]:C),y.complete()};try{o.apply(b,h.concat([P]))}catch(C){l.canReportError(y)?y.error(C):console.warn(C)}}return y.subscribe(O)}})}}t.bindCallback=i;function r(o){var c=this,f=this,h=o.args,d=o.subscriber,b=o.params,y=b.callbackFunc,m=b.context,O=b.scheduler,S=b.subject;if(!S){S=b.subject=new s.AsyncSubject;var P=function(){for(var C=[],N=0;N<arguments.length;N++)C[N]=arguments[N];var L=C.length<=1?C[0]:C;c.add(O.schedule(n,0,{value:L,subject:S}))};try{y.apply(m,h.concat([P]))}catch(C){S.error(C)}}this.add(S.subscribe(d))}function n(o){var c=o.value,f=o.subject;f.next(c),f.complete()}}),bu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=we(),u=st(),l=cr(),p=ft(),a=et();function i(c,f,h){if(f)if(p.isScheduler(f))h=f;else return function(){for(var d=[],b=0;b<arguments.length;b++)d[b]=arguments[b];return i(c,h).apply(void 0,d).pipe(u.map(function(y){return a.isArray(y)?f.apply(void 0,y):f(y)}))};return function(){for(var d=[],b=0;b<arguments.length;b++)d[b]=arguments[b];var y={subject:void 0,args:d,callbackFunc:c,scheduler:h,context:this};return new e.Observable(function(m){var O=y.context,S=y.subject;if(h)return h.schedule(r,0,{params:y,subscriber:m,context:O});if(!S){S=y.subject=new s.AsyncSubject;var P=function(){for(var C=[],N=0;N<arguments.length;N++)C[N]=arguments[N];var L=C.shift();if(L){S.error(L);return}S.next(C.length<=1?C[0]:C),S.complete()};try{c.apply(O,d.concat([P]))}catch(C){l.canReportError(S)?S.error(C):console.warn(C)}}return S.subscribe(m)})}}t.bindNodeCallback=i;function r(c){var f=this,h=c.params,d=c.subscriber,b=c.context,y=h.callbackFunc,m=h.args,O=h.scheduler,S=h.subject;if(!S){S=h.subject=new s.AsyncSubject;var P=function(){for(var C=[],N=0;N<arguments.length;N++)C[N]=arguments[N];var L=C.shift();if(L)f.add(O.schedule(o,0,{err:L,subject:S}));else{var q=C.length<=1?C[0]:C;f.add(O.schedule(n,0,{value:q,subject:S}))}};try{y.apply(b,m.concat([P]))}catch(C){this.add(O.schedule(o,0,{err:C,subject:S}))}}this.add(S.subscribe(d))}function n(c){var f=c.value,h=c.subject;h.next(f),h.complete()}function o(c){var f=c.err,h=c.subject;h.error(f)}}),At=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=function(l){e(p,l);function p(){return l!==null&&l.apply(this,arguments)||this}return p.prototype.notifyNext=function(a,i,r,n,o){this.destination.next(i)},p.prototype.notifyError=function(a,i){this.destination.error(a)},p.prototype.notifyComplete=function(a){this.destination.complete()},p}(s.Subscriber);t.OuterSubscriber=u}),yu=_(t=>{"use strict";var e=t&&t.__extends||function(){var l=function(p,a){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n])},l(p,a)};return function(p,a){l(p,a);function i(){this.constructor=p}p.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=function(l){e(p,l);function p(a,i,r){var n=l.call(this)||this;return n.parent=a,n.outerValue=i,n.outerIndex=r,n.index=0,n}return p.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)},p.prototype._error=function(a){this.parent.notifyError(a,this),this.unsubscribe()},p.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},p}(s.Subscriber);t.InnerSubscriber=u}),vu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=or();t.subscribeToPromise=function(s){return function(u){return s.then(function(l){u.closed||(u.next(l),u.complete())},function(l){return u.error(l)}).then(null,e.hostReportError),u}}}),te=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}t.getSymbolIterator=e,t.iterator=e(),t.$$iterator=t.iterator}),mu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=te();t.subscribeToIterable=function(s){return function(u){var l=s[e.iterator]();do{var p=void 0;try{p=l.next()}catch(a){return u.error(a),u}if(p.done){u.complete();break}if(u.next(p.value),u.closed)break}while(!0);return typeof l.return=="function"&&u.add(function(){l.return&&l.return()}),u}}}),_u=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Rt();t.subscribeToObservable=function(s){return function(u){var l=s[e.observable]();if(typeof l.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return l.subscribe(u)}}}),ti=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"}}),ei=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s){return!!s&&typeof s.subscribe!="function"&&typeof s.then=="function"}t.isPromise=e}),Ce=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=$n(),s=vu(),u=mu(),l=_u(),p=ti(),a=ei(),i=sr(),r=te(),n=Rt();t.subscribeTo=function(o){if(!!o&&typeof o[n.observable]=="function")return l.subscribeToObservable(o);if(p.isArrayLike(o))return e.subscribeToArray(o);if(a.isPromise(o))return s.subscribeToPromise(o);if(!!o&&typeof o[r.iterator]=="function")return u.subscribeToIterable(o);var c=i.isObject(o)?"an invalid object":"'"+o+"'",f="You provided "+c+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(f)}}),Et=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=yu(),s=Ce(),u=R();function l(p,a,i,r,n){if(n===void 0&&(n=new e.InnerSubscriber(p,i,r)),!n.closed)return a instanceof u.Observable?a.subscribe(n):s.subscribeTo(a)(n)}t.subscribeToResult=l}),br=_(t=>{"use strict";var e=t&&t.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)b.hasOwnProperty(y)&&(d[y]=b[y])},c(f,h)};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=ft(),u=et(),l=At(),p=Et(),a=Kt(),i={};function r(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var h=void 0,d=void 0;return s.isScheduler(c[c.length-1])&&(d=c.pop()),typeof c[c.length-1]=="function"&&(h=c.pop()),c.length===1&&u.isArray(c[0])&&(c=c[0]),a.fromArray(c,d).lift(new n(h))}t.combineLatest=r;var n=function(){function c(f){this.resultSelector=f}return c.prototype.call=function(f,h){return h.subscribe(new o(f,this.resultSelector))},c}();t.CombineLatestOperator=n;var o=function(c){e(f,c);function f(h,d){var b=c.call(this,h)||this;return b.resultSelector=d,b.active=0,b.values=[],b.observables=[],b}return f.prototype._next=function(h){this.values.push(i),this.observables.push(h)},f.prototype._complete=function(){var h=this.observables,d=h.length;if(d===0)this.destination.complete();else{this.active=d,this.toRespond=d;for(var b=0;b<d;b++){var y=h[b];this.add(p.subscribeToResult(this,y,void 0,b))}}},f.prototype.notifyComplete=function(h){(this.active-=1)===0&&this.destination.complete()},f.prototype.notifyNext=function(h,d,b){var y=this.values,m=y[b],O=this.toRespond?m===i?--this.toRespond:this.toRespond:0;y[b]=d,O===0&&(this.resultSelector?this._tryResultSelector(y):this.destination.next(y.slice()))},f.prototype._tryResultSelector=function(h){var d;try{d=this.resultSelector.apply(this,h)}catch(b){this.destination.error(b);return}this.destination.next(d)},f}(l.OuterSubscriber);t.CombineLatestSubscriber=o}),Ou=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=Q(),u=Rt();function l(p,a){return new e.Observable(function(i){var r=new s.Subscription;return r.add(a.schedule(function(){var n=p[u.observable]();r.add(n.subscribe({next:function(o){r.add(a.schedule(function(){return i.next(o)}))},error:function(o){r.add(a.schedule(function(){return i.error(o)}))},complete:function(){r.add(a.schedule(function(){return i.complete()}))}}))})),r})}t.scheduleObservable=l}),gu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=Q();function u(l,p){return new e.Observable(function(a){var i=new s.Subscription;return i.add(p.schedule(function(){return l.then(function(r){i.add(p.schedule(function(){a.next(r),i.add(p.schedule(function(){return a.complete()}))}))},function(r){i.add(p.schedule(function(){return a.error(r)}))})})),i})}t.schedulePromise=u}),Su=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=Q(),u=te();function l(p,a){if(!p)throw new Error("Iterable cannot be null");return new e.Observable(function(i){var r=new s.Subscription,n;return r.add(function(){n&&typeof n.return=="function"&&n.return()}),r.add(a.schedule(function(){n=p[u.iterator](),r.add(a.schedule(function(){if(!i.closed){var o,c;try{var f=n.next();o=f.value,c=f.done}catch(h){i.error(h);return}c?i.complete():(i.next(o),this.schedule())}}))})),r})}t.scheduleIterable=l}),wu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Rt();function s(u){return u&&typeof u[e.observable]=="function"}t.isInteropObservable=s}),Cu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=te();function s(u){return u&&typeof u[e.iterator]=="function"}t.isIterable=s}),ri=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ou(),s=gu(),u=fr(),l=Su(),p=wu(),a=ei(),i=ti(),r=Cu();function n(o,c){if(o!=null){if(p.isInteropObservable(o))return e.scheduleObservable(o,c);if(a.isPromise(o))return s.schedulePromise(o,c);if(i.isArrayLike(o))return u.scheduleArray(o,c);if(r.isIterable(o)||typeof o=="string")return l.scheduleIterable(o,c)}throw new TypeError((o!==null&&typeof o||o)+" is not observable")}t.scheduled=n}),pt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=Ce(),u=ri();function l(p,a){return a?u.scheduled(p,a):p instanceof e.Observable?p:new e.Observable(s.subscribeTo(p))}t.from=l}),G=_(t=>{"use strict";var e=t&&t.__extends||function(){var o=function(c,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var b in d)d.hasOwnProperty(b)&&(h[b]=d[b])},o(c,f)};return function(c,f){o(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=R(),l=Ce(),p=function(o){e(c,o);function c(f){var h=o.call(this)||this;return h.parent=f,h}return c.prototype._next=function(f){this.parent.notifyNext(f)},c.prototype._error=function(f){this.parent.notifyError(f),this.unsubscribe()},c.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},c}(s.Subscriber);t.SimpleInnerSubscriber=p;var a=function(o){e(c,o);function c(f,h,d){var b=o.call(this)||this;return b.parent=f,b.outerValue=h,b.outerIndex=d,b}return c.prototype._next=function(f){this.parent.notifyNext(this.outerValue,f,this.outerIndex,this)},c.prototype._error=function(f){this.parent.notifyError(f),this.unsubscribe()},c.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},c}(s.Subscriber);t.ComplexInnerSubscriber=a;var i=function(o){e(c,o);function c(){return o!==null&&o.apply(this,arguments)||this}return c.prototype.notifyNext=function(f){this.destination.next(f)},c.prototype.notifyError=function(f){this.destination.error(f)},c.prototype.notifyComplete=function(){this.destination.complete()},c}(s.Subscriber);t.SimpleOuterSubscriber=i;var r=function(o){e(c,o);function c(){return o!==null&&o.apply(this,arguments)||this}return c.prototype.notifyNext=function(f,h,d,b){this.destination.next(h)},c.prototype.notifyError=function(f){this.destination.error(f)},c.prototype.notifyComplete=function(f){this.destination.complete()},c}(s.Subscriber);t.ComplexOuterSubscriber=r;function n(o,c){if(!c.closed){if(o instanceof u.Observable)return o.subscribe(c);var f;try{f=l.subscribeTo(o)(c)}catch(h){c.error(h)}return f}}t.innerSubscribe=n}),xe=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=st(),u=pt(),l=G();function p(r,n,o){return o===void 0&&(o=Number.POSITIVE_INFINITY),typeof n=="function"?function(c){return c.pipe(p(function(f,h){return u.from(r(f,h)).pipe(s.map(function(d,b){return n(f,d,h,b)}))},o))}:(typeof n=="number"&&(o=n),function(c){return c.lift(new a(r,o))})}t.mergeMap=p;var a=function(){function r(n,o){o===void 0&&(o=Number.POSITIVE_INFINITY),this.project=n,this.concurrent=o}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.project,this.concurrent))},r}();t.MergeMapOperator=a;var i=function(r){e(n,r);function n(o,c,f){f===void 0&&(f=Number.POSITIVE_INFINITY);var h=r.call(this,o)||this;return h.project=c,h.concurrent=f,h.hasCompleted=!1,h.buffer=[],h.active=0,h.index=0,h}return n.prototype._next=function(o){this.active<this.concurrent?this._tryNext(o):this.buffer.push(o)},n.prototype._tryNext=function(o){var c,f=this.index++;try{c=this.project(o,f)}catch(h){this.destination.error(h);return}this.active++,this._innerSub(c)},n.prototype._innerSub=function(o){var c=new l.SimpleInnerSubscriber(this),f=this.destination;f.add(c);var h=l.innerSubscribe(o,c);h!==c&&f.add(h)},n.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(o){this.destination.next(o)},n.prototype.notifyComplete=function(){var o=this.buffer;this.active--,o.length>0?this._next(o.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},n}(l.SimpleOuterSubscriber);t.MergeMapSubscriber=i,t.flatMap=p}),yr=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=xe(),s=Bt();function u(l){return l===void 0&&(l=Number.POSITIVE_INFINITY),e.mergeMap(s.identity,l)}t.mergeAll=u}),ni=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=yr();function s(){return e.mergeAll(1)}t.concatAll=s}),Ie=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=ge(),s=ni();function u(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return s.concatAll()(e.of.apply(void 0,l))}t.concat=u}),vr=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=pt(),u=lt();function l(p){return new e.Observable(function(a){var i;try{i=p()}catch(n){a.error(n);return}var r=i?s.from(i):u.empty();return r.subscribe(a)})}t.defer=l}),xu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=et(),u=st(),l=sr(),p=pt();function a(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(r.length===1){var o=r[0];if(s.isArray(o))return i(o,null);if(l.isObject(o)&&Object.getPrototypeOf(o)===Object.prototype){var c=Object.keys(o);return i(c.map(function(h){return o[h]}),c)}}if(typeof r[r.length-1]=="function"){var f=r.pop();return r=r.length===1&&s.isArray(r[0])?r[0]:r,i(r,null).pipe(u.map(function(h){return f.apply(void 0,h)}))}return i(r,null)}t.forkJoin=a;function i(r,n){return new e.Observable(function(o){var c=r.length;if(c===0){o.complete();return}for(var f=new Array(c),h=0,d=0,b=function(m){var O=p.from(r[m]),S=!1;o.add(O.subscribe({next:function(P){S||(S=!0,d++),f[m]=P},error:function(P){return o.error(P)},complete:function(){h++,(h===c||!S)&&(d===c&&o.next(n?n.reduce(function(P,C,N){return P[C]=f[N],P},{}):f),o.complete())}}))},y=0;y<c;y++)b(y)})}}),Iu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=et(),u=Yt(),l=st(),p=function(){return Object.prototype.toString}();function a(c,f,h,d){return u.isFunction(h)&&(d=h,h=void 0),d?a(c,f,h).pipe(l.map(function(b){return s.isArray(b)?d.apply(void 0,b):d(b)})):new e.Observable(function(b){function y(m){arguments.length>1?b.next(Array.prototype.slice.call(arguments)):b.next(m)}i(c,f,y,b,h)})}t.fromEvent=a;function i(c,f,h,d,b){var y;if(o(c)){var m=c;c.addEventListener(f,h,b),y=function(){return m.removeEventListener(f,h,b)}}else if(n(c)){var O=c;c.on(f,h),y=function(){return O.off(f,h)}}else if(r(c)){var S=c;c.addListener(f,h),y=function(){return S.removeListener(f,h)}}else if(c&&c.length)for(var P=0,C=c.length;P<C;P++)i(c[P],f,h,d,b);else throw new TypeError("Invalid event target");d.add(y)}function r(c){return c&&typeof c.addListener=="function"&&typeof c.removeListener=="function"}function n(c){return c&&typeof c.on=="function"&&typeof c.off=="function"}function o(c){return c&&typeof c.addEventListener=="function"&&typeof c.removeEventListener=="function"}}),Pu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=et(),u=Yt(),l=st();function p(a,i,r){return r?p(a,i).pipe(l.map(function(n){return s.isArray(n)?r.apply(void 0,n):r(n)})):new e.Observable(function(n){var o=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return n.next(f.length===1?f[0]:f)},c;try{c=a(o)}catch(f){n.error(f);return}if(u.isFunction(i))return function(){return i(o,c)}})}t.fromEventPattern=p}),Bu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=Bt(),u=ft();function l(a,i,r,n,o){var c,f;if(arguments.length==1){var h=a;f=h.initialState,i=h.condition,r=h.iterate,c=h.resultSelector||s.identity,o=h.scheduler}else n===void 0||u.isScheduler(n)?(f=a,c=s.identity,o=n):(f=a,c=n);return new e.Observable(function(d){var b=f;if(o)return o.schedule(p,0,{subscriber:d,iterate:r,condition:i,resultSelector:c,state:b});do{if(i){var y=void 0;try{y=i(b)}catch(O){d.error(O);return}if(!y){d.complete();break}}var m=void 0;try{m=c(b)}catch(O){d.error(O);return}if(d.next(m),d.closed)break;try{b=r(b)}catch(O){d.error(O);return}}while(!0)})}t.generate=l;function p(a){var i=a.subscriber,r=a.condition;if(!i.closed){if(a.needIterate)try{a.state=a.iterate(a.state)}catch(c){i.error(c);return}else a.needIterate=!0;if(r){var n=void 0;try{n=r(a.state)}catch(c){i.error(c);return}if(!n){i.complete();return}if(i.closed)return}var o;try{o=a.resultSelector(a.state)}catch(c){i.error(c);return}if(!i.closed&&(i.next(o),!i.closed))return this.schedule(a)}}}),Au=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=vr(),s=lt();function u(l,p,a){return p===void 0&&(p=s.EMPTY),a===void 0&&(a=s.EMPTY),e.defer(function(){return l()?p:a})}t.iif=u}),Pe=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=et();function s(u){return!e.isArray(u)&&u-parseFloat(u)+1>=0}t.isNumeric=s}),Eu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=rt(),u=Pe();function l(a,i){return a===void 0&&(a=0),i===void 0&&(i=s.async),(!u.isNumeric(a)||a<0)&&(a=0),(!i||typeof i.schedule!="function")&&(i=s.async),new e.Observable(function(r){return r.add(i.schedule(p,a,{subscriber:r,counter:0,period:a})),r})}t.interval=l;function p(a){var i=a.subscriber,r=a.counter,n=a.period;i.next(r),this.schedule({subscriber:i,counter:r+1,period:n},n)}}),ii=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=ft(),u=yr(),l=Kt();function p(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var r=Number.POSITIVE_INFINITY,n=null,o=a[a.length-1];return s.isScheduler(o)?(n=a.pop(),a.length>1&&typeof a[a.length-1]=="number"&&(r=a.pop())):typeof o=="number"&&(r=a.pop()),n===null&&a.length===1&&a[0]instanceof e.Observable?a[0]:u.mergeAll(r)(l.fromArray(a,n))}t.merge=p}),Ln=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=dr();t.NEVER=new e.Observable(s.noop);function u(){return t.NEVER}t.never=u}),Nu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=pt(),u=et(),l=lt();function p(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(a.length===0)return l.EMPTY;var r=a[0],n=a.slice(1);return a.length===1&&u.isArray(r)?p.apply(void 0,r):new e.Observable(function(o){var c=function(){return o.add(p.apply(void 0,n).subscribe(o))};return s.from(r).subscribe({next:function(f){o.next(f)},error:c,complete:c})})}t.onErrorResumeNext=p}),ju=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=Q();function u(p,a){return a?new e.Observable(function(i){var r=Object.keys(p),n=new s.Subscription;return n.add(a.schedule(l,0,{keys:r,index:0,subscriber:i,subscription:n,obj:p})),n}):new e.Observable(function(i){for(var r=Object.keys(p),n=0;n<r.length&&!i.closed;n++){var o=r[n];p.hasOwnProperty(o)&&i.next([o,p[o]])}i.complete()})}t.pairs=u;function l(p){var a=p.keys,i=p.index,r=p.subscriber,n=p.subscription,o=p.obj;if(!r.closed)if(i<a.length){var c=a[i];r.next([c,o[c]]),n.add(this.schedule({keys:a,index:i+1,subscriber:r,subscription:n,obj:o}))}else r.complete()}t.dispatch=l}),oi=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s,u){function l(){return!l.pred.apply(l.thisArg,arguments)}return l.pred=s,l.thisArg=u,l}t.not=e}),Ut=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a,i){return function(r){return r.lift(new l(a,i))}}t.filter=u;var l=function(){function a(i,r){this.predicate=i,this.thisArg=r}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.predicate,this.thisArg))},a}(),p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.predicate=n,c.thisArg=o,c.count=0,c}return i.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(o){this.destination.error(o);return}n&&this.destination.next(r)},i}(s.Subscriber)}),ku=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=oi(),s=Ce(),u=Ut(),l=R();function p(a,i,r){return[u.filter(i,r)(new l.Observable(s.subscribeTo(a))),u.filter(e.not(i,r))(new l.Observable(s.subscribeTo(a)))]}t.partition=p}),si=_(t=>{"use strict";var e=t&&t.__extends||function(){var n=function(o,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])},n(o,c)};return function(o,c){n(o,c);function f(){this.constructor=o}o.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=et(),u=Kt(),l=At(),p=Et();function a(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(n.length===1)if(s.isArray(n[0]))n=n[0];else return n[0];return u.fromArray(n,void 0).lift(new i)}t.race=a;var i=function(){function n(){}return n.prototype.call=function(o,c){return c.subscribe(new r(o))},n}();t.RaceOperator=i;var r=function(n){e(o,n);function o(c){var f=n.call(this,c)||this;return f.hasFirst=!1,f.observables=[],f.subscriptions=[],f}return o.prototype._next=function(c){this.observables.push(c)},o.prototype._complete=function(){var c=this.observables,f=c.length;if(f===0)this.destination.complete();else{for(var h=0;h<f&&!this.hasFirst;h++){var d=c[h],b=p.subscribeToResult(this,d,void 0,h);this.subscriptions&&this.subscriptions.push(b),this.add(b)}this.observables=null}},o.prototype.notifyNext=function(c,f,h){if(!this.hasFirst){this.hasFirst=!0;for(var d=0;d<this.subscriptions.length;d++)if(d!==h){var b=this.subscriptions[d];b.unsubscribe(),this.remove(b)}this.subscriptions=null}this.destination.next(f)},o}(l.OuterSubscriber);t.RaceSubscriber=r}),Du=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R();function s(l,p,a){return l===void 0&&(l=0),new e.Observable(function(i){p===void 0&&(p=l,l=0);var r=0,n=l;if(a)return a.schedule(u,0,{index:r,count:p,start:l,subscriber:i});do{if(r++>=p){i.complete();break}if(i.next(n++),i.closed)break}while(!0)})}t.range=s;function u(l){var p=l.start,a=l.index,i=l.count,r=l.subscriber;if(a>=i){r.complete();return}r.next(p),!r.closed&&(l.index=a+1,l.start=p+1,this.schedule(l))}t.dispatch=u}),ai=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=rt(),u=Pe(),l=ft();function p(i,r,n){i===void 0&&(i=0);var o=-1;return u.isNumeric(r)?o=Number(r)<1&&1||Number(r):l.isScheduler(r)&&(n=r),l.isScheduler(n)||(n=s.async),new e.Observable(function(c){var f=u.isNumeric(i)?i:+i-n.now();return n.schedule(a,f,{index:0,period:o,subscriber:c})})}t.timer=p;function a(i){var r=i.index,n=i.period,o=i.subscriber;if(o.next(r),!o.closed){if(n===-1)return o.complete();i.index=r+1,this.schedule(i,n)}}}),Tu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R(),s=pt(),u=lt();function l(p,a){return new e.Observable(function(i){var r;try{r=p()}catch(f){i.error(f);return}var n;try{n=a(r)}catch(f){i.error(f);return}var o=n?s.from(n):u.EMPTY,c=o.subscribe(i);return function(){c.unsubscribe(),r&&r.unsubscribe()}})}t.using=l}),mr=_(t=>{"use strict";var e=t&&t.__extends||function(){var h=function(d,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var O in m)m.hasOwnProperty(O)&&(y[O]=m[O])},h(d,b)};return function(d,b){h(d,b);function y(){this.constructor=d}d.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Kt(),u=et(),l=k(),p=te(),a=G();function i(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var b=h[h.length-1];return typeof b=="function"&&h.pop(),s.fromArray(h,void 0).lift(new r(b))}t.zip=i;var r=function(){function h(d){this.resultSelector=d}return h.prototype.call=function(d,b){return b.subscribe(new n(d,this.resultSelector))},h}();t.ZipOperator=r;var n=function(h){e(d,h);function d(b,y,m){m===void 0&&(m=Object.create(null));var O=h.call(this,b)||this;return O.resultSelector=y,O.iterators=[],O.active=0,O.resultSelector=typeof y=="function"?y:void 0,O}return d.prototype._next=function(b){var y=this.iterators;u.isArray(b)?y.push(new c(b)):typeof b[p.iterator]=="function"?y.push(new o(b[p.iterator]())):y.push(new f(this.destination,this,b))},d.prototype._complete=function(){var b=this.iterators,y=b.length;if(this.unsubscribe(),y===0){this.destination.complete();return}this.active=y;for(var m=0;m<y;m++){var O=b[m];if(O.stillUnsubscribed){var S=this.destination;S.add(O.subscribe())}else this.active--}},d.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},d.prototype.checkIterators=function(){for(var b=this.iterators,y=b.length,m=this.destination,O=0;O<y;O++){var S=b[O];if(typeof S.hasValue=="function"&&!S.hasValue())return}for(var P=!1,C=[],O=0;O<y;O++){var S=b[O],N=S.next();if(S.hasCompleted()&&(P=!0),N.done){m.complete();return}C.push(N.value)}this.resultSelector?this._tryresultSelector(C):m.next(C),P&&m.complete()},d.prototype._tryresultSelector=function(b){var y;try{y=this.resultSelector.apply(this,b)}catch(m){this.destination.error(m);return}this.destination.next(y)},d}(l.Subscriber);t.ZipSubscriber=n;var o=function(){function h(d){this.iterator=d,this.nextResult=d.next()}return h.prototype.hasValue=function(){return!0},h.prototype.next=function(){var d=this.nextResult;return this.nextResult=this.iterator.next(),d},h.prototype.hasCompleted=function(){var d=this.nextResult;return Boolean(d&&d.done)},h}(),c=function(){function h(d){this.array=d,this.index=0,this.length=0,this.length=d.length}return h.prototype[p.iterator]=function(){return this},h.prototype.next=function(d){var b=this.index++,y=this.array;return b<this.length?{value:y[b],done:!1}:{value:null,done:!0}},h.prototype.hasValue=function(){return this.array.length>this.index},h.prototype.hasCompleted=function(){return this.array.length===this.index},h}(),f=function(h){e(d,h);function d(b,y,m){var O=h.call(this,b)||this;return O.parent=y,O.observable=m,O.stillUnsubscribed=!0,O.buffer=[],O.isComplete=!1,O}return d.prototype[p.iterator]=function(){return this},d.prototype.next=function(){var b=this.buffer;return b.length===0&&this.isComplete?{value:null,done:!0}:{value:b.shift(),done:!1}},d.prototype.hasValue=function(){return this.buffer.length>0},d.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},d.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},d.prototype.notifyNext=function(b){this.buffer.push(b),this.parent.checkIterators()},d.prototype.subscribe=function(){return a.innerSubscribe(this.observable,new a.SimpleInnerSubscriber(this))},d}(a.SimpleOuterSubscriber)}),Be=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=R();t.Observable=e.Observable;var s=qn();t.ConnectableObservable=s.ConnectableObservable;var u=Wn();t.GroupedObservable=u.GroupedObservable;var l=Rt();t.observable=l.observable;var p=tt();t.Subject=p.Subject;var a=Hn();t.BehaviorSubject=a.BehaviorSubject;var i=hr();t.ReplaySubject=i.ReplaySubject;var r=we();t.AsyncSubject=r.AsyncSubject;var n=Zn();t.asap=n.asap,t.asapScheduler=n.asapScheduler;var o=rt();t.async=o.async,t.asyncScheduler=o.asyncScheduler;var c=Qn();t.queue=c.queue,t.queueScheduler=c.queueScheduler;var f=fu();t.animationFrame=f.animationFrame,t.animationFrameScheduler=f.animationFrameScheduler;var h=pu();t.VirtualTimeScheduler=h.VirtualTimeScheduler,t.VirtualAction=h.VirtualAction;var d=Yn();t.Scheduler=d.Scheduler;var b=Q();t.Subscription=b.Subscription;var y=k();t.Subscriber=y.Subscriber;var m=Se();t.Notification=m.Notification,t.NotificationKind=m.NotificationKind;var O=ur();t.pipe=O.pipe;var S=dr();t.noop=S.noop;var P=Bt();t.identity=P.identity;var C=hu();t.isObservable=C.isObservable;var N=Zt();t.ArgumentOutOfRangeError=N.ArgumentOutOfRangeError;var L=Xt();t.EmptyError=L.EmptyError;var q=Oe();t.ObjectUnsubscribedError=q.ObjectUnsubscribedError;var j=Gn();t.UnsubscriptionError=j.UnsubscriptionError;var z=Xn();t.TimeoutError=z.TimeoutError;var F=du();t.bindCallback=F.bindCallback;var nt=bu();t.bindNodeCallback=nt.bindNodeCallback;var X=br();t.combineLatest=X.combineLatest;var g=Ie();t.concat=g.concat;var w=vr();t.defer=w.defer;var x=lt();t.empty=x.empty;var I=xu();t.forkJoin=I.forkJoin;var E=pt();t.from=E.from;var B=Iu();t.fromEvent=B.fromEvent;var T=Pu();t.fromEventPattern=T.fromEventPattern;var U=Bu();t.generate=U.generate;var W=Au();t.iif=W.iif;var D=Eu();t.interval=D.interval;var M=ii();t.merge=M.merge;var H=Ln();t.never=H.never;var V=ge();t.of=V.of;var Y=Nu();t.onErrorResumeNext=Y.onErrorResumeNext;var it=ju();t.pairs=it.pairs;var ct=ku();t.partition=ct.partition;var ot=si();t.race=ot.race;var dt=Du();t.range=dt.range;var bt=pr();t.throwError=bt.throwError;var $e=ai();t.timer=$e.timer;var Ke=Tu();t.using=Ke.using;var Ze=mr();t.zip=Ze.zip;var Xe=ri();t.scheduled=Xe.scheduled;var tr=lt();t.EMPTY=tr.EMPTY;var er=Ln();t.NEVER=er.NEVER;var rr=_e();t.config=rr.config}),ci=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a){return function(i){return i.lift(new l(a))}}t.audit=u;var l=function(){function a(i){this.durationSelector=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.durationSelector))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.durationSelector=n,o.hasValue=!1,o}return i.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var o=this.durationSelector;n=o(r)}catch(f){return this.destination.error(f)}var c=s.innerSubscribe(n,new s.SimpleInnerSubscriber(this));!c||c.closed?this.clearThrottle():this.add(this.throttled=c)}},i.prototype.clearThrottle=function(){var r=this,n=r.value,o=r.hasValue,c=r.throttled;c&&(this.remove(c),this.throttled=void 0,c.unsubscribe()),o&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},i.prototype.notifyNext=function(){this.clearThrottle()},i.prototype.notifyComplete=function(){this.clearThrottle()},i}(s.SimpleOuterSubscriber)}),Mu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=rt(),s=ci(),u=ai();function l(p,a){return a===void 0&&(a=e.async),s.audit(function(){return u.timer(p,a)})}t.auditTime=l}),Fu=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a){return function(i){return i.lift(new l(a))}}t.buffer=u;var l=function(){function a(i){this.closingNotifier=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.closingNotifier))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.buffer=[],o.add(s.innerSubscribe(n,new s.SimpleInnerSubscriber(o))),o}return i.prototype._next=function(r){this.buffer.push(r)},i.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},i}(s.SimpleOuterSubscriber)}),Ru=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(i,r){return r===void 0&&(r=null),function(n){return n.lift(new l(i,r))}}t.bufferCount=u;var l=function(){function i(r,n){this.bufferSize=r,this.startBufferEvery=n,!n||r===n?this.subscriberClass=p:this.subscriberClass=a}return i.prototype.call=function(r,n){return n.subscribe(new this.subscriberClass(r,this.bufferSize,this.startBufferEvery))},i}(),p=function(i){e(r,i);function r(n,o){var c=i.call(this,n)||this;return c.bufferSize=o,c.buffer=[],c}return r.prototype._next=function(n){var o=this.buffer;o.push(n),o.length==this.bufferSize&&(this.destination.next(o),this.buffer=[])},r.prototype._complete=function(){var n=this.buffer;n.length>0&&this.destination.next(n),i.prototype._complete.call(this)},r}(s.Subscriber),a=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;return f.bufferSize=o,f.startBufferEvery=c,f.buffers=[],f.count=0,f}return r.prototype._next=function(n){var o=this,c=o.bufferSize,f=o.startBufferEvery,h=o.buffers,d=o.count;this.count++,d%f===0&&h.push([]);for(var b=h.length;b--;){var y=h[b];y.push(n),y.length===c&&(h.splice(b,1),this.destination.next(y))}},r.prototype._complete=function(){for(var n=this,o=n.buffers,c=n.destination;o.length>0;){var f=o.shift();f.length>0&&c.next(f)}i.prototype._complete.call(this)},r}(s.Subscriber)}),Uu=_(t=>{"use strict";var e=t&&t.__extends||function(){var f=function(h,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var m in y)y.hasOwnProperty(m)&&(b[m]=y[m])},f(h,d)};return function(h,d){f(h,d);function b(){this.constructor=h}h.prototype=d===null?Object.create(d):(b.prototype=d.prototype,new b)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=rt(),u=k(),l=ft();function p(f){var h=arguments.length,d=s.async;l.isScheduler(arguments[arguments.length-1])&&(d=arguments[arguments.length-1],h--);var b=null;h>=2&&(b=arguments[1]);var y=Number.POSITIVE_INFINITY;return h>=3&&(y=arguments[2]),function(m){return m.lift(new a(f,b,y,d))}}t.bufferTime=p;var a=function(){function f(h,d,b,y){this.bufferTimeSpan=h,this.bufferCreationInterval=d,this.maxBufferSize=b,this.scheduler=y}return f.prototype.call=function(h,d){return d.subscribe(new r(h,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},f}(),i=function(){function f(){this.buffer=[]}return f}(),r=function(f){e(h,f);function h(d,b,y,m,O){var S=f.call(this,d)||this;S.bufferTimeSpan=b,S.bufferCreationInterval=y,S.maxBufferSize=m,S.scheduler=O,S.contexts=[];var P=S.openContext();if(S.timespanOnly=y==null||y<0,S.timespanOnly){var C={subscriber:S,context:P,bufferTimeSpan:b};S.add(P.closeAction=O.schedule(n,b,C))}else{var N={subscriber:S,context:P},L={bufferTimeSpan:b,bufferCreationInterval:y,subscriber:S,scheduler:O};S.add(P.closeAction=O.schedule(c,b,N)),S.add(O.schedule(o,y,L))}return S}return h.prototype._next=function(d){for(var b=this.contexts,y=b.length,m,O=0;O<y;O++){var S=b[O],P=S.buffer;P.push(d),P.length==this.maxBufferSize&&(m=S)}m&&this.onBufferFull(m)},h.prototype._error=function(d){this.contexts.length=0,f.prototype._error.call(this,d)},h.prototype._complete=function(){for(var d=this,b=d.contexts,y=d.destination;b.length>0;){var m=b.shift();y.next(m.buffer)}f.prototype._complete.call(this)},h.prototype._unsubscribe=function(){this.contexts=null},h.prototype.onBufferFull=function(d){this.closeContext(d);var b=d.closeAction;if(b.unsubscribe(),this.remove(b),!this.closed&&this.timespanOnly){d=this.openContext();var y=this.bufferTimeSpan,m={subscriber:this,context:d,bufferTimeSpan:y};this.add(d.closeAction=this.scheduler.schedule(n,y,m))}},h.prototype.openContext=function(){var d=new i;return this.contexts.push(d),d},h.prototype.closeContext=function(d){this.destination.next(d.buffer);var b=this.contexts,y=b?b.indexOf(d):-1;y>=0&&b.splice(b.indexOf(d),1)},h}(u.Subscriber);function n(f){var h=f.subscriber,d=f.context;d&&h.closeContext(d),h.closed||(f.context=h.openContext(),f.context.closeAction=this.schedule(f,f.bufferTimeSpan))}function o(f){var h=f.bufferCreationInterval,d=f.bufferTimeSpan,b=f.subscriber,y=f.scheduler,m=b.openContext(),O=this;b.closed||(b.add(m.closeAction=y.schedule(c,d,{subscriber:b,context:m})),O.schedule(f,h))}function c(f){var h=f.subscriber,d=f.context;h.closeContext(d)}}),Lu=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Q(),u=Et(),l=At();function p(r,n){return function(o){return o.lift(new a(r,n))}}t.bufferToggle=p;var a=function(){function r(n,o){this.openings=n,this.closingSelector=o}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.openings,this.closingSelector))},r}(),i=function(r){e(n,r);function n(o,c,f){var h=r.call(this,o)||this;return h.closingSelector=f,h.contexts=[],h.add(u.subscribeToResult(h,c)),h}return n.prototype._next=function(o){for(var c=this.contexts,f=c.length,h=0;h<f;h++)c[h].buffer.push(o)},n.prototype._error=function(o){for(var c=this.contexts;c.length>0;){var f=c.shift();f.subscription.unsubscribe(),f.buffer=null,f.subscription=null}this.contexts=null,r.prototype._error.call(this,o)},n.prototype._complete=function(){for(var o=this.contexts;o.length>0;){var c=o.shift();this.destination.next(c.buffer),c.subscription.unsubscribe(),c.buffer=null,c.subscription=null}this.contexts=null,r.prototype._complete.call(this)},n.prototype.notifyNext=function(o,c){o?this.closeBuffer(o):this.openBuffer(c)},n.prototype.notifyComplete=function(o){this.closeBuffer(o.context)},n.prototype.openBuffer=function(o){try{var c=this.closingSelector,f=c.call(this,o);f&&this.trySubscribe(f)}catch(h){this._error(h)}},n.prototype.closeBuffer=function(o){var c=this.contexts;if(c&&o){var f=o.buffer,h=o.subscription;this.destination.next(f),c.splice(c.indexOf(o),1),this.remove(h),h.unsubscribe()}},n.prototype.trySubscribe=function(o){var c=this.contexts,f=[],h=new s.Subscription,d={buffer:f,subscription:h};c.push(d);var b=u.subscribeToResult(this,o,d);!b||b.closed?this.closeBuffer(d):(b.context=d,this.add(b),h.add(b))},n}(l.OuterSubscriber)}),Vu=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Q(),u=G();function l(i){return function(r){return r.lift(new p(i))}}t.bufferWhen=l;var p=function(){function i(r){this.closingSelector=r}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.closingSelector))},i}(),a=function(i){e(r,i);function r(n,o){var c=i.call(this,n)||this;return c.closingSelector=o,c.subscribing=!1,c.openBuffer(),c}return r.prototype._next=function(n){this.buffer.push(n)},r.prototype._complete=function(){var n=this.buffer;n&&this.destination.next(n),i.prototype._complete.call(this)},r.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},r.prototype.notifyNext=function(){this.openBuffer()},r.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},r.prototype.openBuffer=function(){var n=this.closingSubscription;n&&(this.remove(n),n.unsubscribe());var o=this.buffer;this.buffer&&this.destination.next(o),this.buffer=[];var c;try{var f=this.closingSelector;c=f()}catch(h){return this.error(h)}n=new s.Subscription,this.closingSubscription=n,this.add(n),this.subscribing=!0,n.add(u.innerSubscribe(c,new u.SimpleInnerSubscriber(this))),this.subscribing=!1},r}(u.SimpleOuterSubscriber)}),Ju=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a){return function(i){var r=new l(a),n=i.lift(r);return r.caught=n}}t.catchError=u;var l=function(){function a(i){this.selector=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.selector,this.caught))},a}(),p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.selector=n,c.caught=o,c}return i.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(f){a.prototype.error.call(this,f);return}this._unsubscribeAndRecycle();var o=new s.SimpleInnerSubscriber(this);this.add(o);var c=s.innerSubscribe(n,o);c!==o&&this.add(c)}},i}(s.SimpleOuterSubscriber)}),Gu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=br();function s(u){return function(l){return l.lift(new e.CombineLatestOperator(u))}}t.combineAll=s}),zu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=et(),s=br(),u=pt();function l(){for(var p=[],a=0;a<arguments.length;a++)p[a]=arguments[a];var i=null;return typeof p[p.length-1]=="function"&&(i=p.pop()),p.length===1&&e.isArray(p[0])&&(p=p[0].slice()),function(r){return r.lift.call(u.from([r].concat(p)),new s.CombineLatestOperator(i))}}t.combineLatest=l}),qu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ie();function s(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return function(p){return p.lift.call(e.concat.apply(void 0,[p].concat(u)))}}t.concat=s}),ui=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=xe();function s(u,l){return e.mergeMap(u,l,1)}t.concatMap=s}),Wu=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=ui();function s(u,l){return e.concatMap(function(){return u},l)}t.concatMapTo=s}),Hu=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a){return function(i){return i.lift(new l(a,i))}}t.count=u;var l=function(){function a(i,r){this.predicate=i,this.source=r}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.predicate,this.source))},a}(),p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.predicate=n,c.source=o,c.count=0,c.index=0,c}return i.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},i.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(o){this.destination.error(o);return}n&&this.count++},i.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},i}(s.Subscriber)}),Yu=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a){return function(i){return i.lift(new l(a))}}t.debounce=u;var l=function(){function a(i){this.durationSelector=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.durationSelector))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.durationSelector=n,o.hasValue=!1,o}return i.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(o){this.destination.error(o)}},i.prototype._complete=function(){this.emitValue(),this.destination.complete()},i.prototype._tryNext=function(r,n){var o=this.durationSubscription;this.value=r,this.hasValue=!0,o&&(o.unsubscribe(),this.remove(o)),o=s.innerSubscribe(n,new s.SimpleInnerSubscriber(this)),o&&!o.closed&&this.add(this.durationSubscription=o)},i.prototype.notifyNext=function(){this.emitValue()},i.prototype.notifyComplete=function(){this.emitValue()},i.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,a.prototype._next.call(this,r)}},i}(s.SimpleOuterSubscriber)}),Qu=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=rt();function l(r,n){return n===void 0&&(n=u.async),function(o){return o.lift(new p(r,n))}}t.debounceTime=l;var p=function(){function r(n,o){this.dueTime=n,this.scheduler=o}return r.prototype.call=function(n,o){return o.subscribe(new a(n,this.dueTime,this.scheduler))},r}(),a=function(r){e(n,r);function n(o,c,f){var h=r.call(this,o)||this;return h.dueTime=c,h.scheduler=f,h.debouncedSubscription=null,h.lastValue=null,h.hasValue=!1,h}return n.prototype._next=function(o){this.clearDebounce(),this.lastValue=o,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var o=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(o)}},n.prototype.clearDebounce=function(){var o=this.debouncedSubscription;o!==null&&(this.remove(o),o.unsubscribe(),this.debouncedSubscription=null)},n}(s.Subscriber);function i(r){r.debouncedNext()}}),ee=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a){return a===void 0&&(a=null),function(i){return i.lift(new l(a))}}t.defaultIfEmpty=u;var l=function(){function a(i){this.defaultValue=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.defaultValue))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.defaultValue=n,o.isEmpty=!0,o}return i.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},i.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},i}(s.Subscriber)}),li=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});function e(s){return s instanceof Date&&!isNaN(+s)}t.isDate=e}),$u=_(t=>{"use strict";var e=t&&t.__extends||function(){var o=function(c,f){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var b in d)d.hasOwnProperty(b)&&(h[b]=d[b])},o(c,f)};return function(c,f){o(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=rt(),u=li(),l=k(),p=Se();function a(o,c){c===void 0&&(c=s.async);var f=u.isDate(o),h=f?+o-c.now():Math.abs(o);return function(d){return d.lift(new i(h,c))}}t.delay=a;var i=function(){function o(c,f){this.delay=c,this.scheduler=f}return o.prototype.call=function(c,f){return f.subscribe(new r(c,this.delay,this.scheduler))},o}(),r=function(o){e(c,o);function c(f,h,d){var b=o.call(this,f)||this;return b.delay=h,b.scheduler=d,b.queue=[],b.active=!1,b.errored=!1,b}return c.dispatch=function(f){for(var h=f.source,d=h.queue,b=f.scheduler,y=f.destination;d.length>0&&d[0].time-b.now()<=0;)d.shift().notification.observe(y);if(d.length>0){var m=Math.max(0,d[0].time-b.now());this.schedule(f,m)}else this.unsubscribe(),h.active=!1},c.prototype._schedule=function(f){this.active=!0;var h=this.destination;h.add(f.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:f}))},c.prototype.scheduleNotification=function(f){if(this.errored!==!0){var h=this.scheduler,d=new n(h.now()+this.delay,f);this.queue.push(d),this.active===!1&&this._schedule(h)}},c.prototype._next=function(f){this.scheduleNotification(p.Notification.createNext(f))},c.prototype._error=function(f){this.errored=!0,this.queue=[],this.destination.error(f),this.unsubscribe()},c.prototype._complete=function(){this.scheduleNotification(p.Notification.createComplete()),this.unsubscribe()},c}(l.Subscriber),n=function(){function o(c,f){this.time=c,this.notification=f}return o}()}),Ku=_(t=>{"use strict";var e=t&&t.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var y in b)b.hasOwnProperty(y)&&(d[y]=b[y])},c(f,h)};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=R(),l=At(),p=Et();function a(c,f){return f?function(h){return new n(h,f).lift(new i(c))}:function(h){return h.lift(new i(c))}}t.delayWhen=a;var i=function(){function c(f){this.delayDurationSelector=f}return c.prototype.call=function(f,h){return h.subscribe(new r(f,this.delayDurationSelector))},c}(),r=function(c){e(f,c);function f(h,d){var b=c.call(this,h)||this;return b.delayDurationSelector=d,b.completed=!1,b.delayNotifierSubscriptions=[],b.index=0,b}return f.prototype.notifyNext=function(h,d,b,y,m){this.destination.next(h),this.removeSubscription(m),this.tryComplete()},f.prototype.notifyError=function(h,d){this._error(h)},f.prototype.notifyComplete=function(h){var d=this.removeSubscription(h);d&&this.destination.next(d),this.tryComplete()},f.prototype._next=function(h){var d=this.index++;try{var b=this.delayDurationSelector(h,d);b&&this.tryDelay(b,h)}catch(y){this.destination.error(y)}},f.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},f.prototype.removeSubscription=function(h){h.unsubscribe();var d=this.delayNotifierSubscriptions.indexOf(h);return d!==-1&&this.delayNotifierSubscriptions.splice(d,1),h.outerValue},f.prototype.tryDelay=function(h,d){var b=p.subscribeToResult(this,h,d);if(b&&!b.closed){var y=this.destination;y.add(b),this.delayNotifierSubscriptions.push(b)}},f.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},f}(l.OuterSubscriber),n=function(c){e(f,c);function f(h,d){var b=c.call(this)||this;return b.source=h,b.subscriptionDelay=d,b}return f.prototype._subscribe=function(h){this.subscriptionDelay.subscribe(new o(h,this.source))},f}(u.Observable),o=function(c){e(f,c);function f(h,d){var b=c.call(this)||this;return b.parent=h,b.source=d,b.sourceSubscribed=!1,b}return f.prototype._next=function(h){this.subscribeToSource()},f.prototype._error=function(h){this.unsubscribe(),this.parent.error(h)},f.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},f.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},f}(s.Subscriber)}),Zu=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(){return function(a){return a.lift(new l)}}t.dematerialize=u;var l=function(){function a(){}return a.prototype.call=function(i,r){return r.subscribe(new p(i))},a}(),p=function(a){e(i,a);function i(r){return a.call(this,r)||this}return i.prototype._next=function(r){r.observe(this.destination)},i}(s.Subscriber)}),Xu=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a,i){return function(r){return r.lift(new l(a,i))}}t.distinct=u;var l=function(){function a(i,r){this.keySelector=i,this.flushes=r}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.keySelector,this.flushes))},a}(),p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.keySelector=n,c.values=new Set,o&&c.add(s.innerSubscribe(o,new s.SimpleInnerSubscriber(c))),c}return i.prototype.notifyNext=function(){this.values.clear()},i.prototype.notifyError=function(r){this._error(r)},i.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},i.prototype._useKeySelector=function(r){var n,o=this.destination;try{n=this.keySelector(r)}catch(c){o.error(c);return}this._finalizeNext(n,r)},i.prototype._finalizeNext=function(r,n){var o=this.values;o.has(r)||(o.add(r),this.destination.next(n))},i}(s.SimpleOuterSubscriber);t.DistinctSubscriber=p}),fi=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a,i){return function(r){return r.lift(new l(a,i))}}t.distinctUntilChanged=u;var l=function(){function a(i,r){this.compare=i,this.keySelector=r}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.compare,this.keySelector))},a}(),p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.keySelector=o,c.hasKey=!1,typeof n=="function"&&(c.compare=n),c}return i.prototype.compare=function(r,n){return r===n},i.prototype._next=function(r){var n;try{var o=this.keySelector;n=o?o(r):r}catch(h){return this.destination.error(h)}var c=!1;if(this.hasKey)try{var f=this.compare;c=f(this.key,n)}catch(h){return this.destination.error(h)}else this.hasKey=!0;c||(this.key=n,this.destination.next(r))},i}(s.Subscriber)}),tl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=fi();function s(u,l){return e.distinctUntilChanged(function(p,a){return l?l(p[u],a[u]):p[u]===a[u]})}t.distinctUntilKeyChanged=s}),Ae=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=Xt(),u=k();function l(r){return r===void 0&&(r=i),function(n){return n.lift(new p(r))}}t.throwIfEmpty=l;var p=function(){function r(n){this.errorFactory=n}return r.prototype.call=function(n,o){return o.subscribe(new a(n,this.errorFactory))},r}(),a=function(r){e(n,r);function n(o,c){var f=r.call(this,o)||this;return f.errorFactory=c,f.hasValue=!1,f}return n.prototype._next=function(o){this.hasValue=!0,this.destination.next(o)},n.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var o=void 0;try{o=this.errorFactory()}catch(c){o=c}this.destination.error(o)},n}(u.Subscriber);function i(){return new s.EmptyError}}),_r=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Zt(),l=lt();function p(r){return function(n){return r===0?l.empty():n.lift(new a(r))}}t.take=p;var a=function(){function r(n){if(this.total=n,this.total<0)throw new u.ArgumentOutOfRangeError}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.total))},r}(),i=function(r){e(n,r);function n(o,c){var f=r.call(this,o)||this;return f.total=c,f.count=0,f}return n.prototype._next=function(o){var c=this.total,f=++this.count;f<=c&&(this.destination.next(o),f===c&&(this.destination.complete(),this.unsubscribe()))},n}(s.Subscriber)}),el=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Zt(),s=Ut(),u=Ae(),l=ee(),p=_r();function a(i,r){if(i<0)throw new e.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(o){return o.pipe(s.filter(function(c,f){return f===i}),p.take(1),n?l.defaultIfEmpty(r):u.throwIfEmpty(function(){return new e.ArgumentOutOfRangeError}))}}t.elementAt=a}),rl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ie(),s=ge();function u(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return function(a){return e.concat(a,s.of.apply(void 0,l))}}t.endWith=u}),nl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a,i){return function(r){return r.lift(new l(a,i,r))}}t.every=u;var l=function(){function a(i,r,n){this.predicate=i,this.thisArg=r,this.source=n}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.predicate,this.thisArg,this.source))},a}(),p=function(a){e(i,a);function i(r,n,o,c){var f=a.call(this,r)||this;return f.predicate=n,f.thisArg=o,f.source=c,f.index=0,f.thisArg=o||f,f}return i.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},i.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(o){this.destination.error(o);return}n||this.notifyComplete(!1)},i.prototype._complete=function(){this.notifyComplete(!0)},i}(s.Subscriber)}),il=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(){return function(a){return a.lift(new l)}}t.exhaust=u;var l=function(){function a(){}return a.prototype.call=function(i,r){return r.subscribe(new p(i))},a}(),p=function(a){e(i,a);function i(r){var n=a.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return i.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(s.innerSubscribe(r,new s.SimpleInnerSubscriber(this))))},i.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},i.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},i}(s.SimpleOuterSubscriber)}),ol=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=st(),u=pt(),l=G();function p(r,n){return n?function(o){return o.pipe(p(function(c,f){return u.from(r(c,f)).pipe(s.map(function(h,d){return n(c,h,f,d)}))}))}:function(o){return o.lift(new a(r))}}t.exhaustMap=p;var a=function(){function r(n){this.project=n}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.project))},r}(),i=function(r){e(n,r);function n(o,c){var f=r.call(this,o)||this;return f.project=c,f.hasSubscription=!1,f.hasCompleted=!1,f.index=0,f}return n.prototype._next=function(o){this.hasSubscription||this.tryNext(o)},n.prototype.tryNext=function(o){var c,f=this.index++;try{c=this.project(o,f)}catch(h){this.destination.error(h);return}this.hasSubscription=!0,this._innerSub(c)},n.prototype._innerSub=function(o){var c=new l.SimpleInnerSubscriber(this),f=this.destination;f.add(c);var h=l.innerSubscribe(o,c);h!==c&&f.add(h)},n.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(o){this.destination.next(o)},n.prototype.notifyError=function(o){this.destination.error(o)},n.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},n}(l.SimpleOuterSubscriber)}),sl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a,i,r){return i===void 0&&(i=Number.POSITIVE_INFINITY),i=(i||0)<1?Number.POSITIVE_INFINITY:i,function(n){return n.lift(new l(a,i,r))}}t.expand=u;var l=function(){function a(i,r,n){this.project=i,this.concurrent=r,this.scheduler=n}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.project,this.concurrent,this.scheduler))},a}();t.ExpandOperator=l;var p=function(a){e(i,a);function i(r,n,o,c){var f=a.call(this,r)||this;return f.project=n,f.concurrent=o,f.scheduler=c,f.index=0,f.active=0,f.hasCompleted=!1,o<Number.POSITIVE_INFINITY&&(f.buffer=[]),f}return i.dispatch=function(r){var n=r.subscriber,o=r.result,c=r.value,f=r.index;n.subscribeToProjection(o,c,f)},i.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var o=this.index++;if(this.active<this.concurrent){n.next(r);try{var c=this.project,f=c(r,o);if(!this.scheduler)this.subscribeToProjection(f,r,o);else{var h={subscriber:this,result:f,value:r,index:o},d=this.destination;d.add(this.scheduler.schedule(i.dispatch,0,h))}}catch(b){n.error(b)}}else this.buffer.push(r)},i.prototype.subscribeToProjection=function(r,n,o){this.active++;var c=this.destination;c.add(s.innerSubscribe(r,new s.SimpleInnerSubscriber(this)))},i.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},i.prototype.notifyNext=function(r){this._next(r)},i.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},i}(s.SimpleOuterSubscriber);t.ExpandSubscriber=p}),al=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Q();function l(i){return function(r){return r.lift(new p(i))}}t.finalize=l;var p=function(){function i(r){this.callback=r}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.callback))},i}(),a=function(i){e(r,i);function r(n,o){var c=i.call(this,n)||this;return c.add(new u.Subscription(o)),c}return r}(s.Subscriber)}),pi=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a,i){if(typeof a!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new l(a,r,!1,i))}}t.find=u;var l=function(){function a(i,r,n,o){this.predicate=i,this.source=r,this.yieldIndex=n,this.thisArg=o}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.predicate,this.source,this.yieldIndex,this.thisArg))},a}();t.FindValueOperator=l;var p=function(a){e(i,a);function i(r,n,o,c,f){var h=a.call(this,r)||this;return h.predicate=n,h.source=o,h.yieldIndex=c,h.thisArg=f,h.index=0,h}return i.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},i.prototype._next=function(r){var n=this,o=n.predicate,c=n.thisArg,f=this.index++;try{var h=o.call(c||this,r,f,this.source);h&&this.notifyComplete(this.yieldIndex?f:r)}catch(d){this.destination.error(d)}},i.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},i}(s.Subscriber);t.FindValueSubscriber=p}),cl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=pi();function s(u,l){return function(p){return p.lift(new e.FindValueOperator(u,p,!0,l))}}t.findIndex=s}),ul=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Xt(),s=Ut(),u=_r(),l=ee(),p=Ae(),a=Bt();function i(r,n){var o=arguments.length>=2;return function(c){return c.pipe(r?s.filter(function(f,h){return r(f,h,c)}):a.identity,u.take(1),o?l.defaultIfEmpty(n):p.throwIfEmpty(function(){return new e.EmptyError}))}}t.first=i}),ll=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(){return function(a){return a.lift(new l)}}t.ignoreElements=u;var l=function(){function a(){}return a.prototype.call=function(i,r){return r.subscribe(new p(i))},a}(),p=function(a){e(i,a);function i(){return a!==null&&a.apply(this,arguments)||this}return i.prototype._next=function(r){},i}(s.Subscriber)}),fl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(){return function(a){return a.lift(new l)}}t.isEmpty=u;var l=function(){function a(){}return a.prototype.call=function(i,r){return r.subscribe(new p(i))},a}(),p=function(a){e(i,a);function i(r){return a.call(this,r)||this}return i.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},i.prototype._next=function(r){this.notifyComplete(!1)},i.prototype._complete=function(){this.notifyComplete(!0)},i}(s.Subscriber)}),Or=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Zt(),l=lt();function p(r){return function(n){return r===0?l.empty():n.lift(new a(r))}}t.takeLast=p;var a=function(){function r(n){if(this.total=n,this.total<0)throw new u.ArgumentOutOfRangeError}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.total))},r}(),i=function(r){e(n,r);function n(o,c){var f=r.call(this,o)||this;return f.total=c,f.ring=new Array,f.count=0,f}return n.prototype._next=function(o){var c=this.ring,f=this.total,h=this.count++;if(c.length<f)c.push(o);else{var d=h%f;c[d]=o}},n.prototype._complete=function(){var o=this.destination,c=this.count;if(c>0)for(var f=this.count>=this.total?this.total:this.count,h=this.ring,d=0;d<f;d++){var b=c++%f;o.next(h[b])}o.complete()},n}(s.Subscriber)}),pl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Xt(),s=Ut(),u=Or(),l=Ae(),p=ee(),a=Bt();function i(r,n){var o=arguments.length>=2;return function(c){return c.pipe(r?s.filter(function(f,h){return r(f,h,c)}):a.identity,u.takeLast(1),o?p.defaultIfEmpty(n):l.throwIfEmpty(function(){return new e.EmptyError}))}}t.last=i}),hl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a){return function(i){return i.lift(new l(a))}}t.mapTo=u;var l=function(){function a(i){this.value=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.value))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.value=n,o}return i.prototype._next=function(r){this.destination.next(this.value)},i}(s.Subscriber)}),dl=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Se();function l(){return function(i){return i.lift(new p)}}t.materialize=l;var p=function(){function i(){}return i.prototype.call=function(r,n){return n.subscribe(new a(r))},i}(),a=function(i){e(r,i);function r(n){return i.call(this,n)||this}return r.prototype._next=function(n){this.destination.next(u.Notification.createNext(n))},r.prototype._error=function(n){var o=this.destination;o.next(u.Notification.createError(n)),o.complete()},r.prototype._complete=function(){var n=this.destination;n.next(u.Notification.createComplete()),n.complete()},r}(s.Subscriber)}),gr=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a,i){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new l(a,i,r))}}t.scan=u;var l=function(){function a(i,r,n){n===void 0&&(n=!1),this.accumulator=i,this.seed=r,this.hasSeed=n}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.accumulator,this.seed,this.hasSeed))},a}(),p=function(a){e(i,a);function i(r,n,o,c){var f=a.call(this,r)||this;return f.accumulator=n,f._seed=o,f.hasSeed=c,f.index=0,f}return Object.defineProperty(i.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),i.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},i.prototype._tryNext=function(r){var n=this.index++,o;try{o=this.accumulator(this.seed,r,n)}catch(c){this.destination.error(c)}this.seed=o,this.destination.next(o)},i}(s.Subscriber)}),Ee=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=gr(),s=Or(),u=ee(),l=ur();function p(a,i){return arguments.length>=2?function(r){return l.pipe(e.scan(a,i),s.takeLast(1),u.defaultIfEmpty(i))(r)}:function(r){return l.pipe(e.scan(function(n,o,c){return a(n,o,c+1)}),s.takeLast(1))(r)}}t.reduce=p}),bl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ee();function s(u){var l=typeof u=="function"?function(p,a){return u(p,a)>0?p:a}:function(p,a){return p>a?p:a};return e.reduce(l)}t.max=s}),yl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=ii();function s(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return function(p){return p.lift.call(e.merge.apply(void 0,[p].concat(u)))}}t.merge=s}),vl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=xe();function s(u,l,p){return p===void 0&&(p=Number.POSITIVE_INFINITY),typeof l=="function"?e.mergeMap(function(){return u},l,p):(typeof l=="number"&&(p=l),e.mergeMap(function(){return u},p))}t.mergeMapTo=s}),ml=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a,i,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new l(a,i,r))}}t.mergeScan=u;var l=function(){function a(i,r,n){this.accumulator=i,this.seed=r,this.concurrent=n}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.accumulator,this.seed,this.concurrent))},a}();t.MergeScanOperator=l;var p=function(a){e(i,a);function i(r,n,o,c){var f=a.call(this,r)||this;return f.accumulator=n,f.acc=o,f.concurrent=c,f.hasValue=!1,f.hasCompleted=!1,f.buffer=[],f.active=0,f.index=0,f}return i.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,o=this.destination,c=void 0;try{var f=this.accumulator;c=f(this.acc,r,n)}catch(h){return o.error(h)}this.active++,this._innerSub(c)}else this.buffer.push(r)},i.prototype._innerSub=function(r){var n=new s.SimpleInnerSubscriber(this),o=this.destination;o.add(n);var c=s.innerSubscribe(r,n);c!==n&&o.add(c)},i.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},i.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},i.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},i}(s.SimpleOuterSubscriber);t.MergeScanSubscriber=p}),_l=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ee();function s(u){var l=typeof u=="function"?function(p,a){return u(p,a)<0?p:a}:function(p,a){return p<a?p:a};return e.reduce(l)}t.min=s}),Lt=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=qn();function s(l,p){return function(a){var i;if(typeof l=="function"?i=l:i=function(){return l},typeof p=="function")return a.lift(new u(i,p));var r=Object.create(a,e.connectableObservableDescriptor);return r.source=a,r.subjectFactory=i,r}}t.multicast=s;var u=function(){function l(p,a){this.subjectFactory=p,this.selector=a}return l.prototype.call=function(p,a){var i=this.selector,r=this.subjectFactory(),n=i(r).subscribe(p);return n.add(a.subscribe(r)),n},l}();t.MulticastOperator=u}),Ol=_(t=>{"use strict";var e=t&&t.__extends||function(){var n=function(o,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])},n(o,c)};return function(o,c){n(o,c);function f(){this.constructor=o}o.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=pt(),u=et(),l=G();function p(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return n.length===1&&u.isArray(n[0])&&(n=n[0]),function(c){return c.lift(new i(n))}}t.onErrorResumeNext=p;function a(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var c=void 0;return n.length===1&&u.isArray(n[0])&&(n=n[0]),c=n.shift(),s.from(c).lift(new i(n))}t.onErrorResumeNextStatic=a;var i=function(){function n(o){this.nextSources=o}return n.prototype.call=function(o,c){return c.subscribe(new r(o,this.nextSources))},n}(),r=function(n){e(o,n);function o(c,f){var h=n.call(this,c)||this;return h.destination=c,h.nextSources=f,h}return o.prototype.notifyError=function(){this.subscribeToNextSource()},o.prototype.notifyComplete=function(){this.subscribeToNextSource()},o.prototype._error=function(c){this.subscribeToNextSource(),this.unsubscribe()},o.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},o.prototype.subscribeToNextSource=function(){var c=this.nextSources.shift();if(c){var f=new l.SimpleInnerSubscriber(this),h=this.destination;h.add(f);var d=l.innerSubscribe(c,f);d!==f&&h.add(d)}else this.destination.complete()},o}(l.SimpleOuterSubscriber)}),gl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(){return function(a){return a.lift(new l)}}t.pairwise=u;var l=function(){function a(){}return a.prototype.call=function(i,r){return r.subscribe(new p(i))},a}(),p=function(a){e(i,a);function i(r){var n=a.call(this,r)||this;return n.hasPrev=!1,n}return i.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},i}(s.Subscriber)}),Sl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=oi(),s=Ut();function u(l,p){return function(a){return[s.filter(l,p)(a),s.filter(e.not(l,p))(a)]}}t.partition=u}),wl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=st();function s(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var a=l.length;if(a===0)throw new Error("list of properties cannot be empty.");return function(i){return e.map(u(l,a))(i)}}t.pluck=s;function u(l,p){var a=function(i){for(var r=i,n=0;n<p;n++){var o=r?.[l[n]];if(o!==void 0)r=o;else return}return r};return a}}),Cl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=tt(),s=Lt();function u(l){return l?s.multicast(function(){return new e.Subject},l):s.multicast(new e.Subject)}t.publish=u}),xl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Hn(),s=Lt();function u(l){return function(p){return s.multicast(new e.BehaviorSubject(l))(p)}}t.publishBehavior=u}),Il=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=we(),s=Lt();function u(){return function(l){return s.multicast(new e.AsyncSubject)(l)}}t.publishLast=u}),Pl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=hr(),s=Lt();function u(l,p,a,i){a&&typeof a!="function"&&(i=a);var r=typeof a=="function"?a:void 0,n=new e.ReplaySubject(l,p,i);return function(o){return s.multicast(function(){return n},r)(o)}}t.publishReplay=u}),Bl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=et(),s=si();function u(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];return function(a){return l.length===1&&e.isArray(l[0])&&(l=l[0]),a.lift.call(s.race.apply(void 0,[a].concat(l)))}}t.race=u}),Al=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=lt();function l(i){return i===void 0&&(i=-1),function(r){return i===0?u.empty():i<0?r.lift(new p(-1,r)):r.lift(new p(i-1,r))}}t.repeat=l;var p=function(){function i(r,n){this.count=r,this.source=n}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.count,this.source))},i}(),a=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;return f.count=o,f.source=c,f}return r.prototype.complete=function(){if(!this.isStopped){var n=this,o=n.source,c=n.count;if(c===0)return i.prototype.complete.call(this);c>-1&&(this.count=c-1),o.subscribe(this._unsubscribeAndRecycle())}},r}(s.Subscriber)}),El=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=G();function l(i){return function(r){return r.lift(new p(i))}}t.repeatWhen=l;var p=function(){function i(r){this.notifier=r}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.notifier,n))},i}(),a=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;return f.notifier=o,f.source=c,f.sourceIsBeingSubscribedTo=!0,f}return r.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},r.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return i.prototype.complete.call(this)},r.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return i.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},r.prototype._unsubscribe=function(){var n=this,o=n.notifications,c=n.retriesSubscription;o&&(o.unsubscribe(),this.notifications=void 0),c&&(c.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},r.prototype._unsubscribeAndRecycle=function(){var n=this._unsubscribe;return this._unsubscribe=null,i.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=n,this},r.prototype.subscribeToRetries=function(){this.notifications=new s.Subject;var n;try{var o=this.notifier;n=o(this.notifications)}catch{return i.prototype.complete.call(this)}this.retries=n,this.retriesSubscription=u.innerSubscribe(n,new u.SimpleInnerSubscriber(this))},r}(u.SimpleOuterSubscriber)}),Nl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a){return a===void 0&&(a=-1),function(i){return i.lift(new l(a,i))}}t.retry=u;var l=function(){function a(i,r){this.count=i,this.source=r}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.count,this.source))},a}(),p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.count=n,c.source=o,c}return i.prototype.error=function(r){if(!this.isStopped){var n=this,o=n.source,c=n.count;if(c===0)return a.prototype.error.call(this,r);c>-1&&(this.count=c-1),o.subscribe(this._unsubscribeAndRecycle())}},i}(s.Subscriber)}),jl=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=G();function l(i){return function(r){return r.lift(new p(i,r))}}t.retryWhen=l;var p=function(){function i(r,n){this.notifier=r,this.source=n}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.notifier,this.source))},i}(),a=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;return f.notifier=o,f.source=c,f}return r.prototype.error=function(n){if(!this.isStopped){var o=this.errors,c=this.retries,f=this.retriesSubscription;if(c)this.errors=void 0,this.retriesSubscription=void 0;else{o=new s.Subject;try{var h=this.notifier;c=h(o)}catch(d){return i.prototype.error.call(this,d)}f=u.innerSubscribe(c,new u.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=o,this.retries=c,this.retriesSubscription=f,o.next(n)}},r.prototype._unsubscribe=function(){var n=this,o=n.errors,c=n.retriesSubscription;o&&(o.unsubscribe(),this.errors=void 0),c&&(c.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},r.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},r}(u.SimpleOuterSubscriber)}),kl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a){return function(i){return i.lift(new l(a))}}t.sample=u;var l=function(){function a(i){this.notifier=i}return a.prototype.call=function(i,r){var n=new p(i),o=r.subscribe(n);return o.add(s.innerSubscribe(this.notifier,new s.SimpleInnerSubscriber(n))),o},a}(),p=function(a){e(i,a);function i(){var r=a!==null&&a.apply(this,arguments)||this;return r.hasValue=!1,r}return i.prototype._next=function(r){this.value=r,this.hasValue=!0},i.prototype.notifyNext=function(){this.emitValue()},i.prototype.notifyComplete=function(){this.emitValue()},i.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},i}(s.SimpleOuterSubscriber)}),Dl=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=rt();function l(r,n){return n===void 0&&(n=u.async),function(o){return o.lift(new p(r,n))}}t.sampleTime=l;var p=function(){function r(n,o){this.period=n,this.scheduler=o}return r.prototype.call=function(n,o){return o.subscribe(new a(n,this.period,this.scheduler))},r}(),a=function(r){e(n,r);function n(o,c,f){var h=r.call(this,o)||this;return h.period=c,h.scheduler=f,h.hasValue=!1,h.add(f.schedule(i,c,{subscriber:h,period:c})),h}return n.prototype._next=function(o){this.lastValue=o,this.hasValue=!0},n.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},n}(s.Subscriber);function i(r){var n=r.subscriber,o=r.period;n.notifyNext(),this.schedule(r,o)}}),Tl=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(i,r){return function(n){return n.lift(new l(i,r))}}t.sequenceEqual=u;var l=function(){function i(r,n){this.compareTo=r,this.comparator=n}return i.prototype.call=function(r,n){return n.subscribe(new p(r,this.compareTo,this.comparator))},i}();t.SequenceEqualOperator=l;var p=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;return f.compareTo=o,f.comparator=c,f._a=[],f._b=[],f._oneComplete=!1,f.destination.add(o.subscribe(new a(n,f))),f}return r.prototype._next=function(n){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(n),this.checkValues())},r.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},r.prototype.checkValues=function(){for(var n=this,o=n._a,c=n._b,f=n.comparator;o.length>0&&c.length>0;){var h=o.shift(),d=c.shift(),b=!1;try{b=f?f(h,d):h===d}catch(y){this.destination.error(y)}b||this.emit(!1)}},r.prototype.emit=function(n){var o=this.destination;o.next(n),o.complete()},r.prototype.nextB=function(n){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(n),this.checkValues())},r.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},r}(s.Subscriber);t.SequenceEqualSubscriber=p;var a=function(i){e(r,i);function r(n,o){var c=i.call(this,n)||this;return c.parent=o,c}return r.prototype._next=function(n){this.parent.nextB(n)},r.prototype._error=function(n){this.parent.error(n),this.unsubscribe()},r.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},r}(s.Subscriber)}),Ml=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Lt(),s=lr(),u=tt();function l(){return new u.Subject}function p(){return function(a){return s.refCount()(e.multicast(l)(a))}}t.share=p}),Fl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=hr();function s(l,p,a){var i;return l&&typeof l=="object"?i=l:i={bufferSize:l,windowTime:p,refCount:!1,scheduler:a},function(r){return r.lift(u(i))}}t.shareReplay=s;function u(l){var p=l.bufferSize,a=p===void 0?Number.POSITIVE_INFINITY:p,i=l.windowTime,r=i===void 0?Number.POSITIVE_INFINITY:i,n=l.refCount,o=l.scheduler,c,f=0,h,d=!1,b=!1;return function(y){f++;var m;!c||d?(d=!1,c=new e.ReplaySubject(a,r,o),m=c.subscribe(this),h=y.subscribe({next:function(O){c.next(O)},error:function(O){d=!0,c.error(O)},complete:function(){b=!0,h=void 0,c.complete()}}),b&&(h=void 0)):m=c.subscribe(this),this.add(function(){f--,m.unsubscribe(),m=void 0,h&&!b&&n&&f===0&&(h.unsubscribe(),h=void 0,c=void 0)})}}}),Rl=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Xt();function l(i){return function(r){return r.lift(new p(i,r))}}t.single=l;var p=function(){function i(r,n){this.predicate=r,this.source=n}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.predicate,this.source))},i}(),a=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;return f.predicate=o,f.source=c,f.seenValue=!1,f.index=0,f}return r.prototype.applySingleValue=function(n){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=n)},r.prototype._next=function(n){var o=this.index++;this.predicate?this.tryNext(n,o):this.applySingleValue(n)},r.prototype.tryNext=function(n,o){try{this.predicate(n,o,this.source)&&this.applySingleValue(n)}catch(c){this.destination.error(c)}},r.prototype._complete=function(){var n=this.destination;this.index>0?(n.next(this.seenValue?this.singleValue:void 0),n.complete()):n.error(new u.EmptyError)},r}(s.Subscriber)}),Ul=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a){return function(i){return i.lift(new l(a))}}t.skip=u;var l=function(){function a(i){this.total=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.total))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.total=n,o.count=0,o}return i.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},i}(s.Subscriber)}),Ll=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=Zt();function l(i){return function(r){return r.lift(new p(i))}}t.skipLast=l;var p=function(){function i(r){if(this._skipCount=r,this._skipCount<0)throw new u.ArgumentOutOfRangeError}return i.prototype.call=function(r,n){return this._skipCount===0?n.subscribe(new s.Subscriber(r)):n.subscribe(new a(r,this._skipCount))},i}(),a=function(i){e(r,i);function r(n,o){var c=i.call(this,n)||this;return c._skipCount=o,c._count=0,c._ring=new Array(o),c}return r.prototype._next=function(n){var o=this._skipCount,c=this._count++;if(c<o)this._ring[c]=n;else{var f=c%o,h=this._ring,d=h[f];h[f]=n,this.destination.next(d)}},r}(s.Subscriber)}),Vl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a){return function(i){return i.lift(new l(a))}}t.skipUntil=u;var l=function(){function a(i){this.notifier=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.notifier))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;o.hasValue=!1;var c=new s.SimpleInnerSubscriber(o);o.add(c),o.innerSubscription=c;var f=s.innerSubscribe(n,c);return f!==c&&(o.add(f),o.innerSubscription=f),o}return i.prototype._next=function(r){this.hasValue&&a.prototype._next.call(this,r)},i.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},i.prototype.notifyComplete=function(){},i}(s.SimpleOuterSubscriber)}),Jl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a){return function(i){return i.lift(new l(a))}}t.skipWhile=u;var l=function(){function a(i){this.predicate=i}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.predicate))},a}(),p=function(a){e(i,a);function i(r,n){var o=a.call(this,r)||this;return o.predicate=n,o.skipping=!0,o.index=0,o}return i.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},i.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(o){this.destination.error(o)}},i}(s.Subscriber)}),Gl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ie(),s=ft();function u(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var a=l[l.length-1];return s.isScheduler(a)?(l.pop(),function(i){return e.concat(l,i,a)}):function(i){return e.concat(l,i)}}t.startWith=u}),zl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=R(),u=Zn(),l=Pe(),p=function(a){e(i,a);function i(r,n,o){n===void 0&&(n=0),o===void 0&&(o=u.asap);var c=a.call(this)||this;return c.source=r,c.delayTime=n,c.scheduler=o,(!l.isNumeric(n)||n<0)&&(c.delayTime=0),(!o||typeof o.schedule!="function")&&(c.scheduler=u.asap),c}return i.create=function(r,n,o){return n===void 0&&(n=0),o===void 0&&(o=u.asap),new i(r,n,o)},i.dispatch=function(r){var n=r.source,o=r.subscriber;return this.add(n.subscribe(o))},i.prototype._subscribe=function(r){var n=this.delayTime,o=this.source,c=this.scheduler;return c.schedule(i.dispatch,n,{source:o,subscriber:r})},i}(s.Observable);t.SubscribeOnObservable=p}),ql=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=zl();function s(l,p){return p===void 0&&(p=0),function(a){return a.lift(new u(l,p))}}t.subscribeOn=s;var u=function(){function l(p,a){this.scheduler=p,this.delay=a}return l.prototype.call=function(p,a){return new e.SubscribeOnObservable(a,this.delay,this.scheduler).subscribe(p)},l}()}),Sr=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=st(),u=pt(),l=G();function p(r,n){return typeof n=="function"?function(o){return o.pipe(p(function(c,f){return u.from(r(c,f)).pipe(s.map(function(h,d){return n(c,h,f,d)}))}))}:function(o){return o.lift(new a(r))}}t.switchMap=p;var a=function(){function r(n){this.project=n}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.project))},r}(),i=function(r){e(n,r);function n(o,c){var f=r.call(this,o)||this;return f.project=c,f.index=0,f}return n.prototype._next=function(o){var c,f=this.index++;try{c=this.project(o,f)}catch(h){this.destination.error(h);return}this._innerSub(c)},n.prototype._innerSub=function(o){var c=this.innerSubscription;c&&c.unsubscribe();var f=new l.SimpleInnerSubscriber(this),h=this.destination;h.add(f),this.innerSubscription=l.innerSubscribe(o,f),this.innerSubscription!==f&&h.add(this.innerSubscription)},n.prototype._complete=function(){var o=this.innerSubscription;(!o||o.closed)&&r.prototype._complete.call(this),this.unsubscribe()},n.prototype._unsubscribe=function(){this.innerSubscription=void 0},n.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},n.prototype.notifyNext=function(o){this.destination.next(o)},n}(l.SimpleOuterSubscriber)}),Wl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Sr(),s=Bt();function u(){return e.switchMap(s.identity)}t.switchAll=u}),Hl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Sr();function s(u,l){return l?e.switchMap(function(){return u},l):e.switchMap(function(){return u})}t.switchMapTo=s}),Yl=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();function u(a){return function(i){return i.lift(new l(a))}}t.takeUntil=u;var l=function(){function a(i){this.notifier=i}return a.prototype.call=function(i,r){var n=new p(i),o=s.innerSubscribe(this.notifier,new s.SimpleInnerSubscriber(n));return o&&!n.seenValue?(n.add(o),r.subscribe(n)):n},a}(),p=function(a){e(i,a);function i(r){var n=a.call(this,r)||this;return n.seenValue=!1,n}return i.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},i.prototype.notifyComplete=function(){},i}(s.SimpleOuterSubscriber)}),Ql=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k();function u(a,i){return i===void 0&&(i=!1),function(r){return r.lift(new l(a,i))}}t.takeWhile=u;var l=function(){function a(i,r){this.predicate=i,this.inclusive=r}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.predicate,this.inclusive))},a}(),p=function(a){e(i,a);function i(r,n,o){var c=a.call(this,r)||this;return c.predicate=n,c.inclusive=o,c.index=0,c}return i.prototype._next=function(r){var n=this.destination,o;try{o=this.predicate(r,this.index++)}catch(c){n.error(c);return}this.nextOrComplete(r,o)},i.prototype.nextOrComplete=function(r,n){var o=this.destination;Boolean(n)?o.next(r):(this.inclusive&&o.next(r),o.complete())},i}(s.Subscriber)}),$l=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=dr(),l=Yt();function p(r,n,o){return function(c){return c.lift(new a(r,n,o))}}t.tap=p;var a=function(){function r(n,o,c){this.nextOrObserver=n,this.error=o,this.complete=c}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.nextOrObserver,this.error,this.complete))},r}(),i=function(r){e(n,r);function n(o,c,f,h){var d=r.call(this,o)||this;return d._tapNext=u.noop,d._tapError=u.noop,d._tapComplete=u.noop,d._tapError=f||u.noop,d._tapComplete=h||u.noop,l.isFunction(c)?(d._context=d,d._tapNext=c):c&&(d._context=c,d._tapNext=c.next||u.noop,d._tapError=c.error||u.noop,d._tapComplete=c.complete||u.noop),d}return n.prototype._next=function(o){try{this._tapNext.call(this._context,o)}catch(c){this.destination.error(c);return}this.destination.next(o)},n.prototype._error=function(o){try{this._tapError.call(this._context,o)}catch(c){this.destination.error(c);return}this.destination.error(o)},n.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(o){this.destination.error(o);return}return this.destination.complete()},n}(s.Subscriber)}),hi=_(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(i,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)o.hasOwnProperty(c)&&(n[c]=o[c])},a(i,r)};return function(i,r){a(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=G();t.defaultThrottleConfig={leading:!0,trailing:!1};function u(a,i){return i===void 0&&(i=t.defaultThrottleConfig),function(r){return r.lift(new l(a,!!i.leading,!!i.trailing))}}t.throttle=u;var l=function(){function a(i,r,n){this.durationSelector=i,this.leading=r,this.trailing=n}return a.prototype.call=function(i,r){return r.subscribe(new p(i,this.durationSelector,this.leading,this.trailing))},a}(),p=function(a){e(i,a);function i(r,n,o,c){var f=a.call(this,r)||this;return f.destination=r,f.durationSelector=n,f._leading=o,f._trailing=c,f._hasValue=!1,f}return i.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},i.prototype.send=function(){var r=this,n=r._hasValue,o=r._sendValue;n&&(this.destination.next(o),this.throttle(o)),this._hasValue=!1,this._sendValue=void 0},i.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=s.innerSubscribe(n,new s.SimpleInnerSubscriber(this)))},i.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},i.prototype.throttlingDone=function(){var r=this,n=r._throttled,o=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,o&&this.send()},i.prototype.notifyNext=function(){this.throttlingDone()},i.prototype.notifyComplete=function(){this.throttlingDone()},i}(s.SimpleOuterSubscriber)}),Kl=_(t=>{"use strict";var e=t&&t.__extends||function(){var n=function(o,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])},n(o,c)};return function(o,c){n(o,c);function f(){this.constructor=o}o.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=rt(),l=hi();function p(n,o,c){return o===void 0&&(o=u.async),c===void 0&&(c=l.defaultThrottleConfig),function(f){return f.lift(new a(n,o,c.leading,c.trailing))}}t.throttleTime=p;var a=function(){function n(o,c,f,h){this.duration=o,this.scheduler=c,this.leading=f,this.trailing=h}return n.prototype.call=function(o,c){return c.subscribe(new i(o,this.duration,this.scheduler,this.leading,this.trailing))},n}(),i=function(n){e(o,n);function o(c,f,h,d,b){var y=n.call(this,c)||this;return y.duration=f,y.scheduler=h,y.leading=d,y.trailing=b,y._hasTrailingValue=!1,y._trailingValue=null,y}return o.prototype._next=function(c){this.throttled?this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(r,this.duration,{subscriber:this})),this.leading?this.destination.next(c):this.trailing&&(this._trailingValue=c,this._hasTrailingValue=!0))},o.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},o.prototype.clearThrottle=function(){var c=this.throttled;c&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),c.unsubscribe(),this.remove(c),this.throttled=null)},o}(s.Subscriber);function r(n){var o=n.subscriber;o.clearThrottle()}}),Zl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=rt(),s=gr(),u=vr(),l=st();function p(i){return i===void 0&&(i=e.async),function(r){return u.defer(function(){return r.pipe(s.scan(function(n,o){var c=n.current;return{value:o,current:i.now(),last:c}},{current:i.now(),value:void 0,last:void 0}),l.map(function(n){var o=n.current,c=n.last,f=n.value;return new a(f,o-c)}))})}}t.timeInterval=p;var a=function(){function i(r,n){this.value=r,this.interval=n}return i}();t.TimeInterval=a}),di=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=rt(),u=li(),l=G();function p(r,n,o){return o===void 0&&(o=s.async),function(c){var f=u.isDate(r),h=f?+r-o.now():Math.abs(r);return c.lift(new a(h,f,n,o))}}t.timeoutWith=p;var a=function(){function r(n,o,c,f){this.waitFor=n,this.absoluteTimeout=o,this.withObservable=c,this.scheduler=f}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),i=function(r){e(n,r);function n(o,c,f,h,d){var b=r.call(this,o)||this;return b.absoluteTimeout=c,b.waitFor=f,b.withObservable=h,b.scheduler=d,b.scheduleTimeout(),b}return n.dispatchTimeout=function(o){var c=o.withObservable;o._unsubscribeAndRecycle(),o.add(l.innerSubscribe(c,new l.SimpleInnerSubscriber(o)))},n.prototype.scheduleTimeout=function(){var o=this.action;o?this.action=o.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))},n.prototype._next=function(o){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,o)},n.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},n}(l.SimpleOuterSubscriber)}),Xl=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=rt(),s=Xn(),u=di(),l=pr();function p(a,i){return i===void 0&&(i=e.async),u.timeoutWith(a,l.throwError(new s.TimeoutError),i)}t.timeout=p}),tf=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=rt(),s=st();function u(p){return p===void 0&&(p=e.async),s.map(function(a){return new l(a,p.now())})}t.timestamp=u;var l=function(){function p(a,i){this.value=a,this.timestamp=i}return p}();t.Timestamp=l}),ef=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Ee();function s(l,p,a){return a===0?[p]:(l.push(p),l)}function u(){return e.reduce(s,[])}t.toArray=u}),rf=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=G();function l(i){return function(r){return r.lift(new p(i))}}t.window=l;var p=function(){function i(r){this.windowBoundaries=r}return i.prototype.call=function(r,n){var o=new a(r),c=n.subscribe(o);return c.closed||o.add(u.innerSubscribe(this.windowBoundaries,new u.SimpleInnerSubscriber(o))),c},i}(),a=function(i){e(r,i);function r(n){var o=i.call(this,n)||this;return o.window=new s.Subject,n.next(o.window),o}return r.prototype.notifyNext=function(){this.openWindow()},r.prototype.notifyError=function(n){this._error(n)},r.prototype.notifyComplete=function(){this._complete()},r.prototype._next=function(n){this.window.next(n)},r.prototype._error=function(n){this.window.error(n),this.destination.error(n)},r.prototype._complete=function(){this.window.complete(),this.destination.complete()},r.prototype._unsubscribe=function(){this.window=null},r.prototype.openWindow=function(){var n=this.window;n&&n.complete();var o=this.destination,c=this.window=new s.Subject;o.next(c)},r}(u.SimpleOuterSubscriber)}),nf=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=k(),u=tt();function l(i,r){return r===void 0&&(r=0),function(n){return n.lift(new p(i,r))}}t.windowCount=l;var p=function(){function i(r,n){this.windowSize=r,this.startWindowEvery=n}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.windowSize,this.startWindowEvery))},i}(),a=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;return f.destination=n,f.windowSize=o,f.startWindowEvery=c,f.windows=[new u.Subject],f.count=0,n.next(f.windows[0]),f}return r.prototype._next=function(n){for(var o=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,c=this.destination,f=this.windowSize,h=this.windows,d=h.length,b=0;b<d&&!this.closed;b++)h[b].next(n);var y=this.count-f+1;if(y>=0&&y%o===0&&!this.closed&&h.shift().complete(),++this.count%o===0&&!this.closed){var m=new u.Subject;h.push(m),c.next(m)}},r.prototype._error=function(n){var o=this.windows;if(o)for(;o.length>0&&!this.closed;)o.shift().error(n);this.destination.error(n)},r.prototype._complete=function(){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().complete();this.destination.complete()},r.prototype._unsubscribe=function(){this.count=0,this.windows=null},r}(s.Subscriber)}),of=_(t=>{"use strict";var e=t&&t.__extends||function(){var d=function(b,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,O){m.__proto__=O}||function(m,O){for(var S in O)O.hasOwnProperty(S)&&(m[S]=O[S])},d(b,y)};return function(b,y){d(b,y);function m(){this.constructor=b}b.prototype=y===null?Object.create(y):(m.prototype=y.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=rt(),l=k(),p=Pe(),a=ft();function i(d){var b=u.async,y=null,m=Number.POSITIVE_INFINITY;return a.isScheduler(arguments[3])&&(b=arguments[3]),a.isScheduler(arguments[2])?b=arguments[2]:p.isNumeric(arguments[2])&&(m=Number(arguments[2])),a.isScheduler(arguments[1])?b=arguments[1]:p.isNumeric(arguments[1])&&(y=Number(arguments[1])),function(O){return O.lift(new r(d,y,m,b))}}t.windowTime=i;var r=function(){function d(b,y,m,O){this.windowTimeSpan=b,this.windowCreationInterval=y,this.maxWindowSize=m,this.scheduler=O}return d.prototype.call=function(b,y){return y.subscribe(new o(b,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},d}(),n=function(d){e(b,d);function b(){var y=d!==null&&d.apply(this,arguments)||this;return y._numberOfNextedValues=0,y}return b.prototype.next=function(y){this._numberOfNextedValues++,d.prototype.next.call(this,y)},Object.defineProperty(b.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),b}(s.Subject),o=function(d){e(b,d);function b(y,m,O,S,P){var C=d.call(this,y)||this;C.destination=y,C.windowTimeSpan=m,C.windowCreationInterval=O,C.maxWindowSize=S,C.scheduler=P,C.windows=[];var N=C.openWindow();if(O!==null&&O>=0){var L={subscriber:C,window:N,context:null},q={windowTimeSpan:m,windowCreationInterval:O,subscriber:C,scheduler:P};C.add(P.schedule(h,m,L)),C.add(P.schedule(f,O,q))}else{var j={subscriber:C,window:N,windowTimeSpan:m};C.add(P.schedule(c,m,j))}return C}return b.prototype._next=function(y){for(var m=this.windows,O=m.length,S=0;S<O;S++){var P=m[S];P.closed||(P.next(y),P.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(P))}},b.prototype._error=function(y){for(var m=this.windows;m.length>0;)m.shift().error(y);this.destination.error(y)},b.prototype._complete=function(){for(var y=this.windows;y.length>0;){var m=y.shift();m.closed||m.complete()}this.destination.complete()},b.prototype.openWindow=function(){var y=new n;this.windows.push(y);var m=this.destination;return m.next(y),y},b.prototype.closeWindow=function(y){y.complete();var m=this.windows;m.splice(m.indexOf(y),1)},b}(l.Subscriber);function c(d){var b=d.subscriber,y=d.windowTimeSpan,m=d.window;m&&b.closeWindow(m),d.window=b.openWindow(),this.schedule(d,y)}function f(d){var b=d.windowTimeSpan,y=d.subscriber,m=d.scheduler,O=d.windowCreationInterval,S=y.openWindow(),P=this,C={action:P,subscription:null},N={subscriber:y,window:S,context:C};C.subscription=m.schedule(h,b,N),P.add(C.subscription),P.schedule(d,O)}function h(d){var b=d.subscriber,y=d.window,m=d.context;m&&m.action&&m.subscription&&m.action.remove(m.subscription),b.closeWindow(y)}}),sf=_(t=>{"use strict";var e=t&&t.__extends||function(){var n=function(o,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])},n(o,c)};return function(o,c){n(o,c);function f(){this.constructor=o}o.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=Q(),l=At(),p=Et();function a(n,o){return function(c){return c.lift(new i(n,o))}}t.windowToggle=a;var i=function(){function n(o,c){this.openings=o,this.closingSelector=c}return n.prototype.call=function(o,c){return c.subscribe(new r(o,this.openings,this.closingSelector))},n}(),r=function(n){e(o,n);function o(c,f,h){var d=n.call(this,c)||this;return d.openings=f,d.closingSelector=h,d.contexts=[],d.add(d.openSubscription=p.subscribeToResult(d,f,f)),d}return o.prototype._next=function(c){var f=this.contexts;if(f)for(var h=f.length,d=0;d<h;d++)f[d].window.next(c)},o.prototype._error=function(c){var f=this.contexts;if(this.contexts=null,f)for(var h=f.length,d=-1;++d<h;){var b=f[d];b.window.error(c),b.subscription.unsubscribe()}n.prototype._error.call(this,c)},o.prototype._complete=function(){var c=this.contexts;if(this.contexts=null,c)for(var f=c.length,h=-1;++h<f;){var d=c[h];d.window.complete(),d.subscription.unsubscribe()}n.prototype._complete.call(this)},o.prototype._unsubscribe=function(){var c=this.contexts;if(this.contexts=null,c)for(var f=c.length,h=-1;++h<f;){var d=c[h];d.window.unsubscribe(),d.subscription.unsubscribe()}},o.prototype.notifyNext=function(c,f,h,d,b){if(c===this.openings){var y=void 0;try{var m=this.closingSelector;y=m(f)}catch(N){return this.error(N)}var O=new s.Subject,S=new u.Subscription,P={window:O,subscription:S};this.contexts.push(P);var C=p.subscribeToResult(this,y,P);C.closed?this.closeWindow(this.contexts.length-1):(C.context=P,S.add(C)),this.destination.next(O)}else this.closeWindow(this.contexts.indexOf(c))},o.prototype.notifyError=function(c){this.error(c)},o.prototype.notifyComplete=function(c){c!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(c.context))},o.prototype.closeWindow=function(c){if(c!==-1){var f=this.contexts,h=f[c],d=h.window,b=h.subscription;f.splice(c,1),d.complete(),b.unsubscribe()}},o}(l.OuterSubscriber)}),af=_(t=>{"use strict";var e=t&&t.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])},r(n,o)};return function(n,o){r(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=tt(),u=At(),l=Et();function p(r){return function(n){return n.lift(new a(r))}}t.windowWhen=p;var a=function(){function r(n){this.closingSelector=n}return r.prototype.call=function(n,o){return o.subscribe(new i(n,this.closingSelector))},r}(),i=function(r){e(n,r);function n(o,c){var f=r.call(this,o)||this;return f.destination=o,f.closingSelector=c,f.openWindow(),f}return n.prototype.notifyNext=function(o,c,f,h,d){this.openWindow(d)},n.prototype.notifyError=function(o){this._error(o)},n.prototype.notifyComplete=function(o){this.openWindow(o)},n.prototype._next=function(o){this.window.next(o)},n.prototype._error=function(o){this.window.error(o),this.destination.error(o),this.unsubscribeClosingNotification()},n.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},n.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},n.prototype.openWindow=function(o){o===void 0&&(o=null),o&&(this.remove(o),o.unsubscribe());var c=this.window;c&&c.complete();var f=this.window=new s.Subject;this.destination.next(f);var h;try{var d=this.closingSelector;h=d()}catch(b){this.destination.error(b),this.window.error(b);return}this.add(this.closingNotification=l.subscribeToResult(this,h))},n}(u.OuterSubscriber)}),cf=_(t=>{"use strict";var e=t&&t.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)c.hasOwnProperty(f)&&(o[f]=c[f])},i(r,n)};return function(r,n){i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=At(),u=Et();function l(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(n){var o;typeof i[i.length-1]=="function"&&(o=i.pop());var c=i;return n.lift(new p(c,o))}}t.withLatestFrom=l;var p=function(){function i(r,n){this.observables=r,this.project=n}return i.prototype.call=function(r,n){return n.subscribe(new a(r,this.observables,this.project))},i}(),a=function(i){e(r,i);function r(n,o,c){var f=i.call(this,n)||this;f.observables=o,f.project=c,f.toRespond=[];var h=o.length;f.values=new Array(h);for(var d=0;d<h;d++)f.toRespond.push(d);for(var d=0;d<h;d++){var b=o[d];f.add(u.subscribeToResult(f,b,void 0,d))}return f}return r.prototype.notifyNext=function(n,o,c){this.values[c]=o;var f=this.toRespond;if(f.length>0){var h=f.indexOf(c);h!==-1&&f.splice(h,1)}},r.prototype.notifyComplete=function(){},r.prototype._next=function(n){if(this.toRespond.length===0){var o=[n].concat(this.values);this.project?this._tryProject(o):this.destination.next(o)}},r.prototype._tryProject=function(n){var o;try{o=this.project.apply(this,n)}catch(c){this.destination.error(c);return}this.destination.next(o)},r}(s.OuterSubscriber)}),uf=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=mr();function s(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return function(p){return p.lift.call(e.zip.apply(void 0,[p].concat(u)))}}t.zip=s}),lf=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=mr();function s(u){return function(l){return l.lift(new e.ZipOperator(u))}}t.zipAll=s}),re=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=ci();t.audit=e.audit;var s=Mu();t.auditTime=s.auditTime;var u=Fu();t.buffer=u.buffer;var l=Ru();t.bufferCount=l.bufferCount;var p=Uu();t.bufferTime=p.bufferTime;var a=Lu();t.bufferToggle=a.bufferToggle;var i=Vu();t.bufferWhen=i.bufferWhen;var r=Ju();t.catchError=r.catchError;var n=Gu();t.combineAll=n.combineAll;var o=zu();t.combineLatest=o.combineLatest;var c=qu();t.concat=c.concat;var f=ni();t.concatAll=f.concatAll;var h=ui();t.concatMap=h.concatMap;var d=Wu();t.concatMapTo=d.concatMapTo;var b=Hu();t.count=b.count;var y=Yu();t.debounce=y.debounce;var m=Qu();t.debounceTime=m.debounceTime;var O=ee();t.defaultIfEmpty=O.defaultIfEmpty;var S=$u();t.delay=S.delay;var P=Ku();t.delayWhen=P.delayWhen;var C=Zu();t.dematerialize=C.dematerialize;var N=Xu();t.distinct=N.distinct;var L=fi();t.distinctUntilChanged=L.distinctUntilChanged;var q=tl();t.distinctUntilKeyChanged=q.distinctUntilKeyChanged;var j=el();t.elementAt=j.elementAt;var z=rl();t.endWith=z.endWith;var F=nl();t.every=F.every;var nt=il();t.exhaust=nt.exhaust;var X=ol();t.exhaustMap=X.exhaustMap;var g=sl();t.expand=g.expand;var w=Ut();t.filter=w.filter;var x=al();t.finalize=x.finalize;var I=pi();t.find=I.find;var E=cl();t.findIndex=E.findIndex;var B=ul();t.first=B.first;var T=Wn();t.groupBy=T.groupBy;var U=ll();t.ignoreElements=U.ignoreElements;var W=fl();t.isEmpty=W.isEmpty;var D=pl();t.last=D.last;var M=st();t.map=M.map;var H=hl();t.mapTo=H.mapTo;var V=dl();t.materialize=V.materialize;var Y=bl();t.max=Y.max;var it=yl();t.merge=it.merge;var ct=yr();t.mergeAll=ct.mergeAll;var ot=xe();t.mergeMap=ot.mergeMap,t.flatMap=ot.flatMap;var dt=vl();t.mergeMapTo=dt.mergeMapTo;var bt=ml();t.mergeScan=bt.mergeScan;var $e=_l();t.min=$e.min;var Ke=Lt();t.multicast=Ke.multicast;var Ze=Kn();t.observeOn=Ze.observeOn;var Xe=Ol();t.onErrorResumeNext=Xe.onErrorResumeNext;var tr=gl();t.pairwise=tr.pairwise;var er=Sl();t.partition=er.partition;var rr=wl();t.pluck=rr.pluck;var Qa=Cl();t.publish=Qa.publish;var $a=xl();t.publishBehavior=$a.publishBehavior;var Ka=Il();t.publishLast=Ka.publishLast;var Za=Pl();t.publishReplay=Za.publishReplay;var Xa=Bl();t.race=Xa.race;var tc=Ee();t.reduce=tc.reduce;var ec=Al();t.repeat=ec.repeat;var rc=El();t.repeatWhen=rc.repeatWhen;var nc=Nl();t.retry=nc.retry;var ic=jl();t.retryWhen=ic.retryWhen;var oc=lr();t.refCount=oc.refCount;var sc=kl();t.sample=sc.sample;var ac=Dl();t.sampleTime=ac.sampleTime;var cc=gr();t.scan=cc.scan;var uc=Tl();t.sequenceEqual=uc.sequenceEqual;var lc=Ml();t.share=lc.share;var fc=Fl();t.shareReplay=fc.shareReplay;var pc=Rl();t.single=pc.single;var hc=Ul();t.skip=hc.skip;var dc=Ll();t.skipLast=dc.skipLast;var bc=Vl();t.skipUntil=bc.skipUntil;var yc=Jl();t.skipWhile=yc.skipWhile;var vc=Gl();t.startWith=vc.startWith;var mc=ql();t.subscribeOn=mc.subscribeOn;var _c=Wl();t.switchAll=_c.switchAll;var Oc=Sr();t.switchMap=Oc.switchMap;var gc=Hl();t.switchMapTo=gc.switchMapTo;var Sc=_r();t.take=Sc.take;var wc=Or();t.takeLast=wc.takeLast;var Cc=Yl();t.takeUntil=Cc.takeUntil;var xc=Ql();t.takeWhile=xc.takeWhile;var Ic=$l();t.tap=Ic.tap;var Pc=hi();t.throttle=Pc.throttle;var Bc=Kl();t.throttleTime=Bc.throttleTime;var Ac=Ae();t.throwIfEmpty=Ac.throwIfEmpty;var Ec=Zl();t.timeInterval=Ec.timeInterval;var Nc=Xl();t.timeout=Nc.timeout;var jc=di();t.timeoutWith=jc.timeoutWith;var kc=tf();t.timestamp=kc.timestamp;var Dc=ef();t.toArray=Dc.toArray;var Tc=rf();t.window=Tc.window;var Mc=nf();t.windowCount=Mc.windowCount;var Fc=of();t.windowTime=Fc.windowTime;var Rc=sf();t.windowToggle=Rc.windowToggle;var Uc=af();t.windowWhen=Uc.windowWhen;var Lc=cf();t.withLatestFrom=Lc.withLatestFrom;var Vc=uf();t.zip=Vc.zip;var Jc=lf();t.zipAll=Jc.zipAll}),ff=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=re();function s(c){return c.pipe(e.concatMap(function(f){return f.split("")}),e.scan(function(f,h){return f.indexOf("}")>=0?h:f+h},""),e.filter(function(f){return f.indexOf("}")>=0}),e.map(function(f){return JSON.parse(f)}))}t.parseControl=s;function u(c){for(var f=[],h=0;h<c.length;h++)h%3===0?f.push(c[h]<<4|c[h+1]>>4):(f.push((c[h]&15)<<8|c[h+1]),h++);return f}t.decodeUnsigned12BitData=u;function l(c){for(var f=[],h=0;h<c.length;h=h+3)f.push(c[h]<<16|c[h+1]<<8|c[h+2]);return f}t.decodeUnsigned24BitData=l;function p(c){return u(c).map(function(f){return .48828125*(f-2048)})}t.decodeEEGSamples=p;function a(c){return l(c)}t.decodePPGSamples=a;function i(c){return{sequenceId:c.getUint16(0),batteryLevel:c.getUint16(2)/512,fuelGaugeVoltage:c.getUint16(4)*2.2,temperature:c.getUint16(8)}}t.parseTelemetry=i;function r(c,f){function h(d){return{x:f*c.getInt16(d),y:f*c.getInt16(d+2),z:f*c.getInt16(d+4)}}return{sequenceId:c.getUint16(0),samples:[h(2),h(8),h(14)]}}function n(c){return r(c,610352e-10)}t.parseAccelerometer=n;function o(c){return r(c,.0074768)}t.parseGyroscope=o}),pf=_(t=>{"use strict";var e=t&&t.__awaiter||function(r,n,o,c){return new(o||(o=Promise))(function(f,h){function d(m){try{y(c.next(m))}catch(O){h(O)}}function b(m){try{y(c.throw(m))}catch(O){h(O)}}function y(m){m.done?f(m.value):new o(function(O){O(m.value)}).then(d,b)}y((c=c.apply(r,n||[])).next())})},s=t&&t.__generator||function(r,n){var o={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},c,f,h,d;return d={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function b(m){return function(O){return y([m,O])}}function y(m){if(c)throw new TypeError("Generator is already executing.");for(;o;)try{if(c=1,f&&(h=m[0]&2?f.return:m[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,m[1])).done)return h;switch(f=0,h&&(m=[m[0]&2,h.value]),m[0]){case 0:case 1:h=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,f=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(h=o.trys,!(h=h.length>0&&h[h.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){o.label=m[1];break}if(m[0]===6&&o.label<h[1]){o.label=h[1],h=m;break}if(h&&o.label<h[2]){o.label=h[2],o.ops.push(m);break}h[2]&&o.ops.pop(),o.trys.pop();continue}m=n.call(r,o)}catch(O){m=[6,O],f=0}finally{c=h=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0});var u=Be(),l=re();function p(r){return new TextDecoder().decode(r.subarray(1,1+r[0]))}t.decodeResponse=p;function a(r){var n=new TextEncoder().encode("X"+r+`
`);return n[0]=n.length-1,n}t.encodeCommand=a;function i(r){return e(this,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return[4,r.startNotifications()];case 1:return o.sent(),n=u.fromEvent(r.service.device,"gattserverdisconnected"),[2,u.fromEvent(r,"characteristicvaluechanged").pipe(l.takeUntil(n),l.map(function(c){return c.target.value}))]}})})}t.observableCharacteristic=i}),hf=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Be(),s=re(),u=wr();function l(p){var a=[],i=null;return p.pipe(s.mergeMap(function(r){if(r.timestamp!==i&&(i=r.timestamp,a.length)){var n=e.from([a.slice()]);return a.splice(0,a.length,r),n}return a.push(r),e.from([])}),s.concat(e.from([a])),s.mergeMap(function(r){var n=r[0].samples.map(function(o,c){for(var f=[NaN,NaN,NaN,NaN,NaN],h=0,d=r;h<d.length;h++){var b=d[h];f[b.electrode]=b.samples[c]}return{data:f,index:r[0].index,timestamp:r[0].timestamp+c*1e3/u.EEG_FREQUENCY}});return e.from(n)}))}t.zipSamples=l}),df=_(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Be(),s=re(),u=wr();function l(p){var a=[],i=null;return p.pipe(s.mergeMap(function(r){if(r.timestamp!==i&&(i=r.timestamp,a.length)){var n=e.from([a.slice()]);return a.splice(0,a.length,r),n}return a.push(r),e.from([])}),s.concat(e.from([a])),s.mergeMap(function(r){var n=r[0].samples.map(function(o,c){for(var f=[NaN,NaN,NaN],h=0,d=r;h<d.length;h++){var b=d[h];f[b.ppgChannel]=b.samples[c]}return{data:f,index:r[0].index,timestamp:r[0].timestamp+c*1e3/u.PPG_FREQUENCY}});return e.from(n)}))}t.zipSamplesPpg=l}),wr=_(t=>{"use strict";var e=t&&t.__awaiter||function(y,m,O,S){return new(O||(O=Promise))(function(P,C){function N(j){try{q(S.next(j))}catch(z){C(z)}}function L(j){try{q(S.throw(j))}catch(z){C(z)}}function q(j){j.done?P(j.value):new O(function(z){z(j.value)}).then(N,L)}q((S=S.apply(y,m||[])).next())})},s=t&&t.__generator||function(y,m){var O={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},S,P,C,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(j){return function(z){return q([j,z])}}function q(j){if(S)throw new TypeError("Generator is already executing.");for(;O;)try{if(S=1,P&&(C=j[0]&2?P.return:j[0]?P.throw||((C=P.return)&&C.call(P),0):P.next)&&!(C=C.call(P,j[1])).done)return C;switch(P=0,C&&(j=[j[0]&2,C.value]),j[0]){case 0:case 1:C=j;break;case 4:return O.label++,{value:j[1],done:!1};case 5:O.label++,P=j[1],j=[0];continue;case 7:j=O.ops.pop(),O.trys.pop();continue;default:if(C=O.trys,!(C=C.length>0&&C[C.length-1])&&(j[0]===6||j[0]===2)){O=0;continue}if(j[0]===3&&(!C||j[1]>C[0]&&j[1]<C[3])){O.label=j[1];break}if(j[0]===6&&O.label<C[1]){O.label=C[1],C=j;break}if(C&&O.label<C[2]){O.label=C[2],O.ops.push(j);break}C[2]&&O.ops.pop(),O.trys.pop();continue}j=m.call(y,O)}catch(z){j=[6,z],P=0}finally{S=C=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0});var u=Be(),l=re(),p=ff(),a=pf(),i=hf();t.zipSamples=i.zipSamples;var r=df();t.zipSamplesPpg=r.zipSamplesPpg,t.MUSE_SERVICE=65165;var n="273e0001-4c4d-454d-96be-f03bac821358",o="273e000b-4c4d-454d-96be-f03bac821358",c="273e0009-4c4d-454d-96be-f03bac821358",f="273e000a-4c4d-454d-96be-f03bac821358",h=["273e000f-4c4d-454d-96be-f03bac821358","273e0010-4c4d-454d-96be-f03bac821358","273e0011-4c4d-454d-96be-f03bac821358"];t.PPG_FREQUENCY=64,t.PPG_SAMPLES_PER_READING=6;var d=["273e0003-4c4d-454d-96be-f03bac821358","273e0004-4c4d-454d-96be-f03bac821358","273e0005-4c4d-454d-96be-f03bac821358","273e0006-4c4d-454d-96be-f03bac821358","273e0007-4c4d-454d-96be-f03bac821358"];t.EEG_FREQUENCY=256,t.EEG_SAMPLES_PER_READING=12,t.ppgChannelNames=["ambient","infrared","red"],t.channelNames=["TP9","AF7","AF8","TP10","AUX"];var b=function(){function y(){this.enableAux=!1,this.enablePpg=!1,this.deviceName="",this.connectionStatus=new u.BehaviorSubject(!1),this.gatt=null,this.lastIndex=null,this.lastTimestamp=null}return y.prototype.connect=function(m){return e(this,void 0,void 0,function(){var O,S,P,C,N,L,q,j,z,F,nt,X,g,w,x,I,E,B,T,U,W,D=this;return s(this,function(M){switch(M.label){case 0:return m?(this.gatt=m,[3,4]):[3,1];case 1:return[4,navigator.bluetooth.requestDevice({filters:[{services:[t.MUSE_SERVICE]}]})];case 2:return O=M.sent(),S=this,[4,O.gatt.connect()];case 3:S.gatt=M.sent(),M.label=4;case 4:return this.deviceName=this.gatt.device.name||null,[4,this.gatt.getPrimaryService(t.MUSE_SERVICE)];case 5:return P=M.sent(),u.fromEvent(this.gatt.device,"gattserverdisconnected").pipe(l.first()).subscribe(function(){D.gatt=null,D.connectionStatus.next(!1)}),C=this,[4,P.getCharacteristic(n)];case 6:return C.controlChar=M.sent(),N=this,[4,a.observableCharacteristic(this.controlChar)];case 7:return N.rawControlData=M.sent().pipe(l.map(function(H){return a.decodeResponse(new Uint8Array(H.buffer))}),l.share()),this.controlResponses=p.parseControl(this.rawControlData),[4,P.getCharacteristic(o)];case 8:return L=M.sent(),q=this,[4,a.observableCharacteristic(L)];case 9:return q.telemetryData=M.sent().pipe(l.map(p.parseTelemetry)),[4,P.getCharacteristic(c)];case 10:return j=M.sent(),z=this,[4,a.observableCharacteristic(j)];case 11:return z.gyroscopeData=M.sent().pipe(l.map(p.parseGyroscope)),[4,P.getCharacteristic(f)];case 12:return F=M.sent(),nt=this,[4,a.observableCharacteristic(F)];case 13:if(nt.accelerometerData=M.sent().pipe(l.map(p.parseAccelerometer)),this.eventMarkers=new u.Subject,!this.enablePpg)return[3,18];this.ppgCharacteristics=[],X=[],g=h.length,w=function(H){var V,Y,it,ct;return s(this,function(ot){switch(ot.label){case 0:return V=h[H],[4,P.getCharacteristic(V)];case 1:return Y=ot.sent(),ct=(it=X).push,[4,a.observableCharacteristic(Y)];case 2:return ct.apply(it,[ot.sent().pipe(l.map(function(dt){var bt=dt.getUint16(0);return{index:bt,ppgChannel:H,samples:p.decodePPGSamples(new Uint8Array(dt.buffer).subarray(2)),timestamp:D.getTimestamp(bt,t.PPG_SAMPLES_PER_READING,t.PPG_FREQUENCY)}}))]),x.ppgCharacteristics.push(Y),[2]}})},x=this,I=0,M.label=14;case 14:return I<g?[5,w(I)]:[3,17];case 15:M.sent(),M.label=16;case 16:return I++,[3,14];case 17:this.ppgReadings=u.merge.apply(void 0,X),M.label=18;case 18:this.eegCharacteristics=[],E=[],B=this.enableAux?d.length:4,T=function(H){var V,Y,it,ct;return s(this,function(ot){switch(ot.label){case 0:return V=d[H],[4,P.getCharacteristic(V)];case 1:return Y=ot.sent(),ct=(it=E).push,[4,a.observableCharacteristic(Y)];case 2:return ct.apply(it,[ot.sent().pipe(l.map(function(dt){var bt=dt.getUint16(0);return{electrode:H,index:bt,samples:p.decodeEEGSamples(new Uint8Array(dt.buffer).subarray(2)),timestamp:D.getTimestamp(bt,t.EEG_SAMPLES_PER_READING,t.EEG_FREQUENCY)}}))]),U.eegCharacteristics.push(Y),[2]}})},U=this,W=0,M.label=19;case 19:return W<B?[5,T(W)]:[3,22];case 20:M.sent(),M.label=21;case 21:return W++,[3,19];case 22:return this.eegReadings=u.merge.apply(void 0,E),this.connectionStatus.next(!0),[2]}})})},y.prototype.sendCommand=function(m){return e(this,void 0,void 0,function(){return s(this,function(O){switch(O.label){case 0:return[4,this.controlChar.writeValue(a.encodeCommand(m))];case 1:return O.sent(),[2]}})})},y.prototype.start=function(){return e(this,void 0,void 0,function(){var m;return s(this,function(O){switch(O.label){case 0:return[4,this.pause()];case 1:return O.sent(),m="p21",this.enablePpg?m="p50":this.enableAux&&(m="p20"),[4,this.controlChar.writeValue(a.encodeCommand(m))];case 2:return O.sent(),[4,this.controlChar.writeValue(a.encodeCommand("s"))];case 3:return O.sent(),[4,this.resume()];case 4:return O.sent(),[2]}})})},y.prototype.pause=function(){return e(this,void 0,void 0,function(){return s(this,function(m){switch(m.label){case 0:return[4,this.sendCommand("h")];case 1:return m.sent(),[2]}})})},y.prototype.resume=function(){return e(this,void 0,void 0,function(){return s(this,function(m){switch(m.label){case 0:return[4,this.sendCommand("d")];case 1:return m.sent(),[2]}})})},y.prototype.deviceInfo=function(){return e(this,void 0,void 0,function(){var m;return s(this,function(O){switch(O.label){case 0:return m=this.controlResponses.pipe(l.filter(function(S){return!!S.fw}),l.take(1)).toPromise(),[4,this.sendCommand("v1")];case 1:return O.sent(),[2,m]}})})},y.prototype.injectMarker=function(m,O){return O===void 0&&(O=new Date().getTime()),e(this,void 0,void 0,function(){return s(this,function(S){switch(S.label){case 0:return[4,this.eventMarkers.next({value:m,timestamp:O})];case 1:return S.sent(),[2]}})})},y.prototype.disconnect=function(){this.gatt&&(this.lastIndex=null,this.lastTimestamp=null,this.gatt.disconnect(),this.connectionStatus.next(!1))},y.prototype.getTimestamp=function(m,O,S){var P=1e3*(1/S)*O;for((this.lastIndex===null||this.lastTimestamp===null)&&(this.lastIndex=m,this.lastTimestamp=new Date().getTime()-P);this.lastIndex-m>4096;)m+=65536;return m===this.lastIndex?this.lastTimestamp:m>this.lastIndex?(this.lastTimestamp+=P*(m-this.lastIndex),this.lastIndex=m,this.lastTimestamp):this.lastTimestamp-P*(this.lastIndex-m)},y}();t.MuseClient=b}),bf=eu(wr(),1),bi=bf.MuseClient;var Nt=250,Cr={sps:Nt,connect:(t={})=>new Promise(async(e,s)=>{let u=`muse${Math.floor(Math.random()*1e15)}`,l=new bi,p={_id:u,client:l,settings:Object.assign(Object.assign({},Cr),t)};l.enableAux=!0,await l.connect(),await l.start();let a;l.eegReadings.subscribe(i=>{i.origin="eeg",i.electrode===0&&(a=A.genTimestamps(12,250)),a||(a=A.genTimestamps(12,250)),i.timestamp=a,p.settings.ondata(i)}),l.telemetryData.subscribe(i=>{i.origin="telemetry",p.settings.ondata(i)}),l.gyroscopeData.subscribe(i=>{i.origin="gyro",p.settings.ondata(i)}),l.accelerometerData.subscribe(i=>{i.origin="accelerometer",p.settings.ondata(i)}),l.enablePPG&&l.ppgData.subscribe(i=>{i.origin="ppg",p.settings.ondata(i)}),p.settings.onconnect&&p.settings.onconnect(p),e(p)}),codec:t=>{let e=t.origin;if(e==="eeg")return{[t.electrode]:t.samples,timestamp:Date.now()};if(e==="gyro"){let s={gx:[],gy:[],gz:[],timestamp:Date.now()};return t.samples.forEach(u=>{s.gx.push(u.x),s.gy.push(u.y),s.gz.push(u.z)}),s}else if(e==="accelerometer"){let s={ax:[],ay:[],az:[],timestamp:Date.now()};return t.samples.forEach(u=>{s.ax.push(u.x),s.ay.push(u.y),s.az.push(u.z)}),s}else{if(e==="ppg")return{[`ppg${t.ppgChannel}`]:t.samples,timestamp:Date.now()};if(e==="telemetry")return t}},disconnect:t=>{t.client.disconnect(),t.settings.ondisconnect(t)},onconnect:t=>{console.log("muse connected!",t)},ondisconnect:t=>{console.log("muse disconnected!",t)},ondata:t=>{console.log(t)}},ne={sps:Nt,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},py={0:JSON.parse(JSON.stringify(ne)),1:JSON.parse(JSON.stringify(ne)),2:JSON.parse(JSON.stringify(ne)),3:JSON.parse(JSON.stringify(ne)),4:JSON.parse(JSON.stringify(ne))},hy={lines:{0:{nSec:10,sps:Nt,units:"uV"},1:{nSec:10,sps:Nt,units:"uV"},2:{nSec:10,sps:Nt,units:"uV"},3:{nSec:10,sps:Nt,units:"uV"},4:{nSec:10,sps:Nt,units:"uV"},ax:{nSec:10,sps:100,units:"mg"},ay:{nSec:10,sps:100,units:"mg"},az:{nSec:10,sps:100,units:"mg"},gx:{nSec:10,sps:100,units:"rps"},gy:{nSec:10,sps:100,units:"rps"},gz:{nSec:10,sps:100,units:"rps"}},generateNewLines:!0};var yf=Object.create,Gr=Object.defineProperty,vf=Object.defineProperties,mf=Object.getOwnPropertyDescriptor,_f=Object.getOwnPropertyDescriptors,Of=Object.getOwnPropertyNames,De=Object.getOwnPropertySymbols,gf=Object.getPrototypeOf,zr=Object.prototype.hasOwnProperty,zo=Object.prototype.propertyIsEnumerable,yi=(t,e,s)=>e in t?Gr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Nr=(t,e)=>{for(var s in e||(e={}))zr.call(e,s)&&yi(t,s,e[s]);if(De)for(var s of De(e))zo.call(e,s)&&yi(t,s,e[s]);return t},jr=(t,e)=>vf(t,_f(e)),Sf=(t,e)=>{var s={};for(var u in t)zr.call(t,u)&&e.indexOf(u)<0&&(s[u]=t[u]);if(t!=null&&De)for(var u of De(t))e.indexOf(u)<0&&zo.call(t,u)&&(s[u]=t[u]);return s},wf=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Cf=(t,e,s,u)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of Of(e))!zr.call(t,l)&&l!==s&&Gr(t,l,{get:()=>e[l],enumerable:!(u=mf(e,l))||u.enumerable});return t},xf=(t,e,s)=>(s=t!=null?yf(gf(t)):{},Cf(e||!t||!t.__esModule?Gr(s,"default",{value:t,enumerable:!0}):s,t)),vi=(t,e,s)=>new Promise((u,l)=>{var p=r=>{try{i(s.next(r))}catch(n){l(n)}},a=r=>{try{i(s.throw(r))}catch(n){l(n)}},i=r=>r.done?u(r.value):Promise.resolve(r.value).then(p,a);i((s=s.apply(t,e)).next())}),If=wf((t,e)=>{var s,u,l,p,a,i,r,n,o,c,f,h,d,b,y,m,O,S,P,C,N,L,q,j,z;(function(F){var nt=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(g){F(X(nt,X(g)))}):typeof e=="object"&&typeof e.exports=="object"?F(X(nt,X(e.exports))):F(X(nt));function X(g,w){return g!==nt&&(typeof Object.create=="function"?Object.defineProperty(g,"__esModule",{value:!0}):g.__esModule=!0),function(x,I){return g[x]=w?w(x,I):I}}})(function(F){var nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var x in w)Object.prototype.hasOwnProperty.call(w,x)&&(g[x]=w[x])};s=function(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");nt(g,w);function x(){this.constructor=g}g.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)},u=Object.assign||function(g){for(var w,x=1,I=arguments.length;x<I;x++){w=arguments[x];for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(g[E]=w[E])}return g},l=function(g,w){var x={};for(var I in g)Object.prototype.hasOwnProperty.call(g,I)&&w.indexOf(I)<0&&(x[I]=g[I]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,I=Object.getOwnPropertySymbols(g);E<I.length;E++)w.indexOf(I[E])<0&&Object.prototype.propertyIsEnumerable.call(g,I[E])&&(x[I[E]]=g[I[E]]);return x},p=function(g,w,x,I){var E=arguments.length,B=E<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,x):I,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(g,w,x,I);else for(var U=g.length-1;U>=0;U--)(T=g[U])&&(B=(E<3?T(B):E>3?T(w,x,B):T(w,x))||B);return E>3&&B&&Object.defineProperty(w,x,B),B},a=function(g,w){return function(x,I){w(x,I,g)}},i=function(g,w){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,w)},r=function(g,w,x,I){function E(B){return B instanceof x?B:new x(function(T){T(B)})}return new(x||(x=Promise))(function(B,T){function U(M){try{D(I.next(M))}catch(H){T(H)}}function W(M){try{D(I.throw(M))}catch(H){T(H)}}function D(M){M.done?B(M.value):E(M.value).then(U,W)}D((I=I.apply(g,w||[])).next())})},n=function(g,w){var x={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},I,E,B,T;return T={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function U(D){return function(M){return W([D,M])}}function W(D){if(I)throw new TypeError("Generator is already executing.");for(;x;)try{if(I=1,E&&(B=D[0]&2?E.return:D[0]?E.throw||((B=E.return)&&B.call(E),0):E.next)&&!(B=B.call(E,D[1])).done)return B;switch(E=0,B&&(D=[D[0]&2,B.value]),D[0]){case 0:case 1:B=D;break;case 4:return x.label++,{value:D[1],done:!1};case 5:x.label++,E=D[1],D=[0];continue;case 7:D=x.ops.pop(),x.trys.pop();continue;default:if(B=x.trys,!(B=B.length>0&&B[B.length-1])&&(D[0]===6||D[0]===2)){x=0;continue}if(D[0]===3&&(!B||D[1]>B[0]&&D[1]<B[3])){x.label=D[1];break}if(D[0]===6&&x.label<B[1]){x.label=B[1],B=D;break}if(B&&x.label<B[2]){x.label=B[2],x.ops.push(D);break}B[2]&&x.ops.pop(),x.trys.pop();continue}D=w.call(g,x)}catch(M){D=[6,M],E=0}finally{I=B=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}},o=function(g,w){for(var x in g)x!=="default"&&!Object.prototype.hasOwnProperty.call(w,x)&&z(w,g,x)},z=Object.create?function(g,w,x,I){I===void 0&&(I=x);var E=Object.getOwnPropertyDescriptor(w,x);(!E||("get"in E?!w.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return w[x]}}),Object.defineProperty(g,I,E)}:function(g,w,x,I){I===void 0&&(I=x),g[I]=w[x]},c=function(g){var w=typeof Symbol=="function"&&Symbol.iterator,x=w&&g[w],I=0;if(x)return x.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&I>=g.length&&(g=void 0),{value:g&&g[I++],done:!g}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(g,w){var x=typeof Symbol=="function"&&g[Symbol.iterator];if(!x)return g;var I=x.call(g),E,B=[],T;try{for(;(w===void 0||w-- >0)&&!(E=I.next()).done;)B.push(E.value)}catch(U){T={error:U}}finally{try{E&&!E.done&&(x=I.return)&&x.call(I)}finally{if(T)throw T.error}}return B},h=function(){for(var g=[],w=0;w<arguments.length;w++)g=g.concat(f(arguments[w]));return g},d=function(){for(var g=0,w=0,x=arguments.length;w<x;w++)g+=arguments[w].length;for(var I=Array(g),E=0,w=0;w<x;w++)for(var B=arguments[w],T=0,U=B.length;T<U;T++,E++)I[E]=B[T];return I},b=function(g,w,x){if(x||arguments.length===2)for(var I=0,E=w.length,B;I<E;I++)(B||!(I in w))&&(B||(B=Array.prototype.slice.call(w,0,I)),B[I]=w[I]);return g.concat(B||Array.prototype.slice.call(w))},y=function(g){return this instanceof y?(this.v=g,this):new y(g)},m=function(g,w,x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var I=x.apply(g,w||[]),E,B=[];return E={},T("next"),T("throw"),T("return"),E[Symbol.asyncIterator]=function(){return this},E;function T(V){I[V]&&(E[V]=function(Y){return new Promise(function(it,ct){B.push([V,Y,it,ct])>1||U(V,Y)})})}function U(V,Y){try{W(I[V](Y))}catch(it){H(B[0][3],it)}}function W(V){V.value instanceof y?Promise.resolve(V.value.v).then(D,M):H(B[0][2],V)}function D(V){U("next",V)}function M(V){U("throw",V)}function H(V,Y){V(Y),B.shift(),B.length&&U(B[0][0],B[0][1])}},O=function(g){var w,x;return w={},I("next"),I("throw",function(E){throw E}),I("return"),w[Symbol.iterator]=function(){return this},w;function I(E,B){w[E]=g[E]?function(T){return(x=!x)?{value:y(g[E](T)),done:E==="return"}:B?B(T):T}:B}},S=function(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w=g[Symbol.asyncIterator],x;return w?w.call(g):(g=typeof c=="function"?c(g):g[Symbol.iterator](),x={},I("next"),I("throw"),I("return"),x[Symbol.asyncIterator]=function(){return this},x);function I(B){x[B]=g[B]&&function(T){return new Promise(function(U,W){T=g[B](T),E(U,W,T.done,T.value)})}}function E(B,T,U,W){Promise.resolve(W).then(function(D){B({value:D,done:U})},T)}},P=function(g,w){return Object.defineProperty?Object.defineProperty(g,"raw",{value:w}):g.raw=w,g};var X=Object.create?function(g,w){Object.defineProperty(g,"default",{enumerable:!0,value:w})}:function(g,w){g.default=w};C=function(g){if(g&&g.__esModule)return g;var w={};if(g!=null)for(var x in g)x!=="default"&&Object.prototype.hasOwnProperty.call(g,x)&&z(w,g,x);return X(w,g),w},N=function(g){return g&&g.__esModule?g:{default:g}},L=function(g,w,x,I){if(x==="a"&&!I)throw new TypeError("Private accessor was defined without a getter");if(typeof w=="function"?g!==w||!I:!w.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?I:x==="a"?I.call(g):I?I.value:w.get(g)},q=function(g,w,x,I,E){if(I==="m")throw new TypeError("Private method is not writable");if(I==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof w=="function"?g!==w||!E:!w.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return I==="a"?E.call(g,x):E?E.value=x:w.set(g,x),x},j=function(g,w){if(w===null||typeof w!="object"&&typeof w!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof g=="function"?w===g:g.has(w)},F("__extends",s),F("__assign",u),F("__rest",l),F("__decorate",p),F("__param",a),F("__metadata",i),F("__awaiter",r),F("__generator",n),F("__exportStar",o),F("__createBinding",z),F("__values",c),F("__read",f),F("__spread",h),F("__spreadArrays",d),F("__spreadArray",b),F("__await",y),F("__asyncGenerator",m),F("__asyncDelegator",O),F("__asyncValues",S),F("__makeTemplateObject",P),F("__importStar",C),F("__importDefault",N),F("__classPrivateFieldGet",L),F("__classPrivateFieldSet",q),F("__classPrivateFieldIn",j)})}),Pf=xf(If(),1),{__extends:Gt,__assign:by,__rest:yy,__decorate:vy,__param:my,__metadata:_y,__awaiter:Bf,__generator:qo,__exportStar:Oy,__createBinding:gy,__values:Te,__read:Jt,__spread:Sy,__spreadArrays:wy,__spreadArray:le,__await:xr,__asyncGenerator:Af,__asyncDelegator:Cy,__asyncValues:Ef,__makeTemplateObject:xy,__importStar:Iy,__importDefault:Py,__classPrivateFieldGet:By,__classPrivateFieldSet:Ay,__classPrivateFieldIn:Ey}=Pf.default;function J(t){return typeof t=="function"}function qr(t){var e=function(u){Error.call(u),u.stack=new Error().stack},s=t(e);return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}var Ir=qr(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(s,u){return u+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function kr(t,e){if(t){var s=t.indexOf(e);0<=s&&t.splice(s,1)}}var Re=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,s,u,l,p;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var i=Te(a),r=i.next();!r.done;r=i.next()){var n=r.value;n.remove(this)}}catch(b){e={error:b}}finally{try{r&&!r.done&&(s=i.return)&&s.call(i)}finally{if(e)throw e.error}}else a.remove(this);var o=this.initialTeardown;if(J(o))try{o()}catch(b){p=b instanceof Ir?b.errors:[b]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var f=Te(c),h=f.next();!h.done;h=f.next()){var d=h.value;try{mi(d)}catch(b){p=p??[],b instanceof Ir?p=le(le([],Jt(p)),Jt(b.errors)):p.push(b)}}}catch(b){u={error:b}}finally{try{h&&!h.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}}if(p)throw new Ir(p)}},t.prototype.add=function(e){var s;if(e&&e!==this)if(this.closed)mi(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(s=this._finalizers)!==null&&s!==void 0?s:[]).push(e)}},t.prototype._hasParent=function(e){var s=this._parentage;return s===e||Array.isArray(s)&&s.includes(e)},t.prototype._addParent=function(e){var s=this._parentage;this._parentage=Array.isArray(s)?(s.push(e),s):s?[s,e]:e},t.prototype._removeParent=function(e){var s=this._parentage;s===e?this._parentage=null:Array.isArray(s)&&kr(s,e)},t.prototype.remove=function(e){var s=this._finalizers;s&&kr(s,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Wo=Re.EMPTY;function Ho(t){return t instanceof Re||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function mi(t){J(t)?t():t.unsubscribe()}var Tt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Me={setTimeout:function(t,e){for(var s=[],u=2;u<arguments.length;u++)s[u-2]=arguments[u];var l=Me.delegate;return l?.setTimeout?l.setTimeout.apply(l,le([t,e],Jt(s))):setTimeout.apply(void 0,le([t,e],Jt(s)))},clearTimeout:function(t){var e=Me.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Yo(t){Me.setTimeout(function(){var e=Tt.onUnhandledError;if(e)e(t);else throw t})}function Dr(){}var Nf=function(){return Wr("C",void 0,void 0)}();function jf(t){return Wr("E",void 0,t)}function kf(t){return Wr("N",t,void 0)}function Wr(t,e,s){return{kind:t,value:e,error:s}}var kt=null;function je(t){if(Tt.useDeprecatedSynchronousErrorHandling){var e=!kt;if(e&&(kt={errorThrown:!1,error:null}),t(),e){var s=kt,u=s.errorThrown,l=s.error;if(kt=null,u)throw l}}else t()}function Df(t){Tt.useDeprecatedSynchronousErrorHandling&&kt&&(kt.errorThrown=!0,kt.error=t)}var Hr=function(t){Gt(e,t);function e(s){var u=t.call(this)||this;return u.isStopped=!1,s?(u.destination=s,Ho(s)&&s.add(u)):u.destination=Rf,u}return e.create=function(s,u,l){return new Tr(s,u,l)},e.prototype.next=function(s){this.isStopped?Br(kf(s),this):this._next(s)},e.prototype.error=function(s){this.isStopped?Br(jf(s),this):(this.isStopped=!0,this._error(s))},e.prototype.complete=function(){this.isStopped?Br(Nf,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(s){this.destination.next(s)},e.prototype._error=function(s){try{this.destination.error(s)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Re),Tf=Function.prototype.bind;function Pr(t,e){return Tf.call(t,e)}var Mf=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var s=this.partialObserver;if(s.next)try{s.next(e)}catch(u){Ne(u)}},t.prototype.error=function(e){var s=this.partialObserver;if(s.error)try{s.error(e)}catch(u){Ne(u)}else Ne(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(s){Ne(s)}},t}(),Tr=function(t){Gt(e,t);function e(s,u,l){var p=t.call(this)||this,a;if(J(s)||!s)a={next:s??void 0,error:u??void 0,complete:l??void 0};else{var i;p&&Tt.useDeprecatedNextContext?(i=Object.create(s),i.unsubscribe=function(){return p.unsubscribe()},a={next:s.next&&Pr(s.next,i),error:s.error&&Pr(s.error,i),complete:s.complete&&Pr(s.complete,i)}):a=s}return p.destination=new Mf(a),p}return e}(Hr);function Ne(t){Tt.useDeprecatedSynchronousErrorHandling?Df(t):Yo(t)}function Ff(t){throw t}function Br(t,e){var s=Tt.onStoppedNotification;s&&Me.setTimeout(function(){return s(t,e)})}var Rf={closed:!0,next:Dr,error:Ff,complete:Dr},Yr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Qr(t){return t}function Uf(t){return t.length===0?Qr:t.length===1?t[0]:function(e){return t.reduce(function(s,u){return u(s)},e)}}var ht=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var s=new t;return s.source=this,s.operator=e,s},t.prototype.subscribe=function(e,s,u){var l=this,p=Vf(e)?e:new Tr(e,s,u);return je(function(){var a=l,i=a.operator,r=a.source;p.add(i?i.call(p,r):r?l._subscribe(p):l._trySubscribe(p))}),p},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(s){e.error(s)}},t.prototype.forEach=function(e,s){var u=this;return s=_i(s),new s(function(l,p){var a=new Tr({next:function(i){try{e(i)}catch(r){p(r),a.unsubscribe()}},error:p,complete:l});u.subscribe(a)})},t.prototype._subscribe=function(e){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(e)},t.prototype[Yr]=function(){return this},t.prototype.pipe=function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];return Uf(e)(this)},t.prototype.toPromise=function(e){var s=this;return e=_i(e),new e(function(u,l){var p;s.subscribe(function(a){return p=a},function(a){return l(a)},function(){return u(p)})})},t.create=function(e){return new t(e)},t}();function _i(t){var e;return(e=t??Tt.Promise)!==null&&e!==void 0?e:Promise}function Lf(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function Vf(t){return t&&t instanceof Hr||Lf(t)&&Ho(t)}function Jf(t){return J(t?.lift)}function Ot(t){return function(e){if(Jf(e))return e.lift(function(s){try{return t(s,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}function _t(t,e,s,u,l){return new Gf(t,e,s,u,l)}var Gf=function(t){Gt(e,t);function e(s,u,l,p,a,i){var r=t.call(this,s)||this;return r.onFinalize=a,r.shouldUnsubscribe=i,r._next=u?function(n){try{u(n)}catch(o){s.error(o)}}:t.prototype._next,r._error=p?function(n){try{p(n)}catch(o){s.error(o)}finally{this.unsubscribe()}}:t.prototype._error,r._complete=l?function(){try{l()}catch(n){s.error(n)}finally{this.unsubscribe()}}:t.prototype._complete,r}return e.prototype.unsubscribe=function(){var s;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var u=this.closed;t.prototype.unsubscribe.call(this),!u&&((s=this.onFinalize)===null||s===void 0||s.call(this))}},e}(Hr),zf=qr(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Fe=function(t){Gt(e,t);function e(){var s=t.call(this)||this;return s.closed=!1,s.currentObservers=null,s.observers=[],s.isStopped=!1,s.hasError=!1,s.thrownError=null,s}return e.prototype.lift=function(s){var u=new Oi(this,this);return u.operator=s,u},e.prototype._throwIfClosed=function(){if(this.closed)throw new zf},e.prototype.next=function(s){var u=this;je(function(){var l,p;if(u._throwIfClosed(),!u.isStopped){u.currentObservers||(u.currentObservers=Array.from(u.observers));try{for(var a=Te(u.currentObservers),i=a.next();!i.done;i=a.next()){var r=i.value;r.next(s)}}catch(n){l={error:n}}finally{try{i&&!i.done&&(p=a.return)&&p.call(a)}finally{if(l)throw l.error}}}})},e.prototype.error=function(s){var u=this;je(function(){if(u._throwIfClosed(),!u.isStopped){u.hasError=u.isStopped=!0,u.thrownError=s;for(var l=u.observers;l.length;)l.shift().error(s)}})},e.prototype.complete=function(){var s=this;je(function(){if(s._throwIfClosed(),!s.isStopped){s.isStopped=!0;for(var u=s.observers;u.length;)u.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var s;return((s=this.observers)===null||s===void 0?void 0:s.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(s){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,s)},e.prototype._subscribe=function(s){return this._throwIfClosed(),this._checkFinalizedStatuses(s),this._innerSubscribe(s)},e.prototype._innerSubscribe=function(s){var u=this,l=this,p=l.hasError,a=l.isStopped,i=l.observers;return p||a?Wo:(this.currentObservers=null,i.push(s),new Re(function(){u.currentObservers=null,kr(i,s)}))},e.prototype._checkFinalizedStatuses=function(s){var u=this,l=u.hasError,p=u.thrownError,a=u.isStopped;l?s.error(p):a&&s.complete()},e.prototype.asObservable=function(){var s=new ht;return s.source=this,s},e.create=function(s,u){return new Oi(s,u)},e}(ht),Oi=function(t){Gt(e,t);function e(s,u){var l=t.call(this)||this;return l.destination=s,l.source=u,l}return e.prototype.next=function(s){var u,l;(l=(u=this.destination)===null||u===void 0?void 0:u.next)===null||l===void 0||l.call(u,s)},e.prototype.error=function(s){var u,l;(l=(u=this.destination)===null||u===void 0?void 0:u.error)===null||l===void 0||l.call(u,s)},e.prototype.complete=function(){var s,u;(u=(s=this.destination)===null||s===void 0?void 0:s.complete)===null||u===void 0||u.call(s)},e.prototype._subscribe=function(s){var u,l;return(l=(u=this.source)===null||u===void 0?void 0:u.subscribe(s))!==null&&l!==void 0?l:Wo},e}(Fe),qf=function(t){Gt(e,t);function e(s){var u=t.call(this)||this;return u._value=s,u}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(s){var u=t.prototype._subscribe.call(this,s);return!u.closed&&s.next(this._value),u},e.prototype.getValue=function(){var s=this,u=s.hasError,l=s.thrownError,p=s._value;if(u)throw l;return this._throwIfClosed(),p},e.prototype.next=function(s){t.prototype.next.call(this,this._value=s)},e}(Fe),Wf=new ht(function(t){return t.complete()}),Qo=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Hf(t){return J(t?.then)}function Yf(t){return J(t[Yr])}function Qf(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function $f(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Kf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zf=Kf();function Xf(t){return J(t?.[Zf])}function tp(t){return Af(this,arguments,function(){var e,s,u,l;return qo(this,function(p){switch(p.label){case 0:e=t.getReader(),p.label=1;case 1:p.trys.push([1,,9,10]),p.label=2;case 2:return[4,xr(e.read())];case 3:return s=p.sent(),u=s.value,l=s.done,l?[4,xr(void 0)]:[3,5];case 4:return[2,p.sent()];case 5:return[4,xr(u)];case 6:return[4,p.sent()];case 7:return p.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function ep(t){return J(t?.getReader)}function Ue(t){if(t instanceof ht)return t;if(t!=null){if(Yf(t))return rp(t);if(Qo(t))return np(t);if(Hf(t))return ip(t);if(Qf(t))return $o(t);if(Xf(t))return op(t);if(ep(t))return sp(t)}throw $f(t)}function rp(t){return new ht(function(e){var s=t[Yr]();if(J(s.subscribe))return s.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function np(t){return new ht(function(e){for(var s=0;s<t.length&&!e.closed;s++)e.next(t[s]);e.complete()})}function ip(t){return new ht(function(e){t.then(function(s){e.closed||(e.next(s),e.complete())},function(s){return e.error(s)}).then(null,Yo)})}function op(t){return new ht(function(e){var s,u;try{for(var l=Te(t),p=l.next();!p.done;p=l.next()){var a=p.value;if(e.next(a),e.closed)return}}catch(i){s={error:i}}finally{try{p&&!p.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}e.complete()})}function $o(t){return new ht(function(e){ap(t,e).catch(function(s){return e.error(s)})})}function sp(t){return $o(tp(t))}function ap(t,e){var s,u,l,p;return Bf(this,void 0,void 0,function(){var a,i;return qo(this,function(r){switch(r.label){case 0:r.trys.push([0,5,6,11]),s=Ef(t),r.label=1;case 1:return[4,s.next()];case 2:if(u=r.sent(),!!u.done)return[3,4];if(a=u.value,e.next(a),e.closed)return[2];r.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i=r.sent(),l={error:i},[3,11];case 6:return r.trys.push([6,,9,10]),u&&!u.done&&(p=s.return)?[4,p.call(s)]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,10];case 9:if(l)throw l.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function cp(t,e,s,u,l){u===void 0&&(u=0),l===void 0&&(l=!1);var p=e.schedule(function(){s(),l?t.add(this.schedule(null,u)):this.unsubscribe()},u);if(t.add(p),!l)return p}var Ko=qr(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function oe(t,e){return Ot(function(s,u){var l=0;s.subscribe(_t(u,function(p){u.next(t.call(e,p,l++))}))})}var up=Array.isArray;function lp(t,e){return up(e)?t.apply(void 0,le([],Jt(e))):t(e)}function fp(t){return oe(function(e){return lp(t,e)})}function pp(t,e,s,u,l,p,a,i){var r=[],n=0,o=0,c=!1,f=function(){c&&!r.length&&!n&&e.complete()},h=function(b){return n<u?d(b):r.push(b)},d=function(b){p&&e.next(b),n++;var y=!1;Ue(s(b,o++)).subscribe(_t(e,function(m){l?.(m),p?h(m):e.next(m)},function(){y=!0},void 0,function(){if(y)try{n--;for(var m=function(){var O=r.shift();a?cp(e,a,function(){return d(O)}):d(O)};r.length&&n<u;)m();f()}catch(O){e.error(O)}}))};return t.subscribe(_t(e,h,function(){c=!0,f()})),function(){i?.()}}function $r(t,e,s){return s===void 0&&(s=1/0),J(e)?$r(function(u,l){return oe(function(p,a){return e(u,p,l,a)})(Ue(t(u,l)))},s):(typeof e=="number"&&(s=e),Ot(function(u,l){return pp(u,l,t,s)}))}var hp=["addListener","removeListener"],dp=["addEventListener","removeEventListener"],bp=["on","off"];function Mr(t,e,s,u){if(J(s)&&(u=s,s=void 0),u)return Mr(t,e,s).pipe(fp(u));var l=Jt(mp(t)?dp.map(function(i){return function(r){return t[i](e,r,s)}}):yp(t)?hp.map(gi(t,e)):vp(t)?bp.map(gi(t,e)):[],2),p=l[0],a=l[1];if(!p&&Qo(t))return $r(function(i){return Mr(i,e,s)})(Ue(t));if(!p)throw new TypeError("Invalid event target");return new ht(function(i){var r=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i.next(1<n.length?n:n[0])};return p(r),function(){return a(r)}})}function gi(t,e){return function(s){return function(u){return t[s](e,u)}}}function yp(t){return J(t.addListener)&&J(t.removeListener)}function vp(t){return J(t.on)&&J(t.off)}function mp(t){return J(t.addEventListener)&&J(t.removeEventListener)}function Zo(t,e){return Ot(function(s,u){var l=0;s.subscribe(_t(u,function(p){return t.call(e,p,l++)&&u.next(p)}))})}function _p(t){return Ot(function(e,s){var u=!1;e.subscribe(_t(s,function(l){u=!0,s.next(l)},function(){u||s.next(t),s.complete()}))})}function Op(t){return t<=0?function(){return Wf}:Ot(function(e,s){var u=0;e.subscribe(_t(s,function(l){++u<=t&&(s.next(l),t<=u&&s.complete())}))})}function gp(t){return t===void 0&&(t=Sp),Ot(function(e,s){var u=!1;e.subscribe(_t(s,function(l){u=!0,s.next(l)},function(){return u?s.complete():s.error(t())}))})}function Sp(){return new Ko}function wp(t,e){var s=arguments.length>=2;return function(u){return u.pipe(t?Zo(function(l,p){return t(l,p,u)}):Qr,Op(1),s?_p(e):gp(function(){return new Ko}))}}function Cp(t){return Ot(function(e,s){Ue(t).subscribe(_t(s,function(){return s.complete()},Dr)),!s.closed&&e.subscribe(s)})}function xp(t,e,s){var u=J(t)||e||s?{next:t,error:e,complete:s}:t;return u?Ot(function(l,p){var a;(a=u.subscribe)===null||a===void 0||a.call(u);var i=!0;l.subscribe(_t(p,function(r){var n;(n=u.next)===null||n===void 0||n.call(u,r),p.next(r)},function(){var r;i=!1,(r=u.complete)===null||r===void 0||r.call(u),p.complete()},function(r){var n;i=!1,(n=u.error)===null||n===void 0||n.call(u,r),p.error(r)},function(){var r,n;i&&((r=u.unsubscribe)===null||r===void 0||r.call(u)),(n=u.finalize)===null||n===void 0||n.call(u)}))}):Qr}var Si="1",wi="2",Ci="3",xi="4",Ii="5",Pi="6",Bi="7",Ai="8",Ei="q",Ni="w",ji="e",ki="r",Di="t",Ti="y",Mi="u",Fi="i",Ri="!",Ui="@",Li="#",Vi="$",Ji="%",Gi="^",zi="&",qi="*",Wi="Q",Hi="W",Yi="E",Qi="R",$i="T",Ki="Y",Zi="U",Xi="I",to="p",eo="0",ro="=",no="-",io="]",oo="[",Kr="0",Zr="1",Xr="6",tn="7",en="2",rn="3",nn="4",on="5",Xo="1",ts="0",es="1",rs="2",ns="3",is="4",os="5",ss="6",as="7",cs="8",us="Q",ls="W",fs="E",ps="R",hs="T",ds="Y",bs="U",ys="I",sn="0",an="1",cn="2",un="3",ln="4",fn="5",pn="6",vs="X",ms="1",_s="0",Os="x",gs="1",Ss="0",ws="1",Cs="0",Le="normal",hn="shorted",dn="biasMethod",bn="mvdd",yn="temp",vn="testSig",mn="biasDrp",_n="biasDrn",so="d",Ip="D",xs="Z",Is="z",Fr="1",Rr="0",ao="G",co="H",uo="J",lo="K",fo="L",po="A",ho="S",bo="F",yo="a",Pp="j",vo="1hour",mo="2hour",_o="4hour",Oo="12hour",go="24hour",So="5min",wo="15min",Co="30min",xo="14sec",Bp="b",Ap="s",Ep="?",Io="CH1SET",Po="CH2SET",Bo="CH3SET",Ao="CH4SET",Eo="CH5SET",No="CH6SET",jo="CH7SET",ko="CH8SET",Np="v",jp="c",kp="C",Dp="",Tp="daisy removed",Mp="16",Fp="daisy attached16",Rp="no daisy to attach!8",Up="g",Lp="f",Vp="`",Jp="<",Gp=",",Ps="/",Bs="0",As="1",Es="2",Ns="3",zp="/",js="analog",ks="default",Ds="debug",Ts="digital",Ms="~",Fs="0",Rs="1",Us="2",Ls="3",Vs="4",Js="5",Gs="6",zs="0",qs="1",Ws="2",Hs="3",Ys="4",Qs="5",$s="6",Ks="7",qp="~",Wp="n",Hp="N",Yp="{",Qp="}",$p=";",Kp=":",se="cyton",Ar="cytonBLE",ke="daisy",Zp="default",ae="ganglion",Er="none",Xp="60Hz",th="50Hz",eh="none",rh="random",nh="fullBuffers",ih="oneByOne",oh="none",sh="Invalid Packet Byte Length",ah="Invalid Start Byte",ch="Invalid Stop Byte",uh="Invalid data - try again",lh="Invalid type - check comments for input type",fh="Missing register setting",ph="Missing property in JSON",hh="Scan already under way",dh="No scan started",bh="Please turn blue tooth on.",yh="'this.sync.curSyncObj' must not be null",vh="Missed the time sync sent confirmation. Try sync again",mh="Undefined or Null Input",Do="bad",To="none",Mo="good",_h="init",Fo="ok",Oh="OpenBCISimulator",gh="v1",Sh="v2",wh="v3",Ch="Daisy",xh="v2",Ih="Failure",Ph="$$$",Bh="Success",Ah="rawAux",Eh="standard",Nh="default",jh="fast",kh="accelerometer",Dh="blePoweredOn",Th="close",Mh="droppedPacket",Fh="eot",Rh="error",Uh="ganglionFound",Lh="hardSet",Vh="impedance",Jh="impedanceArray",Gh="message",zh="query",qh="rawDataPacket",Wh="ready",Hh="rfduino",Yh="sample",Qh="scanStopped",$h="synced",Kh="wifiShield",Zh={max:100,min:1},Xh={max:200,min:101},td=201,ed=202,rd=203,nd=204,id=205,od=206,sd=207,ad=20,cd=2,ud={auxByte:20,byteId:0,dataStart:1,dataStop:19},ld={byteId:0,dataStart:1,dataStop:20},Zs=51,Xs=1.2,On="Ganglion",fd="t",pd="T",hd="z",dd="Z",bd=Xs/(8388607*Zs*1.5),yd="fe84",vd="2d30c082f39f4ce6923f3484ea480596",md="2d30c083f39f4ce6923f3484ea480596",_d="2d30c084f39f4ce6923f3484ea480596",Od="2220",gd="2221",Sd="2222",wd="2223",Cd=3,xd="connect",Id="disconnect",Pd="discover",Bd="servicesDiscover",Ad="characteristicsDiscover",Ed="read",Nd="discover",jd="scanStart",kd="scanStop",Dd="stateChange",Td="poweredOn",Md="ble",Fd="serial",Rd="wifi",gn=`
LIS3DH Registers
0x07.0
0x08.0
0x09.0
0x0A.0
0x0B.0
0x0C.0
0x0D.0
0x0E.0
0x0F.33

0x1F.0
0x20.8
0x21.0
0x22.0
0x23.18
0x24.0
0x25.0
0x26.0
0x27.0
0x28.0
0x29.0
0x2A.0
0x2B.0
0x2C.0
0x2D.0
0x2E.0
0x2F.20
0x30.0
0x31.0
0x32.0
0x33.0

0x38.0
0x39.0
0x3A.0
0x3B.0
0x3C.0
0x3D.0
`,Sn=`
LIS3DH Registers
0x07 00
0x08 00
0x09 00
0x0A 00
0x0B 00
0x0C 00
0x0D 00
0x0E 00
0x0F 33

0x1F 00
0x20 08
0x21 00
0x22 00
0x23 18
0x24 00
0x25 00
0x26 00
0x27 00
0x28 00
0x29 00
0x2A 00
0x2B 00
0x2C 00
0x2D 00
0x2E 00
0x2F 20
0x30 00
0x31 00
0x32 00
0x33 00

0x38 00
0x39 00
0x3A 00
0x3B 00
0x3C 00
0x3D 00
`,he=`
Board ADS Registers
ADS_ID, 00, 3E, 0, 0, 1, 1, 1, 1, 1, 0
CONFIG1, 01, 96, 1, 0, 0, 1, 0, 1, 1, 0
CONFIG2, 02, C0, 1, 1, 0, 0, 0, 0, 0, 0
CONFIG3, 03, EC, 1, 1, 1, 0, 1, 1, 0, 0
LOFF, 04, 02, 0, 0, 0, 0, 0, 0, 1, 0
CH1SET, 05, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH2SET, 06, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH3SET, 07, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH4SET, 08, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH5SET, 09, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH6SET, 0A, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH7SET, 0B, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH8SET, 0C, 68, 0, 1, 1, 0, 1, 0, 0, 0
BIAS_SENSP, 0D, FF, 1, 1, 1, 1, 1, 1, 1, 1
BIAS_SENSN, 0E, FF, 1, 1, 1, 1, 1, 1, 1, 1
LOFF_SENSP, 0F, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_SENSN, 10, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_FLIP, 11, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATP, 12, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATN, 13, 00, 0, 0, 0, 0, 0, 0, 0, 0
GPIO, 14, 0F, 0, 0, 0, 0, 1, 1, 1, 1
MISC1, 15, 00, 0, 0, 0, 0, 0, 0, 0, 0
MISC2, 16, 00, 0, 0, 0, 0, 0, 0, 0, 0
CONFIG4, 17, 00, 0, 0, 0, 0, 0, 0, 0, 0
`,wn=`
Daisy ADS Registers
ADS_ID, 00, 3E, 0, 0, 1, 1, 1, 1, 1, 0
CONFIG1, 01, 96, 1, 0, 0, 1, 0, 1, 1, 0
CONFIG2, 02, C0, 1, 1, 0, 0, 0, 0, 0, 0
CONFIG3, 03, EC, 1, 1, 1, 0, 1, 1, 0, 0
LOFF, 04, 02, 0, 0, 0, 0, 0, 0, 1, 0
CH1SET, 05, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH2SET, 06, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH3SET, 07, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH4SET, 08, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH5SET, 09, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH6SET, 0A, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH7SET, 0B, 68, 0, 1, 1, 0, 1, 0, 0, 0
CH8SET, 0C, 68, 0, 1, 1, 0, 1, 0, 0, 0
BIAS_SENSP, 0D, FF, 1, 1, 1, 1, 1, 1, 1, 1
BIAS_SENSN, 0E, FF, 1, 1, 1, 1, 1, 1, 1, 1
LOFF_SENSP, 0F, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_SENSN, 10, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_FLIP, 11, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATP, 12, 00, 0, 0, 0, 0, 0, 0, 0, 0
LOFF_STATN, 13, 00, 0, 0, 0, 0, 0, 0, 0, 0
GPIO, 14, 0F, 0, 0, 0, 0, 1, 1, 1, 1
MISC1, 15, 00, 0, 0, 0, 0, 0, 0, 0, 0
MISC2, 16, 00, 0, 0, 0, 0, 0, 0, 0, 0
CONFIG4, 17, 00, 0, 0, 0, 0, 0, 0, 0, 0
`,Ud="MISC1",Ld="BIAS_SENSP",Vd=["CH1SET","CH2SET","CH3SET","CH4SET","CH5SET","CH6SET","CH7SET","CH8SET"],Jd=he.length+gn.length,Gd=he.length+wn.length+gn.length,zd=he.length+Sn.length,qd=he.length+wn.length+Sn.length,ta={OBCIChannelOff1:Si,OBCIChannelOff2:wi,OBCIChannelOff3:Ci,OBCIChannelOff4:xi,OBCIChannelOff5:Ii,OBCIChannelOff6:Pi,OBCIChannelOff7:Bi,OBCIChannelOff8:Ai,OBCIChannelOff9:Ei,OBCIChannelOff10:Ni,OBCIChannelOff11:ji,OBCIChannelOff12:ki,OBCIChannelOff13:Di,OBCIChannelOff14:Ti,OBCIChannelOff15:Mi,OBCIChannelOff16:Fi,commandChannelOff:function(t){return new Promise(function(e,s){switch(t){case 1:e(Si);break;case 2:e(wi);break;case 3:e(Ci);break;case 4:e(xi);break;case 5:e(Ii);break;case 6:e(Pi);break;case 7:e(Bi);break;case 8:e(Ai);break;case 9:e(Ei);break;case 10:e(Ni);break;case 11:e(ji);break;case 12:e(ki);break;case 13:e(Di);break;case 14:e(Ti);break;case 15:e(Mi);break;case 16:e(Fi);break;default:s(Error("Error [commandChannelOff]: Invalid Channel Number"));break}})},OBCIChannelOn1:Ri,OBCIChannelOn2:Ui,OBCIChannelOn3:Li,OBCIChannelOn4:Vi,OBCIChannelOn5:Ji,OBCIChannelOn6:Gi,OBCIChannelOn7:zi,OBCIChannelOn8:qi,OBCIChannelOn9:Wi,OBCIChannelOn10:Hi,OBCIChannelOn11:Yi,OBCIChannelOn12:Qi,OBCIChannelOn13:$i,OBCIChannelOn14:Ki,OBCIChannelOn15:Zi,OBCIChannelOn16:Xi,commandChannelOn:function(t){return new Promise(function(e,s){switch(t){case 1:e(Ri);break;case 2:e(Ui);break;case 3:e(Li);break;case 4:e(Vi);break;case 5:e(Ji);break;case 6:e(Gi);break;case 7:e(zi);break;case 8:e(qi);break;case 9:e(Wi);break;case 10:e(Hi);break;case 11:e(Yi);break;case 12:e(Qi);break;case 13:e($i);break;case 14:e(Ki);break;case 15:e(Zi);break;case 16:e(Xi);break;default:s(Error("Error [commandChannelOn]: Invalid Channel Number"));break}})},OBCITestSignalConnectToDC:to,OBCITestSignalConnectToGround:eo,OBCITestSignalConnectToPulse1xFast:ro,OBCITestSignalConnectToPulse1xSlow:no,OBCITestSignalConnectToPulse2xFast:io,OBCITestSignalConnectToPulse2xSlow:oo,getTestSignalCommand:t=>new Promise((e,s)=>{switch(t){case"dc":e(to);break;case"ground":e(eo);break;case"pulse1xFast":e(ro);break;case"pulse1xSlow":e(no);break;case"pulse2xFast":e(io);break;case"pulse2xSlow":e(oo);break;case"none":e(so);break;default:s(Error("Invalid selection! Check your spelling."));break}}),OBCIChannelCmdADCNormal:Kr,OBCIChannelCmdADCShorted:Zr,OBCIChannelCmdADCBiasDRP:Xr,OBCIChannelCmdADCBiasDRN:tn,OBCIChannelCmdADCBiasMethod:en,OBCIChannelCmdADCMVDD:rn,OBCIChannelCmdADCTemp:nn,OBCIChannelCmdADCTestSig:on,OBCIChannelCmdBiasInclude:Xo,OBCIChannelCmdBiasRemove:ts,OBCIChannelCmdChannel1:es,OBCIChannelCmdChannel2:rs,OBCIChannelCmdChannel3:ns,OBCIChannelCmdChannel4:is,OBCIChannelCmdChannel5:os,OBCIChannelCmdChannel6:ss,OBCIChannelCmdChannel7:as,OBCIChannelCmdChannel8:cs,OBCIChannelCmdChannel9:us,OBCIChannelCmdChannel10:ls,OBCIChannelCmdChannel11:fs,OBCIChannelCmdChannel12:ps,OBCIChannelCmdChannel13:hs,OBCIChannelCmdChannel14:ds,OBCIChannelCmdChannel15:bs,OBCIChannelCmdChannel16:ys,commandChannelForCmd:Cn,OBCIChannelCmdGain1:sn,OBCIChannelCmdGain2:an,OBCIChannelCmdGain4:cn,OBCIChannelCmdGain6:un,OBCIChannelCmdGain8:ln,OBCIChannelCmdGain12:fn,OBCIChannelCmdGain24:pn,commandForGain:ra,gainForCommand:Xd,OBCIChannelCmdLatch:vs,OBCIChannelCmdPowerOff:ms,OBCIChannelCmdPowerOn:_s,OBCIChannelCmdSet:Os,OBCIChannelCmdSRB1Connect:gs,OBCIChannelCmdSRB1Diconnect:Ss,OBCIChannelCmdSRB2Connect:ws,OBCIChannelCmdSRB2Diconnect:Cs,channelSettingsObjectDefault:Ro,channelSettingsArrayInit:t=>{for(var e=[],s=0;s<t;s++)e.push(Ro(s));return e},OBCIStringADCNormal:Le,OBCIStringADCShorted:hn,OBCIStringADCBiasMethod:dn,OBCIStringADCMvdd:bn,OBCIStringADCTemp:yn,OBCIStringADCTestSig:vn,OBCIStringADCBiasDrp:mn,OBCIStringADCBiasDrn:_n,commandForADCString:ea,inputTypeForCommand:Zd,OBCIChannelDefaultAllSet:so,OBCIChannelDefaultAllGet:Ip,OBCIChannelImpedanceLatch:xs,OBCIChannelImpedanceSet:Is,OBCIChannelImpedanceTestSignalApplied:Fr,OBCIChannelImpedanceTestSignalAppliedNot:Rr,OBCISDLogForHour1:ao,OBCISDLogForHour2:co,OBCISDLogForHour4:uo,OBCISDLogForHour12:lo,OBCISDLogForHour24:fo,OBCISDLogForMin5:po,OBCISDLogForMin15:ho,OBCISDLogForMin30:bo,OBCISDLogForSec14:yo,OBCISDLogStop:Pp,OBCIStringSDHour1:vo,OBCIStringSDHour2:mo,OBCIStringSDHour4:_o,OBCIStringSDHour12:Oo,OBCIStringSDHour24:go,OBCIStringSDMin5:So,OBCIStringSDMin15:wo,OBCIStringSDMin30:Co,OBCIStringSDSec14:xo,sdSettingForString:t=>new Promise((e,s)=>{switch(t){case vo:e(ao);break;case mo:e(co);break;case _o:e(uo);break;case Oo:e(lo);break;case go:e(fo);break;case So:e(po);break;case wo:e(ho);break;case Co:e(bo);break;case xo:e(yo);break;default:s(Error(TypeError));break}}),OBCIStreamStart:Bp,OBCIStreamStop:Ap,OBCIAccelStart:Wp,OBCIAccelStop:Hp,OBCIMiscQueryRegisterSettings:Ep,OBCIMiscQueryRegisterSettingsChannel1:Io,OBCIMiscQueryRegisterSettingsChannel2:Po,OBCIMiscQueryRegisterSettingsChannel3:Bo,OBCIMiscQueryRegisterSettingsChannel4:Ao,OBCIMiscQueryRegisterSettingsChannel5:Eo,OBCIMiscQueryRegisterSettingsChannel6:No,OBCIMiscQueryRegisterSettingsChannel7:jo,OBCIMiscQueryRegisterSettingsChannel8:ko,channelSettingsKeyForChannel:t=>new Promise((e,s)=>{switch(t){case 1:e(new Buffer(Io));break;case 2:e(new Buffer(Po));break;case 3:e(new Buffer(Bo));break;case 4:e(new Buffer(Ao));break;case 5:e(new Buffer(Eo));break;case 6:e(new Buffer(No));break;case 7:e(new Buffer(jo));break;case 8:e(new Buffer(ko));break;default:s(Error("Invalid channel number"));break}}),OBCIMiscSoftReset:Np,OBCIChannelMaxNumber8:jp,OBCIChannelMaxNumber16:kp,OBCIChannelMaxNumber8NoDaisyToRemove:Dp,OBCIChannelMaxNumber8SuccessDaisyRemoved:Tp,OBCIChannelMaxNumber16DaisyAlreadyAttached:Mp,OBCIChannelMaxNumber16DaisyAttached:Fp,OBCIChannelMaxNumber16NoDaisyAttached:Rp,OBCIFilterDisable:Up,OBCIFilterEnable:Lp,OBCITrigger:Vp,OBCINumberOfChannelsCyton:8,OBCINumberOfChannelsCytonBLE:2,OBCINumberOfChannelsDaisy:16,OBCINumberOfChannelsDefault:8,OBCINumberOfChannelsGanglion:4,OBCIBoardCyton:se,OBCIBoardCytonBLE:Ar,OBCIBoardDaisy:ke,OBCIBoardDefault:Zp,OBCIBoardGanglion:ae,OBCIBoardNone:Er,numberOfChannelsForBoardType:t=>{switch(t){case ke:return 16;case ae:return 4;case Er:return 0;case Ar:return 2;case se:default:return 8}},boardTypeForNumberOfChannels:t=>{switch(t){case 16:return ke;case 4:return ae;case 0:return Er;case 2:return Ar;case 8:default:return se}},OBCISampleRate1000:1e3,OBCISampleRate125:125,OBCISampleRate12800:12800,OBCISampleRate1600:1600,OBCISampleRate16000:16e3,OBCISampleRate200:200,OBCISampleRate2000:2e3,OBCISampleRate250:250,OBCISampleRate25600:25600,OBCISampleRate3200:3200,OBCISampleRate400:400,OBCISampleRate4000:4e3,OBCISampleRate500:500,OBCISampleRate6400:6400,OBCISampleRate800:800,OBCISampleRate8000:8e3,OBCISampleNumberMax:255,OBCIPacketSize:33,OBCIPacketSizeBLECyton:20,OBCIPacketSizeBLERaw:12,OBCIByteStart:160,OBCIByteStop:192,OBCIErrorInvalidByteLength:sh,OBCIErrorInvalidByteStart:ah,OBCIErrorInvalidByteStop:ch,OBCIErrorInvalidData:uh,OBCIErrorInvalidType:lh,OBCIErrorMissingRegisterSetting:fh,OBCIErrorMissingRequiredProperty:ph,OBCIErrorNobleAlreadyScanning:hh,OBCIErrorNobleNotAlreadyScanning:dh,OBCIErrorNobleNotInPoweredOnState:bh,OBCIErrorTimeSyncIsNull:yh,OBCIErrorTimeSyncNoComma:vh,OBCIErrorUndefinedOrNullInput:mh,OBCIMasterBufferSize:4096,OBCILeadOffDriveInAmps:6e-9,OBCILeadOffFrequencyHz:31.5,getChannelSetter:Wd,getImpedanceSetter:Hd,getSampleRateSetter:Yd,getBoardModeSetter:Qd,OBCIWriteIntervalDelayMSLong:50,OBCIWriteIntervalDelayMSNone:0,OBCIWriteIntervalDelayMSShort:10,OBCISyncTimeSent:Gp,OBCISyncTimeSet:Jp,OBCIRadioKey:240,OBCIRadioCmdChannelGet:0,OBCIRadioCmdChannelSet:1,OBCIRadioCmdChannelSetOverride:2,OBCIRadioCmdPollTimeGet:3,OBCIRadioCmdPollTimeSet:4,OBCIRadioCmdBaudRateSetDefault:5,OBCIRadioCmdBaudRateSetFast:6,OBCIRadioCmdSystemStatus:7,OBCIImpedanceTextBad:Do,OBCIImpedanceTextGood:Mo,OBCIImpedanceTextInit:_h,OBCIImpedanceTextOk:Fo,OBCIImpedanceTextNone:To,OBCIImpedanceThresholdBadMax:1e6,OBCIImpedanceSeriesResistor:2200,getTextForRawImpedance:t=>t>0&&t<5e3?Mo:t>5001&&t<1e4?Fo:t>10001&&t<1e6?Do:To,OBCISimulatorPortName:Oh,OBCIStreamPacketStandardAccel:0,OBCIStreamPacketStandardRawAux:1,OBCIStreamPacketUserDefinedType:2,OBCIStreamPacketAccelTimeSyncSet:3,OBCIStreamPacketAccelTimeSynced:4,OBCIStreamPacketRawAuxTimeSyncSet:5,OBCIStreamPacketRawAuxTimeSynced:6,OBCIStreamPacketImpedance:7,isNumber:fe,isBoolean:Dt,isString:Ve,isUndefined:$d,isNull:Kd,OBCIPacketPositionStartByte:0,OBCIPacketPositionStopByte:32,OBCIPacketPositionStartAux:26,OBCIPacketPositionStopAux:31,OBCIPacketPositionChannelDataStart:2,OBCIPacketPositionChannelDataStop:25,OBCIPacketPositionSampleNumber:1,OBCIPacketPositionTimeSyncAuxStart:26,OBCIPacketPositionTimeSyncAuxStop:28,OBCIPacketPositionTimeSyncTimeStart:28,OBCIPacketPositionTimeSyncTimeStop:32,OBCISimulatorLineNoiseHz60:Xp,OBCISimulatorLineNoiseHz50:th,OBCISimulatorLineNoiseNone:eh,OBCISimulatorFragmentationRandom:rh,OBCISimulatorFragmentationFullBuffers:nh,OBCISimulatorFragmentationOneByOne:ih,OBCISimulatorFragmentationNone:oh,OBCIFirmwareV1:gh,OBCIFirmwareV2:Sh,OBCIFirmwareV3:wh,OBCIAccelAxisX:7,OBCIAccelAxisY:8,OBCIAccelAxisZ:9,OBCIStreamPacketTimeByteSize:4,OBCIParseDaisy:Ch,OBCIParseFailure:Ih,OBCIParseFirmware:xh,OBCIParseEOT:Ph,OBCIParseSuccess:Bh,OBCIParsingChannelSettings:2,OBCIParsingEOT:4,OBCIParsingNormal:3,OBCIParsingReset:0,OBCIParsingTimeSyncSent:1,OBCITimeoutProcessBytes:500,OBCISimulatorRawAux:Ah,OBCISimulatorStandard:Eh,OBCIRadioChannelMax:25,OBCIRadioChannelMin:1,OBCIRadioPollTimeMax:255,OBCIRadioPollTimeMin:0,OBCITimeSyncArraySize:10,OBCITimeSyncMultiplierWithSyncConf:.9,OBCITimeSyncMultiplierWithoutSyncConf:.75,OBCITimeSyncThresholdTransFailureMS:10,OBCIBoardModeSet:Ps,OBCIBoardModeCmdDefault:Bs,OBCIBoardModeCmdDebug:As,OBCIBoardModeCmdAnalog:Es,OBCIBoardModeCmdDigital:Ns,OBCIBoardModeCmdGetCur:zp,OBCIBoardModeAnalog:js,OBCIBoardModeDefault:ks,OBCIBoardModeDebug:Ds,OBCIBoardModeDigital:Ts,OBCISampleRateSet:Ms,OBCISampleRateCmdCyton16000:Fs,OBCISampleRateCmdCyton8000:Rs,OBCISampleRateCmdCyton4000:Us,OBCISampleRateCmdCyton2000:Ls,OBCISampleRateCmdCyton1000:Vs,OBCISampleRateCmdCyton500:Js,OBCISampleRateCmdCyton250:Gs,OBCISampleRateCmdGang25600:zs,OBCISampleRateCmdGang12800:qs,OBCISampleRateCmdGang6400:Ws,OBCISampleRateCmdGang3200:Hs,OBCISampleRateCmdGang1600:Ys,OBCISampleRateCmdGang800:Qs,OBCISampleRateCmdGang400:$s,OBCISampleRateCmdGang200:Ks,OBCISampleRateCmdGetCur:qp,OBCIWifiAttach:Yp,OBCIWifiRemove:Qp,OBCIWifiReset:$p,OBCIWifiStatus:Kp,OBCIRadioBaudRateDefault:115200,OBCIRadioBaudRateDefaultStr:Nh,OBCIRadioBaudRateFast:230400,OBCIRadioBaudRateFastStr:jh,OBCIEmitterAccelerometer:kh,OBCIEmitterBlePoweredUp:Dh,OBCIEmitterClose:Th,OBCIEmitterDroppedPacket:Mh,OBCIEmitterEot:Fh,OBCIEmitterError:Rh,OBCIEmitterGanglionFound:Uh,OBCIEmitterHardSet:Lh,OBCIEmitterImpedance:Vh,OBCIEmitterImpedanceArray:Jh,OBCIEmitterMessage:Gh,OBCIEmitterQuery:zh,OBCIEmitterRawDataPacket:qh,OBCIEmitterReady:Wh,OBCIEmitterRFduino:Hh,OBCIEmitterSample:Yh,OBCIEmitterScanStopped:Qh,OBCIEmitterSynced:$h,OBCIEmitterWifiShield:Kh,OBCIGanglionAccelAxisX:1,OBCIGanglionAccelAxisY:2,OBCIGanglionAccelAxisZ:3,OBCIGanglionBleSearchTime:2e4,OBCIGanglionByteIdUncompressed:0,OBCIGanglionByteId18Bit:Zh,OBCIGanglionByteId19Bit:Xh,OBCIGanglionByteIdImpedanceChannel1:td,OBCIGanglionByteIdImpedanceChannel2:ed,OBCIGanglionByteIdImpedanceChannel3:rd,OBCIGanglionByteIdImpedanceChannel4:nd,OBCIGanglionByteIdImpedanceChannelReference:id,OBCIGanglionByteIdMultiPacket:od,OBCIGanglionByteIdMultiPacketStop:sd,OBCIGanglionMCP3912Gain:Zs,OBCIGanglionMCP3912Vref:Xs,OBCIGanglionPacketSize:ad,OBCIGanglionPacket18Bit:ud,OBCIGanglionPacket19Bit:ld,OBCIGanglionPrefix:On,OBCIGanglionSamplesPerPacket:cd,OBCIGanglionSyntheticDataEnable:fd,OBCIGanglionSyntheticDataDisable:pd,OBCIGanglionImpedanceStart:hd,OBCIGanglionImpedanceStop:dd,OBCIGanglionScaleFactorPerCountVolts:bd,SimbleeUuidService:yd,SimbleeUuidReceive:vd,SimbleeUuidSend:md,SimbleeUuidDisconnect:_d,RFduinoUuidService:Od,RFduinoUuidReceive:gd,RFduinoUuidSend:Sd,RFduinoUuidSendTwo:wd,OBCICytonBLESamplesPerPacket:Cd,OBCIGanglionAccelScaleFactor:.016,OBCINobleEmitterPeripheralConnect:xd,OBCINobleEmitterPeripheralDisconnect:Id,OBCINobleEmitterPeripheralDiscover:Pd,OBCINobleEmitterPeripheralServicesDiscover:Bd,OBCINobleEmitterServiceCharacteristicsDiscover:Ad,OBCINobleEmitterServiceRead:Ed,OBCINobleEmitterDiscover:Nd,OBCINobleEmitterScanStart:jd,OBCINobleEmitterScanStop:kd,OBCINobleEmitterStateChange:Dd,OBCINobleStatePoweredOn:Td,getPeripheralLocalNames:rb,getPeripheralWithLocalName:nb,getVersionNumber:ib,isPeripheralGanglion:ob,commandSampleRateForCmdCyton:na,commandSampleRateForCmdGanglion:ia,commandBoardModeForMode:oa,rawDataToSampleObjectDefault:tb,OBCIProtocolBLE:Md,OBCIProtocolSerial:Fd,OBCIProtocolWifi:Rd,OBCIRegisterQueryAccelerometerFirmwareV1:gn,OBCIRegisterQueryAccelerometerFirmwareV3:Sn,OBCIRegisterQueryCyton:he,OBCIRegisterQueryCytonDaisy:wn,OBCIRegisterQueryNameMISC1:Ud,OBCIRegisterQueryNameBIASSENSP:Ld,OBCIRegisterQueryNameCHnSET:Vd,OBCIRegisterQuerySizeCytonFirmwareV1:Jd,OBCIRegisterQuerySizeCytonDaisyFirmwareV1:Gd,OBCIRegisterQuerySizeCytonFirmwareV3:zd,OBCIRegisterQuerySizeCytonDaisyFirmwareV3:qd};function Wd(t,e,s,u,l,p,a){var i,r,n,o;return new Promise(function(c,f){fe(t)||f(Error("channelNumber must be of type 'number' ")),Dt(e)||f(Error("powerDown must be of type 'boolean' ")),fe(s)||f(Error("gain must be of type 'number' ")),Ve(u)||f(Error("inputType must be of type 'string' ")),Dt(l)||f(Error("bias must be of type 'boolean' ")),Dt(p)||f(Error("srb1 must be of type 'boolean' ")),Dt(a)||f(Error("srb2 must be of type 'boolean' "));var h=Cn(t).catch(m=>f(m));i=e?ms:_s;var d=ra(s).catch(m=>f(m)),b=ea(u).catch(m=>f(m));r=l?Xo:ts,n=p?ws:Cs,o=a?gs:Ss;var y={channelNumber:t,powerDown:e,gain:s,inputType:u,bias:l,srb2:p,srb1:a};Promise.all([h,d,b]).then(function(m){var O=[Os,m[0],i,m[1],m[2],r,n,o,vs];c({commandArray:O,newChannelSettingsObject:y})})})}function Hd(t,e,s){var u,l;return new Promise((p,a)=>{fe(t)||a(Error("channelNumber must be of type 'number' ")),Dt(e)||a(Error("pInputApplied must be of type 'boolean' ")),Dt(s)||a(Error("nInputApplied must be of type 'boolean' ")),l=e?Fr:Rr,u=s?Fr:Rr,Cn(t).then(i=>{var r=[Is,i,l,u,xs];p(r)}).catch(i=>a(i))})}function Yd(t,e){return new Promise((s,u)=>{if(!Ve(t))return u(Error("board type must be of type 'string' "));if(!fe(e))return u(Error("sampleRate must be of type 'number' "));e=Math.floor(e);let l;if(t===se||t===ke)l=na;else if(t===ae)l=ia;else return u(Error(`boardType must be either ${se} or ${ae}`));l(e).then(p=>{var a=[Ms,p];s(a)}).catch(p=>u(p))})}function Qd(t){return new Promise((e,s)=>{if(!Ve(t))return s(Error("board mode must be of type 'string' "));oa(t).then(u=>{var l=[Ps,u];e(l)}).catch(u=>s(u))})}function fe(t){return typeof t=="number"}function Dt(t){return typeof t=="boolean"}function Ve(t){return typeof t=="string"}function $d(t){return typeof t>"u"}function Kd(t){return t===null}function ea(t){return new Promise(function(e,s){switch(t){case Le:e(Kr);break;case hn:e(Zr);break;case dn:e(en);break;case bn:e(rn);break;case yn:e(nn);break;case vn:e(on);break;case mn:e(Xr);break;case _n:e(tn);break;default:s(Error("Invalid ADC string"));break}})}function Zd(t){switch(String(t)){case Kr:return Le;case Zr:return hn;case en:return dn;case rn:return bn;case nn:return yn;case on:return vn;case Xr:return mn;case tn:return _n;default:throw new Error("Invalid input type, must be less than 8")}}function ra(t){return new Promise(function(e,s){switch(t){case 1:e(sn);break;case 2:e(an);break;case 4:e(cn);break;case 6:e(un);break;case 8:e(ln);break;case 12:e(fn);break;case 24:e(pn);break;default:s(Error("Invalid gain setting of "+t+" gain must be (1,2,4,6,8,12,24)"));break}})}function Xd(t){switch(String(t)){case sn:return 1;case an:return 2;case cn:return 4;case un:return 6;case ln:return 8;case fn:return 12;case pn:return 24;default:throw new Error(`Invalid gain setting of ${t} gain must be (0,1,2,3,4,5,6)`)}}function Cn(t){return new Promise(function(e,s){switch(t){case 1:e(es);break;case 2:e(rs);break;case 3:e(ns);break;case 4:e(is);break;case 5:e(os);break;case 6:e(ss);break;case 7:e(as);break;case 8:e(cs);break;case 9:e(us);break;case 10:e(ls);break;case 11:e(fs);break;case 12:e(ps);break;case 13:e(hs);break;case 14:e(ds);break;case 15:e(bs);break;case 16:e(ys);break;default:s(Error("Invalid channel number"));break}})}function Ro(t){return{channelNumber:t,powerDown:!1,gain:24,inputType:Le,bias:!0,srb2:!0,srb1:!1}}function tb(t){return t===void 0&&(t=8),{accelArray:[0,0,0],channelSettings:ta.channelSettingsArrayInit(t),decompressedSamples:eb(t),lastSampleNumber:0,rawDataPacket:Buffer.alloc(33),rawDataPackets:[],scale:!0,sendCounts:!1,timeOffset:0,verbose:!1}}function eb(t){let e=[];for(let s=0;s<3;s++)e.push(new Array(t));return e}function na(t){return new Promise(function(e,s){switch(t){case 16e3:e(Fs);break;case 8e3:e(Rs);break;case 4e3:e(Us);break;case 2e3:e(Ls);break;case 1e3:e(Vs);break;case 500:e(Js);break;case 250:e(Gs);break;default:s(Error("Invalid sample rate"));break}})}function ia(t){return new Promise(function(e,s){switch(t){case 25600:e(zs);break;case 12800:e(qs);break;case 6400:e(Ws);break;case 3200:e(Hs);break;case 1600:e(Ys);break;case 800:e(Qs);break;case 400:e($s);break;case 200:e(Ks);break;default:s(Error("Invalid sample rate"));break}})}function oa(t){return new Promise(function(e,s){switch(t){case ks:e(Bs);break;case Ds:e(As);break;case js:e(Es);break;case Ts:e(Ns);break;default:s(Error("Invalid sample rate"));break}})}function rb(t){return new Promise((e,s)=>{var u=[];return t.forEach(l=>{u.push(l.advertisement.localName)}),u.length>0?e(u):s(Error(`No peripherals discovered with prefix equal to ${On}`))})}function nb(t,e){return new Promise((s,u)=>typeof t!="object"?u(Error("pArray must be of type Object")):(t.forEach(l=>{if(l.advertisement.hasOwnProperty("localName")&&l.advertisement.localName===e)return s(l)}),u(Error(`No peripheral found with localName: ${e}`))))}function ib(t){return Number(t[1])}function ob(t){return!!(t&&t.hasOwnProperty("advertisement")&&t.advertisement!==null&&t.advertisement.hasOwnProperty("localName")&&t.advertisement.localName!==void 0&&t.advertisement.localName!==null&&t.advertisement.localName.indexOf(On)>-1)}var v=ta,jt=4.5,Vt=.002/Math.pow(2,4),sa=3,at={extractRawDataPackets:t=>{if(!t)return{buffer:t,rawDataPackets:[]};let e=t.length,s=[];if(e<v.OBCIPacketSize)return{buffer:t,rawDataPackets:s};let u=0;for(;u<=e-v.OBCIPacketSize;){if(t[u]===v.OBCIByteStart&&ue(t[u+v.OBCIPacketSize-1])){let l;l=Uint8Array.from(t.slice(u,u+v.OBCIPacketSize)),s.push(l);let p;u>0?p=Uint8Array.concat([Uint8Array.from(t.slice(0,u)),Uint8Array.from(t.slice(u+v.OBCIPacketSize))]):p=Uint8Array.from(t.slice(v.OBCIPacketSize)),p.length===0?t=null:t=Uint8Array.from(p),u=-1,e-=v.OBCIPacketSize}u++}return{buffer:t,rawDataPackets:s}},extractRawBLEDataPackets:t=>{let e=[];if(v.isNull(t)||t.byteLength!==v.OBCIPacketSizeBLECyton)return e;let s=[0,0,0];s[0]=t[1],s[1]=s[0]+1,s[1]>255&&(s[1]-=256),s[2]=s[1]+1,s[2]>255&&(s[2]-=256);for(let u=0;u<v.OBCICytonBLESamplesPerPacket;u++){let l=at.samplePacketZero(s[u]);l[0]=v.OBCIByteStart,l[v.OBCIPacketPositionStopByte]=t[0],t.copy(l,v.OBCIPacketPositionChannelDataStart,v.OBCIPacketPositionChannelDataStart+u*6,v.OBCIPacketPositionChannelDataStart+6+u*6),e.push(l)}return e},transformRawDataPacketToSample:fa,transformRawDataPacketsToSample:fb,convertGanglionArrayToBuffer:pb,getRawPacketType:ba,getFromTimePacketAccel:pa,getFromTimePacketTime:In,getFromTimePacketRawAux:Pn,ganglionFillRawDataPacket:hb,parsePacketStandardAccel:db,parsePacketStandardRawAux:bb,parsePacketTimeSyncedAccel:yb,parsePacketTimeSyncedRawAux:vb,parsePacketImpedance:mb,convertSampleToPacketStandard:t=>{let e=new Uint8Array(v.OBCIPacketSize);e.fill(0),e[0]=v.OBCIByteStart,e[1]=t.sampleNumber;for(let s=0;s<v.OBCINumberOfChannelsDefault;s++)ce(t.channelData[s]).copy(e,2+s*3);for(let s=0;s<3;s++)Vo(t.auxData[s]).copy(e,v.OBCIPacketSize-1-6+s*2);return e[v.OBCIPacketSize-1]=v.OBCIByteStop,e},convertSampleToPacketRawAux:(t,e)=>{let s=new Uint8Array(v.OBCIPacketSize);s.fill(0),s[0]=v.OBCIByteStart,s[1]=t.sampleNumber;for(let u=0;u<v.OBCINumberOfChannelsDefault;u++)ce(t.channelData[u]).copy(s,2+u*3);return e.copy(s,26),s[v.OBCIPacketSize-1]=$(v.OBCIStreamPacketStandardRawAux),s},convertSampleToPacketAccelTimeSyncSet:(t,e)=>{let s=Go(t,e);return s[v.OBCIPacketPositionStopByte]=$(v.OBCIStreamPacketAccelTimeSyncSet),s},convertSampleToPacketAccelTimeSynced:Go,convertSampleToPacketRawAuxTimeSyncSet:(t,e,s)=>{let u=Jo(t,e,s);return u[v.OBCIPacketPositionStopByte]=$(v.OBCIStreamPacketRawAuxTimeSyncSet),u},convertSampleToPacketRawAuxTimeSynced:Jo,debugPrettyPrint:t=>{if(t==null)console.log("== Sample is undefined ==");else{console.log("-- Sample --"),console.log("---- Start Byte: "+t.startByte),console.log("---- Sample Number: "+t.sampleNumber);for(let e=0;e<8;e++)console.log("---- Channel Data "+(e+1)+": "+t.channelData[e]);if(t.accelData)for(let e=0;e<3;e++)console.log("---- Accel Data "+e+": "+t.accelData[e]);t.auxData&&console.log("---- Aux Data "+t.auxData),console.log("---- Stop Byte: "+t.stopByte)}},samplePrintHeader:()=>`All voltages in Volts!sampleNumber, channel1, channel2, channel3, channel4, channel5, channel6, channel7, channel8, aux1, aux2, aux3
`,samplePrintLine:t=>new Promise((e,s)=>{t==null&&s(Error("undefined sample")),e(t.sampleNumber+","+t.channelData[0].toFixed(8)+","+t.channelData[1].toFixed(8)+","+t.channelData[2].toFixed(8)+","+t.channelData[3].toFixed(8)+","+t.channelData[4].toFixed(8)+","+t.channelData[5].toFixed(8)+","+t.channelData[6].toFixed(8)+","+t.channelData[7].toFixed(8)+","+t.auxData[0].toFixed(8)+","+t.auxData[1].toFixed(8)+","+t.auxData[2].toFixed(8)+`
`)}),floatTo3ByteBuffer:ce,floatTo2ByteBuffer:Vo,impedanceCalculationForChannel:(t,e)=>{let s=Math.sqrt(2);return new Promise((u,l)=>{t==null&&l(Error("Sample Object cannot be null or undefined")),(t.channelData===void 0||t.channelData===null)&&l(Error("Channel cannot be null or undefined")),(e<1||e>v.OBCINumberOfChannelsDefault)&&l(Error("Channel number invalid."));let p=e-1;t.channelData[p]<0&&(t.channelData[p]*=-1);let a=s*t.channelData[p]/v.OBCILeadOffDriveInAmps;u(a)})},impedanceCalculationForAllChannels:t=>{let e=Math.sqrt(2);return new Promise((s,u)=>{t==null&&u(Error("Sample Object cannot be null or undefined")),(t.channelData===void 0||t.channelData===null)&&u(Error("Channel cannot be null or undefined"));let l=[],p=t.channelData.length;for(let a=0;a<p;a++){t.channelData[a]<0&&(t.channelData[a]*=-1);let i=e*t.channelData[a]/v.OBCILeadOffDriveInAmps;l.push(i)}t.impedances=l,s(t)})},interpret16bitAsInt32:t=>{let e=0;return t[0]>127&&(e=65535),e<<16|t[0]<<8|t[1]},interpret24bitAsInt32:t=>{let e=0;return t[0]>127&&(e=255),e<<24|t[0]<<16|t[1]<<8|t[2]},impedanceArray:t=>{let e=[];for(let s=0;s<t;s++)e.push(Lo(s+1));return e},impedanceObject:Lo,impedanceSummarize:t=>{t.raw>v.OBCIImpedanceThresholdBadMax?t.text=v.OBCIImpedanceTextNone:t.text=v.getTextForRawImpedance(t.raw)},newSample:ya,newSampleNoScale:va,scaleFactorAux:Vt,impedanceCalculateArray:(t,e)=>{if(e.buffer.push(t.channelData),e.count++,e.count>=e.window){let s=[];for(let u=0;u<t.channelData.length;u++){let l=0;for(let i=0;i<e.window;i++)e.buffer[u][i]>l&&(l=e.buffer[u][i]);let p=0;for(let i=0;i<e.window;i++)e.buffer[u][i]<p&&(p=e.buffer[u][i]);let a=l-p;s.push(a/2/v.OBCILeadOffDriveInAmps)}return e.count=0,s}return null},impedanceTestObjDefault:t=>{let e=t||{};return e.active=!1,e.buffer=[],e.count=0,e.isTestingPInput=!1,e.isTestingNInput=!1,e.onChannel=0,e.sampleNumber=0,e.continuousMode=!1,e.impedanceForChannel=0,e.window=40,e},samplePacket:t=>new Uint8Array([160,yt(t),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,0,0,1,0,2,$(v.OBCIStreamPacketStandardAccel)]),samplePacketZero:t=>new Uint8Array([160,yt(t),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,$(v.OBCIStreamPacketStandardAccel)]),samplePacketReal:t=>new Uint8Array([160,yt(t),143,242,64,143,223,244,144,43,182,143,191,191,127,255,255,127,255,255,148,37,52,32,182,125,0,224,0,224,15,112,$(v.OBCIStreamPacketStandardAccel)]),samplePacketStandardRawAux:t=>new Uint8Array([160,yt(t),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,2,3,4,5,$(v.OBCIStreamPacketStandardRawAux)]),samplePacketAccelTimeSyncSet:t=>new Uint8Array([160,yt(t),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,$(v.OBCIStreamPacketAccelTimeSyncSet)]),samplePacketAccelTimeSynced:t=>new Uint8Array([160,yt(t),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,$(v.OBCIStreamPacketAccelTimeSynced)]),samplePacketRawAuxTimeSyncSet:t=>new Uint8Array([160,yt(t),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,$(v.OBCIStreamPacketRawAuxTimeSyncSet)]),samplePacketRawAuxTimeSynced:t=>new Uint8Array([160,yt(t),0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,7,0,0,8,0,1,0,0,0,1,$(v.OBCIStreamPacketRawAuxTimeSynced)]),samplePacketImpedance:t=>new Uint8Array([160,t,54,52,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,$(v.OBCIStreamPacketImpedance)]),samplePacketUserDefined:()=>new Uint8Array([160,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,$(v.OBCIStreamPacketUserDefinedType)]),samplePacketCytonBLE:t=>new Uint8Array([192,yt(t),0,0,1,0,0,2,0,0,10,0,0,20,0,0,100,0,0,200]),getBiasSetFromADSRegisterQuery:Lr,getBooleanFromRegisterQuery:pe,getChannelDataArray:de,getChannelDataArrayNoScale:be,getDataArrayAccel:ha,getDataArrayAccelNoScale:da,getFirmware:wb,getSRB1FromADSRegisterQuery:Ur,getNumFromThreeCSVADSRegisterQuery:Vr,isEven:ma,isOdd:Sb,isStopByte:ue,isTimeSyncSetConfirmationInBuffer:xb,makeDaisySampleObject:Ob,makeDaisySampleObjectWifi:gb,makeTailByteFromPacketType:$,newSyncObject:lb,setChSetFromADSRegisterQuery:Jr,stripToEOTBuffer:Cb,syncChannelSettingsWithRawData:_b,droppedPacketCheck:(t,e)=>{if(t===v.OBCISampleNumberMax&&e===0||e-t===1)return null;let s=[];if(t>e){let u=v.OBCISampleNumberMax-t;for(let l=0;l<u;l++)s.push(t+l+1);t=-1}for(let u=1;u<e-t;u++)s.push(t+u);return s},convert18bitAsInt32:vt,convert19bitAsInt32:mt,decompressDeltas18Bit:ua,decompressDeltas19Bit:la,sampleCompressedData:t=>new Uint8Array([t,0,0,0,0,8,0,5,0,0,72,0,9,240,1,176,0,48,0,8]),sampleBLERaw:()=>new Uint8Array([0,0,1,0,0,2,0,0,3,0,0,4]),sampleImpedanceChannel1:()=>new Uint8Array([v.OBCIGanglionByteIdImpedanceChannel1,0,0,1]),sampleImpedanceChannel2:()=>new Uint8Array([v.OBCIGanglionByteIdImpedanceChannel2,0,0,1]),sampleImpedanceChannel3:()=>new Uint8Array([v.OBCIGanglionByteIdImpedanceChannel3,0,0,1]),sampleImpedanceChannel4:()=>new Uint8Array([v.OBCIGanglionByteIdImpedanceChannel4,0,0,1]),sampleImpedanceChannelReference:()=>new Uint8Array([v.OBCIGanglionByteIdImpedanceChannelReference,0,0,1]),sampleMultiBytePacket:t=>{let e=new Uint8Array([v.OBCIGanglionByteIdMultiPacket]);return Uint8Array.concat([e,t])},sampleMultiBytePacketStop:t=>{let e=new Uint8Array([v.OBCIGanglionByteIdMultiPacketStop]);return Uint8Array.concat([e,t])},sampleOtherData:t=>{let e=new Uint8Array([255]);return Uint8Array.concat([e,t])},sampleUncompressedData:()=>new Uint8Array([0,0,0,1,0,0,2,0,0,3,0,0,4,1,2,3,4,5,6,7]),parseGanglion:sb,processMultiBytePacket:xn,processMultiBytePacketStop:aa};function sb(t){let e=parseInt(t.rawDataPacket[0]);if(e<=v.OBCIGanglionByteId19Bit.max)return ca(t);switch(e){case v.OBCIGanglionByteIdMultiPacket:return xn(t);case v.OBCIGanglionByteIdMultiPacketStop:return aa(t);case v.OBCIGanglionByteIdImpedanceChannel1:case v.OBCIGanglionByteIdImpedanceChannel2:case v.OBCIGanglionByteIdImpedanceChannel3:case v.OBCIGanglionByteIdImpedanceChannel4:case v.OBCIGanglionByteIdImpedanceChannelReference:return cb(t);default:return null}}function ab(t){t.lastSampleNumber=parseInt(t.rawDataPacket[0]);let e=[];if(t.lastSampleNumber<=v.OBCIGanglionByteId18Bit.max)switch(Uo(t,ua(t.rawDataPacket.slice(v.OBCIGanglionPacket18Bit.dataStart,v.OBCIGanglionPacket18Bit.dataStop))),e.push(ie(t.lastSampleNumber*2-1,t.decompressedSamples[1],t.sendCounts)),e.push(ie(t.lastSampleNumber*2,t.decompressedSamples[2],t.sendCounts)),t.lastSampleNumber%10){case v.OBCIGanglionAccelAxisX:t.accelArray[0]=t.sendCounts?t.rawDataPacket.readInt8(v.OBCIGanglionPacket18Bit.auxByte-1):t.rawDataPacket.readInt8(v.OBCIGanglionPacket18Bit.auxByte-1)*v.OBCIGanglionAccelScaleFactor;break;case v.OBCIGanglionAccelAxisY:t.accelArray[1]=t.sendCounts?t.rawDataPacket.readInt8(v.OBCIGanglionPacket18Bit.auxByte-1):t.rawDataPacket.readInt8(v.OBCIGanglionPacket18Bit.auxByte-1)*v.OBCIGanglionAccelScaleFactor;break;case v.OBCIGanglionAccelAxisZ:t.accelArray[2]=t.sendCounts?t.rawDataPacket.readInt8(v.OBCIGanglionPacket18Bit.auxByte-1):t.rawDataPacket.readInt8(v.OBCIGanglionPacket18Bit.auxByte-1)*v.OBCIGanglionAccelScaleFactor,t.sendCounts?e[0].accelData=t.accelArray:e[0].accelDataCounts=t.accelArray;break;default:break}else Uo(t,la(t.rawDataPacket.slice(v.OBCIGanglionPacket19Bit.dataStart,v.OBCIGanglionPacket19Bit.dataStop))),e.push(ie((t.lastSampleNumber-100)*2-1,t.decompressedSamples[1],t.sendCounts)),e.push(ie((t.lastSampleNumber-100)*2,t.decompressedSamples[2],t.sendCounts));for(let s=0;s<v.OBCINumberOfChannelsGanglion;s++)t.decompressedSamples[0][s]=t.decompressedSamples[2][s];return e}function cb(t){let e=parseInt(t.rawDataPacket[0]),s;switch(e){case v.OBCIGanglionByteIdImpedanceChannel1:s=1;break;case v.OBCIGanglionByteIdImpedanceChannel2:s=2;break;case v.OBCIGanglionByteIdImpedanceChannel3:s=3;break;case v.OBCIGanglionByteIdImpedanceChannel4:s=4;break;case v.OBCIGanglionByteIdImpedanceChannelReference:s=0;break}let u={channelNumber:s,impedanceValue:0},l=t.rawDataPacket.length;for(;Number.isNaN(Number(t.rawDataPacket.slice(1,l)))&&l!==0;)l--;return l!==0&&(u.impedanceValue=Number(t.rawDataPacket.slice(1,l))),u}function xn(t){t.multiPacketBuffer?t.multiPacketBuffer=Uint8Array.concat([Uint8Array.from(t.multiPacketBuffer),Uint8Array.from(t.rawDataPacket.slice(v.OBCIGanglionPacket19Bit.dataStart,v.OBCIGanglionPacket19Bit.dataStop))]):t.multiPacketBuffer=t.rawDataPacket.slice(v.OBCIGanglionPacket19Bit.dataStart,v.OBCIGanglionPacket19Bit.dataStop)}function aa(t){xn(t);let e=t.multiPacketBuffer.toString();return t.multiPacketBuffer=null,{message:e}}function Uo(t,e){for(let s=1;s<3;s++)for(let u=0;u<4;u++)t.decompressedSamples[s][u]=t.decompressedSamples[s-1][u]-e[s-1][u]}function ie(t,e,s){let u;if(s)u=va(t),u.channelDataCounts=e;else{u=ya(t);for(let l=0;l<v.OBCINumberOfChannelsGanglion;l++)u.channelData.push(e[l]*v.OBCIGanglionScaleFactorPerCountVolts)}return u.timestamp=Date.now(),u}function ca(t){return parseInt(t.rawDataPacket[0])===v.OBCIGanglionByteIdUncompressed?ub(t):ab(t)}function ub(t){t.lastSampleNumber=v.OBCIGanglionByteIdUncompressed;for(let e=0;e<4;e++)t.decompressedSamples[0][e]=at.interpret24bitAsInt32(t.rawDataPacket.slice(1+e*3,1+e*3+3));return[ie(0,t.decompressedSamples[0],t.sendCounts)]}function vt(t){let e=0;return t[2]&1>0&&(e=16383),e<<18|t[0]<<16|t[1]<<8|t[2]}function mt(t){let e=0;return t[2]&1>0&&(e=8191),e<<19|t[0]<<16|t[1]<<8|t[2]}function ua(t){let e=new Array(v.OBCIGanglionSamplesPerPacket);e[0]=[0,0,0,0],e[1]=[0,0,0,0];let s=[];for(let l=0;l<v.OBCIGanglionSamplesPerPacket;l++)s.push([0,0,0,0]);let u;return u=new Uint8Array([t[0]>>6,(t[0]&63)<<2|t[1]>>6,(t[1]&63)<<2|t[2]>>6]),s[0][0]=vt(u),u=new Uint8Array([(t[2]&63)>>4,t[2]<<4|t[3]>>4,t[3]<<4|t[4]>>4]),s[0][1]=vt(u),u=new Uint8Array([(t[4]&15)>>2,t[4]<<6|t[5]>>2,t[5]<<6|t[6]>>2]),s[0][2]=vt(u),u=new Uint8Array([t[6]&3,t[7],t[8]]),s[0][3]=vt(u),u=new Uint8Array([t[9]>>6,(t[9]&63)<<2|t[10]>>6,(t[10]&63)<<2|t[11]>>6]),s[1][0]=vt(u),u=new Uint8Array([(t[11]&63)>>4,t[11]<<4|t[12]>>4,t[12]<<4|t[13]>>4]),s[1][1]=vt(u),u=new Uint8Array([(t[13]&15)>>2,t[13]<<6|t[14]>>2,t[14]<<6|t[15]>>2]),s[1][2]=vt(u),u=new Uint8Array([t[15]&3,t[16],t[17]]),s[1][3]=vt(u),s}function la(t){let e=new Array(v.OBCIGanglionSamplesPerPacket);e[0]=[0,0,0,0],e[1]=[0,0,0,0];let s=[];for(let l=0;l<v.OBCIGanglionSamplesPerPacket;l++)s.push([0,0,0,0]);let u;return u=new Uint8Array([t[0]>>5,(t[0]&31)<<3|t[1]>>5,(t[1]&31)<<3|t[2]>>5]),s[0][0]=mt(u),u=new Uint8Array([(t[2]&31)>>2,t[2]<<6|t[3]>>2,t[3]<<6|t[4]>>2]),s[0][1]=mt(u),u=new Uint8Array([(t[4]&3)<<1|t[5]>>7,(t[5]&127)<<1|t[6]>>7,(t[6]&127)<<1|t[7]>>7]),s[0][2]=mt(u),u=new Uint8Array([(t[7]&127)>>4,(t[7]&15)<<4|t[8]>>4,(t[8]&15)<<4|t[9]>>4]),s[0][3]=mt(u),u=new Uint8Array([(t[9]&15)>>1,t[9]<<7|t[10]>>1,t[10]<<7|t[11]>>1]),s[1][0]=mt(u),u=new Uint8Array([(t[11]&1)<<2|t[12]>>6,t[12]<<2|t[13]>>6,t[13]<<2|t[14]>>6]),s[1][1]=mt(u),u=new Uint8Array([(t[14]&56)>>3,(t[14]&7)<<5|(t[15]&248)>>3,(t[15]&7)<<5|(t[16]&248)>>3]),s[1][2]=mt(u),u=new Uint8Array([t[16]&7,t[17],t[18]]),s[1][3]=mt(u),s}function Lo(t){return{channel:t,P:{raw:-1,text:v.OBCIImpedanceTextInit},N:{raw:-1,text:v.OBCIImpedanceTextInit}}}function lb(){return{boardTime:0,correctedTransmissionTime:!1,error:null,timeSyncSent:0,timeSyncSentConfirmation:0,timeSyncSetPacket:0,timeRoundTrip:0,timeTransmission:0,timeOffset:0,timeOffsetMaster:0,valid:!1}}function fb(t){let e=[];for(let s=0;s<t.rawDataPackets.length;s++){t.rawDataPacket=t.rawDataPackets[s];let u=fa(t);e.push(u),u.hasOwnProperty("sampleNumber")?t.lastSampleNumber=u.sampleNumber:u.hasOwnProperty("impedanceValue")||(t.lastSampleNumber=t.rawDataPacket[v.OBCIPacketPositionSampleNumber])}return e}function fa(t){let e;try{switch(ba(t.rawDataPacket[v.OBCIPacketPositionStopByte])){case v.OBCIStreamPacketStandardAccel:e=at.parsePacketStandardAccel(t);break;case v.OBCIStreamPacketStandardRawAux:e=at.parsePacketStandardRawAux(t);break;case v.OBCIStreamPacketAccelTimeSyncSet:case v.OBCIStreamPacketAccelTimeSynced:e=at.parsePacketTimeSyncedAccel(t);break;case v.OBCIStreamPacketRawAuxTimeSyncSet:case v.OBCIStreamPacketRawAuxTimeSynced:e=at.parsePacketTimeSyncedRawAux(t);break;case v.OBCIStreamPacketImpedance:e=at.parsePacketImpedance(t);break;default:e={error:`bad stop byte ${t.rawDataPacket.slice(32,33).toString("hex")}`,valid:!1,rawDataPacket:t.rawDataPacket},t.verbose&&console.log(e.error);break}}catch(s){e={error:s,valid:!1,rawDataPacket:t.rawDataPacket},t.verbose&&console.log(s)}return e}function pb(t,e){for(let s=0;s<v.OBCINumberOfChannelsGanglion;s++)e.writeInt16BE(t[s]>>8,s*3),e.writeInt8(t[s]&255,s*3+2)}function hb(t){if(v.isUndefined(t)||v.isUndefined(t.rawDataPacket)||v.isNull(t.rawDataPacket)||v.isUndefined(t.data)||v.isNull(t.data))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(!t.hasOwnProperty("sampleNumber"))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(t.rawDataPacket.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);if(t.data.byteLength!==v.OBCIPacketSizeBLERaw)throw new Error(v.OBCIErrorInvalidByteLength);t.data.copy(t.rawDataPacket,v.OBCIPacketPositionChannelDataStart),t.rawDataPacket[v.OBCIPacketPositionSampleNumber]=t.sampleNumber,t.rawDataPacket[v.OBCIPacketPositionStartByte]=v.OBCIByteStart,t.rawDataPacket[v.OBCIPacketPositionStopByte]=v.OBCIStreamPacketStandardRawAux}function db(t){if(v.isUndefined(t)||v.isUndefined(t.rawDataPacket)||v.isNull(t.rawDataPacket))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(t.rawDataPacket.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);if(t.rawDataPacket[0]!==v.OBCIByteStart)throw new Error(v.OBCIErrorInvalidByteStart);let e={};return(v.isUndefined(t.scale)||v.isNull(t.scale))&&(t.scale=!0),t.scale?e.accelData=ha(t.rawDataPacket.slice(v.OBCIPacketPositionStartAux,v.OBCIPacketPositionStopAux+1)):e.accelDataCounts=da(t.rawDataPacket.slice(v.OBCIPacketPositionStartAux,v.OBCIPacketPositionStopAux+1)),t.scale?e.channelData=de(t):e.channelDataCounts=be(t),e.auxData=Uint8Array.from(t.rawDataPacket.slice(v.OBCIPacketPositionStartAux,v.OBCIPacketPositionStopAux+1)),e.sampleNumber=t.rawDataPacket[v.OBCIPacketPositionSampleNumber],e.startByte=t.rawDataPacket[0],e.stopByte=t.rawDataPacket[v.OBCIPacketPositionStopByte],e.valid=!0,e.timestamp=Date.now(),e.boardTime=0,e}function bb(t){if(v.isUndefined(t)||v.isUndefined(t.rawDataPacket)||v.isNull(t.rawDataPacket))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(t.rawDataPacket.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);if(t.rawDataPacket[0]!==v.OBCIByteStart)throw new Error(v.OBCIErrorInvalidByteStart);let e={};return(v.isUndefined(t.scale)||v.isNull(t.scale))&&(t.scale=!0),t.scale?e.channelData=de(t):e.channelDataCounts=be(t),e.auxData=Uint8Array.from(t.rawDataPacket.slice(v.OBCIPacketPositionStartAux,v.OBCIPacketPositionStopAux+1)),e.sampleNumber=t.rawDataPacket[v.OBCIPacketPositionSampleNumber],e.startByte=t.rawDataPacket[0],e.stopByte=t.rawDataPacket[v.OBCIPacketPositionStopByte],e.valid=!0,e.timestamp=Date.now(),e.boardTime=0,e}function yb(t){if(v.isUndefined(t)||v.isUndefined(t.rawDataPacket)||v.isNull(t.rawDataPacket))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(t.rawDataPacket.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);if(t.rawDataPacket[0]!==v.OBCIByteStart)throw new Error(v.OBCIErrorInvalidByteStart);let e={};return e.sampleNumber=t.rawDataPacket[v.OBCIPacketPositionSampleNumber],e.startByte=t.rawDataPacket[0],e.stopByte=t.rawDataPacket[v.OBCIPacketPositionStopByte],e.boardTime=In(t.rawDataPacket),t.hasOwnProperty("timeOffset")?e.timestamp=e.boardTime+t.timeOffset:e.timestamp=Date.now(),e.auxData=Pn(t.rawDataPacket),(v.isUndefined(t.scale)||v.isNull(t.scale))&&(t.scale=!0),t.scale?e.channelData=de(t):e.channelDataCounts=be(t),pa(t)&&(t.scale?e.accelData=t.accelArray:e.accelDataCounts=t.accelArray),e.valid=!0,e}function vb(t){if(v.isUndefined(t)||v.isUndefined(t.rawDataPacket)||v.isNull(t.rawDataPacket))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(t.rawDataPacket.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);if(t.rawDataPacket[0]!==v.OBCIByteStart)throw new Error(v.OBCIErrorInvalidByteStart);let e={};return e.sampleNumber=t.rawDataPacket[v.OBCIPacketPositionSampleNumber],e.startByte=t.rawDataPacket[0],e.stopByte=t.rawDataPacket[v.OBCIPacketPositionStopByte],e.boardTime=In(t.rawDataPacket),t.hasOwnProperty("timeOffset")?e.timestamp=e.boardTime+t.timeOffset:e.timestamp=Date.now(),e.auxData=Pn(t.rawDataPacket),(v.isUndefined(t.scale)||v.isNull(t.scale))&&(t.scale=!0),t.scale?e.channelData=de(t):e.channelDataCounts=be(t),e.valid=!0,e}function mb(t){if(v.isUndefined(t)||v.isUndefined(t.rawDataPacket)||v.isNull(t.rawDataPacket))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(t.rawDataPacket.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);let e={};return e.channelNumber=t.rawDataPacket[1],e.channelNumber===5&&(e.channelNumber=0),e.impedanceValue=Number(t.rawDataPacket.toString().match(/\d+/)[0]),e}function pe(t,e,s){let u=t.match(e);if(u){let l=parseInt(t.charAt(u.index+s));if(Number.isNaN(l))throw new Error(v.OBCIErrorInvalidData);return Boolean(l)}else throw new Error(v.OBCIErrorMissingRegisterSetting)}function Ur(t){return pe(t,v.OBCIRegisterQueryNameMISC1,21)}function Lr(t,e){return pe(t,v.OBCIRegisterQueryNameBIASSENSP,20+e*3)}function Vr(t,e,s){let u=t.match(e);if(u){let l=parseInt(t.charAt(u.index+s)),p=parseInt(t.charAt(u.index+s+3)),a=parseInt(t.charAt(u.index+s+6));if(!Number.isNaN(l)&&!Number.isNaN(p)&&!Number.isNaN(a))return l<<2|p<<1|a;throw new Error(v.OBCIErrorInvalidData)}else throw new Error(v.OBCIErrorMissingRegisterSetting)}function Jr(t,e){let s=v.OBCIRegisterQueryNameCHnSET[e.channelNumber];s===void 0&&(s=v.OBCIRegisterQueryNameCHnSET[e.channelNumber-v.OBCINumberOfChannelsCyton]),e.powerDown=pe(t,s,16),e.gain=v.gainForCommand(Vr(t,s,19)),e.inputType=v.inputTypeForCommand(Vr(t,s,31)),e.srb2=pe(t,s,28)}function _b(t){if(v.isUndefined(t)||v.isUndefined(t.channelSettings)||v.isNull(t.channelSettings)||v.isUndefined(t.data)||v.isNull(t.data))throw new Error(v.OBCIErrorUndefinedOrNullInput);if(!Array.isArray(t.channelSettings))throw new Error(`${v.OBCIErrorInvalidType} channelSettings`);if(t.channelSettings.length===v.OBCINumberOfChannelsCyton){if(t.data.toString().match(/Daisy ADS/))throw new Error("raw data mismatch - expected only cyton register info but also found daisy");if(t.data.toString().match(/Board ADS/)==null)throw new Error(v.OBCIErrorInvalidData)}else{if(t.data.toString().match(/Daisy ADS/)==null)throw new Error("raw data mismatch - expected daisy register info but none found");if(t.data.toString().match(/Board ADS/)==null)throw new Error("no Board ADS info found")}t.channelSettings.forEach(a=>{if(!a.hasOwnProperty("channelNumber")||!a.hasOwnProperty("powerDown")||!a.hasOwnProperty("gain")||!a.hasOwnProperty("inputType")||!a.hasOwnProperty("bias")||!a.hasOwnProperty("srb2")||!a.hasOwnProperty("srb1"))throw new Error(v.OBCIErrorMissingRequiredProperty)});let e=null,s=!1,u=!1,l=t.data.toString().match(/Board ADS/),p=t.data.toString().slice(l.index,v.OBCIRegisterQueryCyton.length);if(Ur(p)&&(s=!0),t.channelSettings.length>v.OBCINumberOfChannelsCyton){let a=t.data.toString().match(/Daisy ADS/);e=t.data.toString().slice(a.index,a.index+v.OBCIRegisterQueryCytonDaisy.length),Ur(p)&&(u=!0)}t.channelSettings.forEach(a=>{a.channelNumber<v.OBCINumberOfChannelsCyton?(Jr(p,a),a.bias=Lr(p,a.channelNumber),a.srb1=s):(Jr(e,a),a.bias=Lr(e,a.channelNumber-v.OBCINumberOfChannelsCyton),a.srb1=u)})}function In(t){let e=v.OBCIPacketSize-1;if(t.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);return t.readUInt32BE(e-v.OBCIStreamPacketTimeByteSize)}function pa(t){let e=v.OBCIPacketSize-1-v.OBCIStreamPacketTimeByteSize-2;if(t.rawDataPacket.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);let s=t.rawDataPacket[v.OBCIPacketPositionSampleNumber],u=at.interpret16bitAsInt32(t.rawDataPacket.slice(e,e+2));switch(s%10){case v.OBCIAccelAxisX:return t.accelArray[0]=t.scale?u*Vt:u,!1;case v.OBCIAccelAxisY:return t.accelArray[1]=t.scale?u*Vt:u,!1;case v.OBCIAccelAxisZ:return t.accelArray[2]=t.scale?u*Vt:u,!0;default:return!1}}function Pn(t){if(t.byteLength!==v.OBCIPacketSize)throw new Error(v.OBCIErrorInvalidByteLength);return Uint8Array.from(t.slice(v.OBCIPacketPositionTimeSyncAuxStart,v.OBCIPacketPositionTimeSyncAuxStop))}function ha(t){let e=[];for(let s=0;s<sa;s++){let u=s*2;e.push(at.interpret16bitAsInt32(t.slice(u,u+2))*Vt)}return e}function da(t){let e=[];for(let s=0;s<sa;s++){let u=s*2;e.push(at.interpret16bitAsInt32(t.slice(u,u+2)))}return e}function de(t){if(!Array.isArray(t.channelSettings))throw new Error("Error [getChannelDataArray]: Channel Settings must be an array!");t.hasOwnProperty("protocol")||(t.protocol=v.OBCIProtocolSerial);let e=[],s=t.channelSettings.length,u=t.rawDataPacket[v.OBCIPacketPositionSampleNumber],l=s===v.OBCINumberOfChannelsDaisy,p=v.OBCINumberOfChannelsCyton;l||(p=t.channelSettings.length);for(let a=0;a<p;a++){if(!t.channelSettings[a].hasOwnProperty("gain"))throw new Error(`Error [getChannelDataArray]: Invalid channel settings object at index ${a}`);if(!v.isNumber(t.channelSettings[a].gain))throw new Error("Error [getChannelDataArray]: Property gain of channelSettingsObject not or type Number");let i=0;if(t.protocol===v.OBCIProtocolSerial)ma(u)&&l?i=jt/t.channelSettings[a+v.OBCINumberOfChannelsDefault].gain/(Math.pow(2,23)-1):i=jt/t.channelSettings[a].gain/(Math.pow(2,23)-1);else if(t.protocol===v.OBCIProtocolWifi)l?t.lastSampleNumber===u?i=jt/t.channelSettings[a+v.OBCINumberOfChannelsDefault].gain/(Math.pow(2,23)-1):i=jt/t.channelSettings[a].gain/(Math.pow(2,23)-1):t.channelSettings.length===v.OBCINumberOfChannelsCyton?i=jt/t.channelSettings[a].gain/(Math.pow(2,23)-1):i=v.OBCIGanglionScaleFactorPerCountVolts;else if(t.protocol===v.OBCIProtocolBLE)i=jt/t.channelSettings[a].gain/(Math.pow(2,23)-1);else throw new Error("Error [getChannelDataArray]: Invalid protocol must be wifi or serial");e.push(i*at.interpret24bitAsInt32(t.rawDataPacket.slice(a*3+v.OBCIPacketPositionChannelDataStart,a*3+v.OBCIPacketPositionChannelDataStart+3)))}return e}function be(t){if(!Array.isArray(t.channelSettings))throw new Error("Error [getChannelDataArrayNoScale]: Channel Settings must be an array!");let e=[],s=t.channelSettings.length;s>v.OBCINumberOfChannelsDefault&&(s=v.OBCINumberOfChannelsDefault);for(let u=0;u<s;u++)e.push(at.interpret24bitAsInt32(t.rawDataPacket.slice(u*3+v.OBCIPacketPositionChannelDataStart,u*3+v.OBCIPacketPositionChannelDataStart+3)));return e}function ba(t){return t&15}function yt(t){return t||t===0?t>255&&(t=255):t=69,t}function ya(t){return t||t===0?t>255&&(t=255):t=0,{startByte:v.OBCIByteStart,sampleNumber:t,channelData:[],accelData:[],auxData:null,stopByte:v.OBCIByteStop,boardTime:0,timestamp:0,valid:!0}}function va(t){return t||t===0?t>255&&(t=255):t=0,{startByte:v.OBCIByteStart,sampleNumber:t,channelDataCounts:[],accelDataCounts:[],auxData:null,stopByte:v.OBCIByteStop,boardTime:0,timestamp:0,valid:!0}}function ce(t){let e=new Uint8Array(3);e.fill(0);let s=t/(jt/24/(Math.pow(2,23)-1));return s=Math.floor(s),e[2]=s&255,e[1]=(s&255<<8)>>8,e[0]=(s&255<<16)>>16,e}function Vo(t){let e=new Uint8Array(2);e.fill(0);let s=t/Vt;return s=Math.floor(s),e[1]=s&255,e[0]=(s&255<<8)>>8,e}function Ob(t,e){let s={};return t.hasOwnProperty("channelData")&&(s.channelData=t.channelData.concat(e.channelData)),t.hasOwnProperty("channelDataCounts")&&(s.channelDataCounts=t.channelDataCounts.concat(e.channelDataCounts)),s.sampleNumber=Math.floor(e.sampleNumber/2),s.auxData={lower:t.auxData,upper:e.auxData},s.stopByte=t.stopByte,s.timestamp=(t.timestamp+e.timestamp)/2,s._timestamps={lower:t.timestamp,upper:e.timestamp},t.hasOwnProperty("accelData")&&(t.accelData[0]>0||t.accelData[1]>0||t.accelData[2]>0?s.accelData=t.accelData:s.accelData=e.accelData),t.hasOwnProperty("accelDataCounts")&&(t.accelDataCounts[0]>0||t.accelDataCounts[1]>0||t.accelDataCounts[2]>0?s.accelDataCounts=t.accelDataCounts:s.accelDataCounts=e.accelDataCounts),s.valid=!0,s}function gb(t,e){let s={};return t.hasOwnProperty("channelData")&&(s.channelData=t.channelData.concat(e.channelData)),t.hasOwnProperty("channelDataCounts")&&(s.channelDataCounts=t.channelDataCounts.concat(e.channelDataCounts)),s.sampleNumber=e.sampleNumber,s.auxData={lower:t.auxData,upper:e.auxData},t.hasOwnProperty("timestamp")&&(s.timestamp=t.timestamp),s.stopByte=t.stopByte,s._timestamps={lower:t.timestamp,upper:e.timestamp},t.hasOwnProperty("accelData")&&(t.accelData[0]>0||t.accelData[1]>0||t.accelData[2]>0?s.accelData=t.accelData:s.accelData=e.accelData),t.hasOwnProperty("accelDataCounts")&&(t.accelDataCounts[0]>0||t.accelDataCounts[1]>0||t.accelDataCounts[2]>0?s.accelDataCounts=t.accelDataCounts:s.accelDataCounts=e.accelDataCounts),s.valid=!0,s}function ma(t){return t%2===0}function Sb(t){return t%2===1}function wb(t){let e=/v\d.\d*.\d*/,s=t.toString().match(e);if(s){let u=s[0].split(".");return{major:Number(u[0][1]),minor:Number(u[1]),patch:Number(u[2]),raw:s[0]}}else return s}function Cb(t){let e=t.indexOf(v.OBCIParseEOT);if(e>=0)e+=v.OBCIParseEOT.length;else return t;return e<t.byteLength?Uint8Array.from(t.slice(e)):null}function xb(t){if(t){let e=t.length;switch(e){case 0:return!1;case 1:return t[0]===v.OBCISyncTimeSent.charCodeAt(0);case 2:return t[1]===v.OBCIByteStart?t[0]===v.OBCISyncTimeSent.charCodeAt(0):ue(t[0])?t[1]===v.OBCISyncTimeSent.charCodeAt(0):!1;default:if(t[0]===v.OBCISyncTimeSent.charCodeAt(0)&&t[1]===v.OBCIByteStart)return!0;for(let s=1;s<e;s++)if(s===e-1){if(ue(t[s-1]))return t[s]===v.OBCISyncTimeSent.charCodeAt(0)}else if(ue(t[s-1])&&t[s+1]===v.OBCIByteStart)return t[s]===v.OBCISyncTimeSent.charCodeAt(0);return!1}}}function Jo(t,e,s){let u=new Uint8Array(v.OBCIPacketSize);u.fill(0),u[0]=v.OBCIByteStart,u[1]=t.sampleNumber;for(let l=0;l<v.OBCINumberOfChannelsDefault;l++)ce(t.channelData[l]).copy(u,2+l*3);return s.copy(u,26),u.writeInt32BE(e,28),u[v.OBCIPacketSize-1]=$(v.OBCIStreamPacketRawAuxTimeSynced),u}function Go(t,e){let s=new Uint8Array(v.OBCIPacketSize);s.fill(0),s[0]=v.OBCIByteStart,s[1]=t.sampleNumber;for(let u=0;u<v.OBCINumberOfChannelsDefault;u++)ce(t.channelData[u]).copy(s,2+u*3);return s.writeInt32BE(e,28),s[v.OBCIPacketSize-1]=$(v.OBCIStreamPacketAccelTimeSynced),s}function $(t){return(t<0||t>15)&&(t=0),v.OBCIByteStop|t}function ue(t){return(t&240)===v.OBCIByteStop}var Ib=t=>{var e=t,{channelData:s}=e,u=Sf(e,["channelData"]);return jr(Nr({},u),{data:s})},Pb="ganglion",Bb={reader:"2d30c082-f39f-4ce6-923f-3484ea480596",writer:"2d30c083-f39f-4ce6-923f-3484ea480596",connection:"2d30c084-f39f-4ce6-923f-3484ea480596"},Ab="characteristicvaluechanged",Eb="gattserverdisconnected",Nb={filters:[{namePrefix:"Ganglion-"}],optionalServices:[65156]},jb={start:"b",accelData:"n"};function kb(t){let e=parseInt(t.rawDataPacket[0]);if(e<=v.OBCIGanglionByteId19Bit.max)return ca(t);switch(e){case v.OBCIGanglionByteIdMultiPacket:return processMultiBytePacket(t);case v.OBCIGanglionByteIdMultiPacketStop:return processMultiBytePacketStop(t);case v.OBCIGanglionByteIdImpedanceChannel1:case v.OBCIGanglionByteIdImpedanceChannel2:case v.OBCIGanglionByteIdImpedanceChannel3:case v.OBCIGanglionByteIdImpedanceChannel4:case v.OBCIGanglionByteIdImpedanceChannelReference:return processImpedanceData(t);default:return null}}var _a=class{constructor(t={}){this.options=t,this.gatt=null,this.device=null,this.deviceName=null,this.service=null,this.characteristics=null,this.onDisconnect$=new Fe,this.boardName=Pb,this.channelSize=4;function e(l){return{channelNumber:l,powerDown:!1,gain:24,inputType:"normal",bias:!0,srb2:!0,srb1:!1}}let s=l=>{for(var p=[],a=0;a<l;a++)p.push(e(a));return p};function u(l){let p=[];for(let a=0;a<3;a++)p.push(new Array(l));return p}this.rawDataPacketToSample={accelArray:[0,0,0],channelSettings:s(4),decompressedSamples:u(4),lastSampleNumber:0,rawDataPacket:new Uint8Array(33).buffer,rawDataPackets:[],scale:!0,sendCounts:!1,timeOffset:0,verbose:!1},this.connectionStatus=new qf(!1),this.stream=new Fe().pipe(oe(l=>this.eventToBufferMapper(l)),xp(l=>this.setRawDataPacket(l)),oe(()=>kb(this.rawDataPacketToSample)),$r(l=>l),oe(Ib),Cp(this.onDisconnect$)),this.accelData=this.stream.pipe(Zo(l=>l.accelData.length))}eventToBufferMapper(t){return new Uint8Array(t.target.value.buffer)}setRawDataPacket(t){this.rawDataPacketToSample.rawDataPacket=t}connect(){return vi(this,null,function*(){this.device=yield navigator.bluetooth.requestDevice(Nb),this.addDisconnectedEvent(),this.gatt=yield this.device.gatt.connect(),this.deviceName=this.gatt.device.name,this.service=yield this.gatt.getPrimaryService(65156),this.setCharacteristics(yield this.service.getCharacteristics()),this.connectionStatus.next(!0)})}setCharacteristics(t){this.characteristics=Object.entries(Bb).reduce((e,[s,u])=>jr(Nr({},e),{[s]:t.find(l=>l.uuid===u)}),{})}start(){return vi(this,null,function*(){let{reader:t,writer:e}=this.characteristics,s=Object.entries(jb).reduce((u,[l,p])=>jr(Nr({},u),{[l]:new TextEncoder().encode(p)}),{});t.startNotifications(),t.addEventListener(Ab,u=>{this.stream.next(u)}),this.options.accelData&&(yield e.writeValue(s.accelData),t.readValue()),yield e.writeValue(s.start),t.readValue()})}addDisconnectedEvent(){Mr(this.device,Eb).pipe(wp()).subscribe(()=>{this.gatt=null,this.device=null,this.deviceName=null,this.service=null,this.characteristics=null,this.connectionStatus.next(!1)})}disconnect(){!this.gatt||(this.onDisconnect$.next(),this.gatt.disconnect())}};var zt=250,Bn={sps:zt,connect:(t={})=>new Promise(async(e,s)=>{let u=`ganglion${Math.floor(Math.random()*1e15)}`,l=new _a,p={_id:u,client:l,settings:Object.assign(Object.assign({},Bn),t)};await l.connect(),await l.start(),l.stream.subscribe(a=>{a.origin="eeg",p.settings.ondata(a)}),l.accelData.subscribe(a=>{a.origin="accelerometer",p.settings.ondata(a)}),p.settings.onconnect&&p.settings.onconnect(p),e(p)}),codec:t=>{let e=t.origin;if(e==="eeg")return{0:t.data[0],1:t.data[1],2:t.data[2],3:t.data[3],timestamp:Date.now()};if(e==="accelerometer")return{ax:t.data[0],ay:t.data[1],az:t.data[2],timestamp:Date.now()}},disconnect:t=>{t.client.disconnect(),t.settings.ondisconnect(t)},onconnect:t=>{console.log("ganglion connected!",t)},ondisconnect:t=>{console.log("ganglion disconnected!",t)},ondata:t=>{console.log(t)}},Je={sps:zt,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},Dy={0:JSON.parse(JSON.stringify(Je)),1:JSON.parse(JSON.stringify(Je)),2:JSON.parse(JSON.stringify(Je)),3:JSON.parse(JSON.stringify(Je))},Ge={nSec:10,sps:zt,units:"mV"},Ty={lines:{0:JSON.parse(JSON.stringify(Ge)),1:JSON.parse(JSON.stringify(Ge)),2:JSON.parse(JSON.stringify(Ge)),3:JSON.parse(JSON.stringify(Ge)),ax:{nSec:10,sps:zt,units:"mg"},ay:{nSec:10,sps:zt,units:"mg"},az:{nSec:10,sps:zt,units:"mg"}},generateNewLines:!0};function Mt(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={0:new Array(9),1:new Array(9),2:new Array(9),3:new Array(9),4:new Array(9),5:new Array(9),6:new Array(9),7:new Array(9),timestamp:Date.now()};for(let u=0;u<9;u++){let l=u*25;s[0][u]=A.bytesToInt24(e[l],e[l+1],e[l+2]),s[1][u]=A.bytesToInt24(e[l+3],e[l+4],e[l+5]),s[2][u]=A.bytesToInt24(e[l+6],e[l+7],e[l+8]),s[3][u]=A.bytesToInt24(e[l+9],e[l+10],e[l+11]),s[4][u]=A.bytesToInt24(e[l+12],e[l+13],e[l+14]),s[5][u]=A.bytesToInt24(e[l+15],e[l+16],e[l+17]),s[6][u]=A.bytesToInt24(e[l+18],e[l+19],e[l+20]),s[7][u]=A.bytesToInt24(e[l+21],e[l+22],e[l+23])}return s}var Ry=new TextDecoder;var Oa=250,gt={nSec:10,sps:Oa,units:"mV"},Db={lines:{0:JSON.parse(JSON.stringify(gt)),1:JSON.parse(JSON.stringify(gt)),2:JSON.parse(JSON.stringify(gt)),3:JSON.parse(JSON.stringify(gt)),4:JSON.parse(JSON.stringify(gt)),5:JSON.parse(JSON.stringify(gt)),6:JSON.parse(JSON.stringify(gt)),7:JSON.parse(JSON.stringify(gt))}},Tb=32,Mb=24,Fb=1.2,St={sps:Oa,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*Fb/(Tb*(Math.pow(2,Mb)-1))},Rb={0:JSON.parse(JSON.stringify(St)),1:JSON.parse(JSON.stringify(St)),2:JSON.parse(JSON.stringify(St)),3:JSON.parse(JSON.stringify(St)),4:JSON.parse(JSON.stringify(St)),5:JSON.parse(JSON.stringify(St)),6:JSON.parse(JSON.stringify(St)),7:JSON.parse(JSON.stringify(St))};function ga(t){let e;t.buffer?e=t:e=new Uint8Array(t);let s={};for(let l=0;l<8;l++){let p=1+3*l;s[l]=A.bytesToInt24(e[p],e[p+1],e[p+2])}let u=25;return s.ax=A.bytesToInt16(e[u],e[u+1]),s.ay=A.bytesToInt16(e[u+2],e[u+3]),s.az=A.bytesToInt16(e[u+4],e[u+5]),s.gx=A.bytesToInt16(e[u+6],e[u+7]),s.gy=A.bytesToInt16(e[u+8],e[u+9]),s.gz=A.bytesToInt16(e[u+10],e[u+11]),s.timestamp=Date.now(),s}function Ub(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={};for(let l=0;l<8;l++){let p=1+3*l;e[0]%2===0?s[l+7]=A.bytesToInt24(e[p],e[p+1],e[p+2]):s[l]=A.bytesToInt24(e[p],e[p+1],e[p+2])}let u=25;return s.ax=A.bytesToInt16(e[u],e[u+1]),s.ay=A.bytesToInt16(e[u+2],e[u+3]),s.az=A.bytesToInt16(e[u+4],e[u+5]),s.gx=A.bytesToInt16(e[u+6],e[u+7]),s.gy=A.bytesToInt16(e[u+8],e[u+9]),s.gz=A.bytesToInt16(e[u+10],e[u+11]),s}var ye=250,An={baudRate:115200,codec:ga,write:"b",beforedisconnect:(t,e)=>{t.writePort(e,"s")},buffering:{searchBytes:new Uint8Array([192,160])},sps:ye},Sa={baudRate:115200,codec:Ub,write:"b",beforedisconnect:(t,e)=>{t.writePort(e,"s")},buffering:{searchBytes:new Uint8Array([192,160])},sps:ye},wt={nSec:10,sps:ye,units:"mV"},qt={nSec:10,sps:ye},Lb={lines:{0:JSON.parse(JSON.stringify(wt)),1:JSON.parse(JSON.stringify(wt)),2:JSON.parse(JSON.stringify(wt)),3:JSON.parse(JSON.stringify(wt)),4:JSON.parse(JSON.stringify(wt)),5:JSON.parse(JSON.stringify(wt)),6:JSON.parse(JSON.stringify(wt)),7:JSON.parse(JSON.stringify(wt)),ax:JSON.parse(JSON.stringify(qt)),ay:JSON.parse(JSON.stringify(qt)),az:JSON.parse(JSON.stringify(qt)),gx:JSON.parse(JSON.stringify(qt)),gy:JSON.parse(JSON.stringify(qt)),gz:JSON.parse(JSON.stringify(qt))},generateNewLines:!0},K={sps:ye,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*4.5/(24*(Math.pow(2,23)-1))},Vb={0:JSON.parse(JSON.stringify(K)),1:JSON.parse(JSON.stringify(K)),2:JSON.parse(JSON.stringify(K)),3:JSON.parse(JSON.stringify(K)),4:JSON.parse(JSON.stringify(K)),5:JSON.parse(JSON.stringify(K)),6:JSON.parse(JSON.stringify(K)),7:JSON.parse(JSON.stringify(K)),8:JSON.parse(JSON.stringify(K)),9:JSON.parse(JSON.stringify(K)),10:JSON.parse(JSON.stringify(K)),11:JSON.parse(JSON.stringify(K)),12:JSON.parse(JSON.stringify(K)),13:JSON.parse(JSON.stringify(K)),14:JSON.parse(JSON.stringify(K)),15:JSON.parse(JSON.stringify(K))};function wa(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={};for(let l=0;l<128;l++){let p=l*3+1;s[l]=A.bytesToInt24(e[p],e[p+1],e[p+2])}let u=385;return s.ax=A.bytesToInt16(e[u],e[u+1]),s.ay=A.bytesToInt16(e[u+2],e[u+3]),s.az=A.bytesToInt16(e[u+4],e[u+5]),s.gx=A.bytesToInt16(e[u+6],e[u+7]),s.gy=A.bytesToInt16(e[u+8],e[u+9]),s.gz=A.bytesToInt16(e[u+10],e[u+11]),s.timestamp=Date.now(),s}var Ct=250,Ca={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:wa,sps:Ct,buffering:{searchBytes:new Uint8Array([192,160])}},xa={lines:{ax:{nSec:10,sps:Ct},ay:{nSec:10,sps:Ct},az:{nSec:10,sps:Ct},gx:{nSec:10,sps:Ct},gy:{nSec:10,sps:Ct},gz:{nSec:10,sps:Ct}}},Ia={};for(let t=0;t<128;t++)xa.lines[t]={sps:Ct,nSec:10,units:"mV"},Ia[t]={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,scalar:1e3*2.5/(32*(Math.pow(2,24)-1))};function En(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={};for(let l=0;l<32;l++){let p=l*3+1;s[l]=A.bytesToInt24(e[p],e[p+1],e[p+2])}let u=97;return s.ax=A.bytesToInt16(e[u],e[u+1]),s.ay=A.bytesToInt16(e[u+2],e[u+3]),s.az=A.bytesToInt16(e[u+4],e[u+5]),s.gx=A.bytesToInt16(e[u+6],e[u+7]),s.gy=A.bytesToInt16(e[u+8],e[u+9]),s.gz=A.bytesToInt16(e[u+10],e[u+11]),s.timestamp=Date.now(),s}var ve=512,Pa={baudRate:921600,bufferSize:2e3,frequency:1.9,codec:En,sps:ve,buffering:{searchBytes:new Uint8Array([192,160])}},Ba={baudRate:1e6,bufferSize:2e3,frequency:1.9,codec:En,sps:ve,buffering:{searchBytes:new Uint8Array([192,160])}},Wt={nSec:10,sps:ve},Aa={lines:{ax:JSON.parse(JSON.stringify(Wt)),ay:JSON.parse(JSON.stringify(Wt)),az:JSON.parse(JSON.stringify(Wt)),gx:JSON.parse(JSON.stringify(Wt)),gy:JSON.parse(JSON.stringify(Wt)),gz:JSON.parse(JSON.stringify(Wt))}},Ea={};for(let t=0;t<32;t++)Aa.lines[t]={sps:ve,nSec:10,units:"mV"},Ea[t]={sps:ve,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:1e3*2.5/(8*(Math.pow(2,24)-1))};var Jb=new TextDecoder;function jn(t){let e={timestamp:0,red:0,infrared:0,heg:0,ambient:0,temperature:0},s=Jb.decode(t),u=s.split("|");if(u.length===3)e.timestamp=Date.now(),e.red=parseInt(u[0]),e.infrared=parseInt(u[1]),e.heg=parseFloat(u[2]);else return u.length>=2?(e.timestamp=Date.now(),e.red=parseInt(u[1]),e.infrared=parseInt(u[2]),e.heg=parseFloat(u[3]),u[4]&&(e.ambient=parseFloat(u[4])),u[5]&&(e.temperature=parseFloat(u[5])),e):s}var Nn=40,ze={baudRate:115200,write:`t
`,codec:jn,sps:Nn},kn=Object.assign({},ze);kn.sps=19;var Na={sps:Nn,services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:jn,sps:Nn}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"},Dn=Object.assign({},ze);Dn.sps=19;function qe(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={red:new Array(32),ir:new Array(32),max_dietemp:A.get2sCompliment(e[193],8)+.0625*e[194],timestamp:Date.now()},u=0;for(;u<32;){let l=u*6;u%2===0?(s.ir[u]=(e[l+1]<<16|e[l+2]<<8|e[l+3])&524287,s.ir[u+1]=(e[l+4]<<16|e[l+5]<<8|e[l+6])&524287):(s.red[u-1]=(e[l+1]<<16|e[l+2]<<8|e[l+3])&524287,s.red[u]=(e[l+4]<<16|e[l+5]<<8|e[l+6])&524287),u++}return s}function We(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={ax:new Array(20),ay:new Array(20),az:new Array(20),gx:new Array(20),gy:new Array(20),gz:new Array(20),mpu_dietemp:(A.bytesToInt16(e[241],e[242])+521)/340+35,timestamp:Date.now()};for(let u=0;u<20;u++){let l=u*12;s.ax[u]=A.bytesToInt16(e[l+1],e[l+2]),s.ay[u]=A.bytesToInt16(e[l+3],e[l+4]),s.az[u]=A.bytesToInt16(e[l+5],e[l+6]),s.gx[u]=A.bytesToInt16(e[l+7],e[l+8]),s.gy[u]=A.bytesToInt16(e[l+9],e[l+10]),s.gz[u]=A.bytesToInt16(e[l+11],e[l+12])}return s}function ja(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={0:new Array,1:new Array,2:new Array,3:new Array,4:new Array,5:new Array,6:new Array,7:new Array,timestamp:Date.now()};for(let u=0;u<7;u++){let l=u*26+1;if(!e[l+23])break;s[0][u]=A.bytesToUInt24(e[l],e[l+1],e[l+2]),s[1][u]=A.bytesToUInt24(e[l+3],e[l+4],e[l+5]),s[2][u]=A.bytesToUInt24(e[l+6],e[l+7],e[l+8]),s[3][u]=A.bytesToUInt24(e[l+9],e[l+10],e[l+11]),s[4][u]=A.bytesToUInt24(e[l+12],e[l+13],e[l+14]),s[5][u]=A.bytesToUInt24(e[l+15],e[l+16],e[l+17]),s[6][u]=A.bytesToUInt24(e[l+18],e[l+19],e[l+20]),s[7][u]=A.bytesToUInt24(e[l+21],e[l+22],e[l+23])}return s}var Tn=250,ka={services:{["82046698-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{["8204669A-6313-4BB1-9645-6BA28BF86DF5".toLowerCase()]:{notify:!0,notifyCallback:void 0,codec:ja,sps:Tn}},["82E12914-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{["82E12915-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{write:void 0},["82E12916-9AFA-4648-BD1B-8E2B3DC6DAAF".toLowerCase()]:{read:!0}}},sps:Tn},xt={nSec:10,sps:Tn,units:"mV"},Gb={lines:{0:JSON.parse(JSON.stringify(xt)),1:JSON.parse(JSON.stringify(xt)),2:JSON.parse(JSON.stringify(xt)),3:JSON.parse(JSON.stringify(xt)),4:JSON.parse(JSON.stringify(xt)),5:JSON.parse(JSON.stringify(xt)),6:JSON.parse(JSON.stringify(xt)),7:JSON.parse(JSON.stringify(xt))}};var ut={2:{type:"POOR_SIGNAL",format:"<B",byteLength:1},144:{type:"heg",format:"<i",byteLength:4},145:{type:"filteredHEG",format:"<i",byteLength:4},147:{type:"rawdata4",format:"<iiii",byteLength:4*4},148:{type:"rawdata6",format:"<iiiiii",byteLength:4*6},160:{type:"sampleNumber",format:"<i",byteLength:4},176:{type:"debug0",format:"<i",byteLength:4},177:{type:"debug1",format:"<i",byteLength:4},178:{type:"debug2",format:"<i",byteLength:4},179:{type:"debug3",format:"<i",byteLength:4},180:{type:"debug4",format:"<iiiiii",byteLength:4*6},181:{type:"debug4",format:"<iiiiii",byteLength:4*6},182:{type:"rawdata27",format:"<B"+"i".repeat(26),byteLength:1+4*26}};function Da(t){let e={},s=0;for(;s<t.length;)if(ut[t[s]]&&s+1+ut[t[s]].byteLength<=t.length){let u=t.slice(s+1,s+1+ut[t[s]].byteLength).buffer,l=A.struct(ut[t[s]].format).unpack(u),p=ut[t[s]].type;p==="unfilteredHEG"||p==="heg"?l=l[0]/256:(p==="POOR_SIGNAL"||p==="sampleNumber"||p==="debug0"||p==="debug1"||p==="debug2"||p==="debug3")&&(l=l[0]),e[ut[t[s]].type]?Array.isArray(l)?e[ut[t[s]].type].push(...l):e[ut[t[s]].type].push(l):Array.isArray(l)?e[ut[t[s]].type]=l:e[ut[t[s]].type]=[l],s+=ut[t[s]].byteLength+1}else s++;return e.timestamp=Date.now(),e}var Ta={baudRate:38400,bufferSize:400,write:`protocol 3
`,buffering:{searchBytes:new Uint8Array([170,170])},codec:Da,sps:10.101};var zb=1013.25,He=t=>{let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={temp:[],pressure:[],humidity:[],altitude:[]};for(let u=0;u<3;u++){let l=u*24,p=A.bytesToUInt32(e[0+l],e[1+l],e[2+l],e[3+l]),a=A.bytesToUInt32(e[4+l],e[5+l],e[6+l],e[7+l]);s.temp.push(p+a/Math.pow(10,Math.ceil(Math.log10(a))));let i=A.bytesToUInt32(e[8+l],e[9+l],e[10+l],e[11+l]),r=A.bytesToUInt32(e[12+l],e[13+l],e[14+l],e[15+l]);s.pressure.push(i+r/Math.pow(10,Math.ceil(Math.log10(r))));let n=A.bytesToUInt32(e[16+l],e[17+l],e[18+l],e[19+l]),o=A.bytesToUInt32(e[20+l],e[21+l],e[22+l],e[23+l]);s.humidity.push(n+o/Math.pow(10,Math.ceil(Math.log10(o)))),s.altitude.push(Hb(s.pressure[u],s.temp[u]))}return s},qb=1/5.257,Wb=1/.0065;function Hb(t,e){return(Math.pow(zb/t,qb)-1)*(e+273.15)*Wb}function Ma(t){let e;t.getInt8?e=new Uint8Array(t.buffer):t.buffer?e=t:e=new Uint8Array(t);let s={};if(e[0]===2)Object.assign(s,Mt(e.subarray(2)));else if(e[0]===3){let u=Mt(e.subarray(2));Object.keys(u).forEach((l,p)=>{s[p+8]=u[l]})}else e[0]===4?Object.assign(s,We(e.subarray(2))):e[0]===5?Object.assign(s,qe(e.subarray(2))):e[0]===6?Object.assign(s,He(e.subarray(2))):Object.assign(s,Mt(e));return s}var Fa={baudRate:115200,buffering:{searchBytes:new Uint8Array([240,240])},codec:Ma,sps:250},Ra={sps:250,services:{"0000cafe-b0ba-8bad-f00d-deadbeef0000":{"0001cafe-b0ba-8bad-f00d-deadbeef0000":{write:void 0},"0002cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Mt,sps:250},"0003cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:qe,sps:100},"0004cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:We,sps:100},"0005cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:Mt,sps:250},"0006cafe-b0ba-8bad-f00d-deadbeef0000":{notify:!0,notifyCallback:void 0,codec:He,sps:3.33}}}},It={nSec:10,sps:250,units:"mV"},Yb={lines:{0:JSON.parse(JSON.stringify(It)),1:JSON.parse(JSON.stringify(It)),2:JSON.parse(JSON.stringify(It)),3:JSON.parse(JSON.stringify(It)),4:JSON.parse(JSON.stringify(It)),5:JSON.parse(JSON.stringify(It)),6:JSON.parse(JSON.stringify(It)),7:JSON.parse(JSON.stringify(It))},generateNewLines:!0,cleanGeneration:!1},Qb=32,$b=24,Kb=1.2,Z={sps:250,useDCBlock:!1,useBandpass:!1,bandpassLower:3,bandpassUpper:45,useScaling:!0,scalar:.96*1e3*Kb/(Qb*(Math.pow(2,$b)-1))},Zb={0:JSON.parse(JSON.stringify(Z)),1:JSON.parse(JSON.stringify(Z)),2:JSON.parse(JSON.stringify(Z)),3:JSON.parse(JSON.stringify(Z)),4:JSON.parse(JSON.stringify(Z)),5:JSON.parse(JSON.stringify(Z)),6:JSON.parse(JSON.stringify(Z)),7:JSON.parse(JSON.stringify(Z)),8:JSON.parse(JSON.stringify(Z)),9:JSON.parse(JSON.stringify(Z)),10:JSON.parse(JSON.stringify(Z)),11:JSON.parse(JSON.stringify(Z)),12:JSON.parse(JSON.stringify(Z)),13:JSON.parse(JSON.stringify(Z)),14:JSON.parse(JSON.stringify(Z)),15:JSON.parse(JSON.stringify(Z))};var Xb=new TextDecoder;function Mn(t){let e={timestamp:0,left_red:0,left_infrared:0,left_heg:0,center_red:0,center_infrared:0,center_heg:0,right_red:0,right_infrared:0,right_heg:0},s=Xb.decode(t),u=s.split("|");return u.length>=5?(e.timestamp=Date.now(),e.left_red=parseInt(u[1]),e.left_infrared=parseInt(u[2]),e.left_heg=parseFloat(u[3]),e.center_red=parseInt(u[4]),e.center_infrared=parseInt(u[5]),e.center_heg=parseFloat(u[6]),e.right_red=parseInt(u[7]),e.right_infrared=parseInt(u[8]),e.right_heg=parseFloat(u[9]),e):s}var Ua={baudRate:115200,codec:Mn},La={services:{["6E400001-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{"6e400002-b5a3-f393-e0a9-e50e24dcca9e":{write:"t"},"6e400003-b5a3-f393-e0a9-e50e24dcca9e":{notify:!0,notifyCallback:void 0,codec:Mn}},["6E400004-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{["6E400005-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0},["6E400006-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{write:void 0,notify:!0,notifyCallback:void 0},["6E400007-B5A3-F393-E0A9-E50E24DCCA9E".toLowerCase()]:{read:!0}}},androidWebBLE:"o"};function Ja(t){let e={red:t.getInt32(2),ir:t.getInt32(6),ir2:t.getInt32(10),timestamp:Date.now()};return e.heg=e.red/(.5*(e.ir+e.ir2)),e}var Va=40,Ga={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"3f3e3d3c-3b3a-3938-3736-353433323130":{notify:!0,notifyCallback:void 0,codec:Ja,sps:Va}}},sps:Va};function ty(t){let e={sred:t.getInt32(2),sir:t.getInt32(6),sir2:t.getInt32(10),timestamp:Date.now()};return e.sheg=e.sred/(.5*(e.sir+e.sir2)),e}function ey(t){let e={red:t.getInt32(2),ir:t.getInt32(6),ir2:t.getInt32(10),timestamp:Date.now()};return e.heg=e.sred/(.5*(e.ir+e.ir2)),e}var Fn=40,za={namePrefix:"blueberry",services:{"0f0e0d0c-0b0a-0908-0706-050403020100":{"1f1e1d1c-1b1a-1918-1716-151413121110":{write:void 0},"4f4e4d4c-4b6a-6968-6766-656463426160":{notify:!0,notifyCallback:void 0,codec:ey,sps:Fn},"4f4e4d4c-4b5a-5958-5756-555453425150":{notify:!0,notifyCallback:void 0,codec:ty,sps:Fn}}},sps:Fn};var Ye={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},ry={0:JSON.parse(JSON.stringify(Ye)),1:JSON.parse(JSON.stringify(Ye)),2:JSON.parse(JSON.stringify(Ye)),3:JSON.parse(JSON.stringify(Ye))},Qe={nSec:10,sps:250,units:"mV"},ny={lines:{0:JSON.parse(JSON.stringify(Qe)),1:JSON.parse(JSON.stringify(Qe)),2:JSON.parse(JSON.stringify(Qe)),3:JSON.parse(JSON.stringify(Qe)),ax:{nSec:10,sps:250,units:"mg"},ay:{nSec:10,sps:250,units:"mg"},az:{nSec:10,sps:250,units:"mg"}},generateNewLines:!0},me={sps:250,useDCBlock:!0,useBandpass:!0,bandpassLower:3,bandpassUpper:45},iy={0:JSON.parse(JSON.stringify(me)),1:JSON.parse(JSON.stringify(me)),2:JSON.parse(JSON.stringify(me)),3:JSON.parse(JSON.stringify(me)),4:JSON.parse(JSON.stringify(me))};function qa(t){return{hr:t.getInt8(1),timestamp:Date.now()}}var Wa={services:{heart_rate:{heart_rate_measurement:{notify:!0,notifyCallback:void 0,codec:qa}}}};var Rn={sps:250,simulate:{0:{sps:250,freq:1,amplitude:1,offset:0},1:{sps:250,freq:10,amplitude:1,offset:0},2:{sps:250,freq:100,amplitude:.5,offset:.5},3:{sps:250,freq:25,amplitude:1,offset:0}},connect:(t={})=>new Promise(async(e,s)=>{let l={_id:`simulated${Math.floor(Math.random()*1e15)}`,settings:Object.assign(Object.assign({},Rn),t)};l.settings.looping=!0;let p=50,a=Date.now(),i=()=>{if(l.settings.looping){let r={},n=Date.now(),o=n-a;for(let c in l.settings.simulate){let f=Math.floor(l.settings.simulate[c].sps*o/1e3);r[c]=new Array(f).fill(0),r[c]=r[c].map((h,d)=>Math.sin(2*Math.PI*l.settings.simulate[c].freq*.001*(a+o*(d+1)/f))*l.settings.simulate[c].amplitude+l.settings.simulate[c].offset)}a=n,r.timestamp=a,l.settings.ondata(r),setTimeout(()=>{i()},p)}};i(),l.settings.onconnect&&l.settings.onconnect(l),e(l)}),codec:t=>t,disconnect:t=>{console.log(t),t.settings.looping=!1,t.settings.ondisconnect(t)},onconnect:t=>{console.log("simulator connected!",t)},ondisconnect:t=>{console.log("simulator disconnected!",t)},ondata:t=>{}};var Ha={BLE:{nrf5x:Ra,hegduino:Na,hegduinoV1:Dn,cognixionONE:ka,statechanger:La,blueberry:Ga,blueberry2:za,heart_rate:Wa},USB:{nrf5x:Fa,freeEEG32:Pa,freeEEG32_optical:Ba,freeEEG128:Ca,hegduino:ze,hegduinoV1:kn,cyton:An,cyton_daisy:Sa,peanut:Ta,statechanger:Ua,cognixionONE:An},BLE_OTHER:{},USB_OTHER:{},OTHER:{simulator:Rn}};var G0=new TextDecoder;var oy={BLE_OTHER:{muse:Cr,ganglion:Bn}},Ya={};Object.assign(Ya,Ha);Object.assign(Ya,oy);})();
